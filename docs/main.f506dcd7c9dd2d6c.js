"use strict";(self.webpackChunknotes=self.webpackChunknotes||[]).push([[179],{564:()=>{function Ne(n){return"function"==typeof n}function wd(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const km=wd(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Vl(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class It{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(Ne(i))try{i()}catch(o){e=o instanceof km?o.errors:[o]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const o of r)try{Ik(o)}catch(s){e=e??[],s instanceof km?e=[...e,...s.errors]:e.push(s)}}if(e)throw new km(e)}}add(e){var t;if(e&&e!==this)if(this.closed)Ik(e);else{if(e instanceof It){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Vl(t,e)}remove(e){const{_finalizers:t}=this;t&&Vl(t,e),e instanceof It&&e._removeParent(this)}}It.EMPTY=(()=>{const n=new It;return n.closed=!0,n})();const wk=It.EMPTY;function Ek(n){return n instanceof It||n&&"closed"in n&&Ne(n.remove)&&Ne(n.add)&&Ne(n.unsubscribe)}function Ik(n){Ne(n)?n():n.unsubscribe()}const pa={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Nm={setTimeout(n,e,...t){const{delegate:i}=Nm;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=Nm;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function Ck(n){Nm.setTimeout(()=>{const{onUnhandledError:e}=pa;if(!e)throw n;e(n)})}function Om(){}const B9=Uw("C",void 0,void 0);function Uw(n,e,t){return{kind:n,value:e,error:t}}let ma=null;function Fm(n){if(pa.useDeprecatedSynchronousErrorHandling){const e=!ma;if(e&&(ma={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=ma;if(ma=null,t)throw i}}else n()}class jw extends It{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Ek(e)&&e.add(this)):this.destination=W9}static create(e,t,i){return new Ed(e,t,i)}next(e){this.isStopped?zw(function j9(n){return Uw("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?zw(function U9(n){return Uw("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?zw(B9,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const z9=Function.prototype.bind;function Hw(n,e){return z9.call(n,e)}class $9{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Lm(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Lm(i)}else Lm(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Lm(t)}}}class Ed extends jw{constructor(e,t,i){let r;if(super(),Ne(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&pa.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&Hw(e.next,o),error:e.error&&Hw(e.error,o),complete:e.complete&&Hw(e.complete,o)}):r=e}this.destination=new $9(r)}}function Lm(n){pa.useDeprecatedSynchronousErrorHandling?function H9(n){pa.useDeprecatedSynchronousErrorHandling&&ma&&(ma.errorThrown=!0,ma.error=n)}(n):Ck(n)}function zw(n,e){const{onStoppedNotification:t}=pa;t&&Nm.setTimeout(()=>t(n,e))}const W9={closed:!0,next:Om,error:function q9(n){throw n},complete:Om},$w="function"==typeof Symbol&&Symbol.observable||"@@observable";function as(n){return n}function qw(...n){return Tk(n)}function Tk(n){return 0===n.length?as:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let ze=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const o=function K9(n){return n&&n instanceof jw||function G9(n){return n&&Ne(n.next)&&Ne(n.error)&&Ne(n.complete)}(n)&&Ek(n)}(t)?t:new Ed(t,i,r);return Fm(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=xk(i))((r,o)=>{const s=new Ed({next:a=>{try{t(a)}catch(l){o(l),s.unsubscribe()}},error:o,complete:r});this.subscribe(s)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[$w](){return this}pipe(...t){return Tk(t)(this)}toPromise(t){return new(t=xk(t))((i,r)=>{let o;this.subscribe(s=>o=s,s=>r(s),()=>i(o))})}}return n.create=e=>new n(e),n})();function xk(n){var e;return null!==(e=n??pa.Promise)&&void 0!==e?e:Promise}const Y9=wd(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let te=(()=>{class n extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new Dk(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Y9}next(t){Fm(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){Fm(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Fm(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:o}=this;return i||r?wk:(this.currentObservers=null,o.push(t),new It(()=>{this.currentObservers=null,Vl(o,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){const t=new ze;return t.source=this,t}}return n.create=(e,t)=>new Dk(e,t),n})();class Dk extends te{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:wk}}function Sk(n){return Ne(n?.lift)}function Vt(n){return e=>{if(Sk(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function gt(n,e,t,i,r){return new Q9(n,e,t,i,r)}class Q9 extends jw{constructor(e,t,i,r,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(l){e.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function he(n,e){return Vt((t,i)=>{let r=0;t.subscribe(gt(i,o=>{i.next(n.call(e,o,r++))}))})}function Kw(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(n);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(n,i[r])&&(t[i[r]]=n[i[r]])}return t}function ls(n){return this instanceof ls?(this.v=n,this):new ls(n)}function kk(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Qw(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=n[o]&&function(s){return new Promise(function(a,l){!function r(o,s,a,l){Promise.resolve(l).then(function(c){o({value:c,done:a})},s)}(a,l,(s=n[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Xw=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function Nk(n){return Ne(n?.then)}function Ok(n){return Ne(n[$w])}function Fk(n){return Symbol.asyncIterator&&Ne(n?.[Symbol.asyncIterator])}function Lk(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Vk=function g7(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Bk(n){return Ne(n?.[Vk])}function Uk(n){return function Pk(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),o=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(h){i[h]&&(r[h]=function(f){return new Promise(function(p,m){o.push([h,f,p,m])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof ls?Promise.resolve(h.value.v).then(c,u):d(o[0][2],h)}(i[h](f))}catch(p){d(o[0][3],p)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield ls(t.read());if(r)return yield ls(void 0);yield yield ls(i)}}finally{t.releaseLock()}})}function jk(n){return Ne(n?.getReader)}function gn(n){if(n instanceof ze)return n;if(null!=n){if(Ok(n))return function _7(n){return new ze(e=>{const t=n[$w]();if(Ne(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Xw(n))return function y7(n){return new ze(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(Nk(n))return function v7(n){return new ze(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,Ck)})}(n);if(Fk(n))return Hk(n);if(Bk(n))return function b7(n){return new ze(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(jk(n))return function w7(n){return Hk(Uk(n))}(n)}throw Lk(n)}function Hk(n){return new ze(e=>{(function E7(n,e){var t,i,r,o;return function Rk(n,e,t,i){return new(t||(t=Promise))(function(o,s){function a(u){try{c(i.next(u))}catch(d){s(d)}}function l(u){try{c(i.throw(u))}catch(d){s(d)}}function c(u){u.done?o(u.value):function r(o){return o instanceof t?o:new t(function(s){s(o)})}(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=kk(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(s){r={error:s}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function yo(n,e,t,i=0,r=!1){const o=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(o),!r)return o}function $t(n,e,t=1/0){return Ne(e)?$t((i,r)=>he((o,s)=>e(i,o,r,s))(gn(n(i,r))),t):("number"==typeof e&&(t=e),Vt((i,r)=>function I7(n,e,t,i,r,o,s,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=m=>c<i?p(m):l.push(m),p=m=>{o&&e.next(m),c++;let g=!1;gn(t(m,u++)).subscribe(gt(e,b=>{r?.(b),o?f(b):e.next(b)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;l.length&&c<i;){const b=l.shift();s?yo(e,s,()=>p(b)):p(b)}h()}catch(b){e.error(b)}}))};return n.subscribe(gt(e,f,()=>{d=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function Bl(n=1/0){return $t(as,n)}const Xi=new ze(n=>n.complete());function zk(n){return n&&Ne(n.schedule)}function Zw(n){return n[n.length-1]}function $k(n){return Ne(Zw(n))?n.pop():void 0}function Id(n){return zk(Zw(n))?n.pop():void 0}function Vm(n,e=0){return Vt((t,i)=>{t.subscribe(gt(i,r=>yo(i,n,()=>i.next(r),e),()=>yo(i,n,()=>i.complete(),e),r=>yo(i,n,()=>i.error(r),e)))})}function Bm(n,e=0){return Vt((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function qk(n,e){if(!n)throw new Error("Iterable cannot be null");return new ze(t=>{yo(t,e,()=>{const i=n[Symbol.asyncIterator]();yo(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function _t(n,e){return e?function M7(n,e){if(null!=n){if(Ok(n))return function x7(n,e){return gn(n).pipe(Bm(e),Vm(e))}(n,e);if(Xw(n))return function S7(n,e){return new ze(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(Nk(n))return function D7(n,e){return gn(n).pipe(Bm(e),Vm(e))}(n,e);if(Fk(n))return qk(n,e);if(Bk(n))return function A7(n,e){return new ze(t=>{let i;return yo(t,e,()=>{i=n[Vk](),yo(t,e,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(s){return void t.error(s)}o?t.complete():t.next(r)},0,!0)}),()=>Ne(i?.return)&&i.return()})}(n,e);if(jk(n))return function R7(n,e){return qk(Uk(n),e)}(n,e)}throw Lk(n)}(n,e):gn(n)}function Ul(...n){const e=Id(n),t=function T7(n,e){return"number"==typeof Zw(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?gn(i[0]):Bl(t)(_t(i,e)):Xi}class Ri extends te{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function Z(...n){return _t(n,Id(n))}function Um(n={}){const{connector:e=(()=>new te),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return o=>{let s,a,l,c=0,u=!1,d=!1;const h=()=>{a?.unsubscribe(),a=void 0},f=()=>{h(),s=l=void 0,u=d=!1},p=()=>{const m=s;f(),m?.unsubscribe()};return Vt((m,g)=>{c++,!d&&!u&&h();const b=l=l??e();g.add(()=>{c--,0===c&&!d&&!u&&(a=Jw(p,r))}),b.subscribe(g),!s&&c>0&&(s=new Ed({next:_=>b.next(_),error:_=>{d=!0,h(),a=Jw(f,t,_),b.error(_)},complete:()=>{u=!0,h(),a=Jw(f,i),b.complete()}}),gn(m).subscribe(s))})(o)}}function Jw(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Ed({next:()=>{i.unsubscribe(),n()}});return gn(e(...t)).subscribe(i)}function ei(n,e){return Vt((t,i)=>{let r=null,o=0,s=!1;const a=()=>s&&!r&&i.complete();t.subscribe(gt(i,l=>{r?.unsubscribe();let c=0;const u=o++;gn(n(l,u)).subscribe(r=gt(i,d=>i.next(e?e(l,d,u,c++):d),()=>{r=null,a()}))},()=>{s=!0,a()}))})}function Wk(n,e=as){return n=n??P7,Vt((t,i)=>{let r,o=!0;t.subscribe(gt(i,s=>{const a=e(s);(o||!n(r,a))&&(o=!1,r=a,i.next(s))}))})}function P7(n,e){return n===e}function Qe(n){for(let e in n)if(n[e]===Qe)return e;throw Error("Could not find renamed property on target object.")}function jm(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function sn(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(sn).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function eE(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const k7=Qe({__forward_ref__:Qe});function lt(n){return n.__forward_ref__=lt,n.toString=function(){return sn(this())},n}function se(n){return tE(n)?n():n}function tE(n){return"function"==typeof n&&n.hasOwnProperty(k7)&&n.__forward_ref__===lt}function nE(n){return n&&!!n.\u0275providers}const Gk="https://g.co/ng/security#xss";class T extends Error{constructor(e,t){super(function Hm(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function le(n){return"string"==typeof n?n:null==n?"":String(n)}function iE(n,e){throw new T(-201,!1)}function Zi(n,e){null==n&&function re(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function N(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Ce(n){return{providers:n.providers||[],imports:n.imports||[]}}function zm(n){return Kk(n,qm)||Kk(n,Yk)}function Kk(n,e){return n.hasOwnProperty(e)?n[e]:null}function $m(n){return n&&(n.hasOwnProperty(rE)||n.hasOwnProperty(j7))?n[rE]:null}const qm=Qe({\u0275prov:Qe}),rE=Qe({\u0275inj:Qe}),Yk=Qe({ngInjectableDef:Qe}),j7=Qe({ngInjectorDef:Qe});var xe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(xe||{});let oE;function _i(n){const e=oE;return oE=n,e}function Xk(n,e,t){const i=zm(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&xe.Optional?null:void 0!==e?e:void iE(sn(n))}const rt=globalThis;class S{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=N({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Cd={},uE="__NG_DI_FLAG__",Wm="ngTempTokenPath",$7=/\n/gm,Jk="__source";let jl;function cs(n){const e=jl;return jl=n,e}function G7(n,e=xe.Default){if(void 0===jl)throw new T(-203,!1);return null===jl?Xk(n,void 0,e):jl.get(n,e&xe.Optional?null:void 0,e)}function C(n,e=xe.Default){return(function Qk(){return oE}()||G7)(se(n),e)}function F(n,e=xe.Default){return C(n,Gm(e))}function Gm(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function dE(n){const e=[];for(let t=0;t<n.length;t++){const i=se(n[t]);if(Array.isArray(i)){if(0===i.length)throw new T(900,!1);let r,o=xe.Default;for(let s=0;s<i.length;s++){const a=i[s],l=K7(a);"number"==typeof l?-1===l?r=a.token:o|=l:r=a}e.push(C(r,o))}else e.push(C(i))}return e}function Td(n,e){return n[uE]=e,n.prototype[uE]=e,n}function K7(n){return n[uE]}function vo(n){return{toString:n}.toString()}var Km=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Km||{}),Ji=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ji||{});const Pr={},je=[],Ym=Qe({\u0275cmp:Qe}),hE=Qe({\u0275dir:Qe}),Qm=Qe({\u0275pipe:Qe}),t1=Qe({\u0275mod:Qe}),bo=Qe({\u0275fac:Qe}),xd=Qe({__NG_ELEMENT_ID__:Qe}),n1=Qe({__NG_ENV_ID__:Qe});function r1(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const o=e.length;if(r+o===i||n.charCodeAt(r+o)<=32)return r}t=r+1}}function fE(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const o=t[i++],s=t[i++],a=t[i++];n.setAttribute(e,s,a,o)}else{const o=r,s=t[++i];s1(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),i++}}return i}function o1(n){return 3===n||4===n||6===n}function s1(n){return 64===n.charCodeAt(0)}function Dd(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||a1(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function a1(n,e,t,i,r){let o=0,s=n.length;if(-1===e)s=-1;else for(;o<n.length;){const a=n[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<n.length;){const a=n[o];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[o+1]=r));if(i===n[o+1])return void(n[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),null!==i&&n.splice(o++,0,i),null!==r&&n.splice(o++,0,r)}const l1="ng-template";function X7(n,e,t){let i=0,r=!0;for(;i<n.length;){let o=n[i++];if("string"==typeof o&&r){const s=n[i++];if(t&&"class"===o&&-1!==r1(s.toLowerCase(),e,0))return!0}else{if(1===o){for(;i<n.length&&"string"==typeof(o=n[i++]);)if(o.toLowerCase()===e)return!0;return!1}"number"==typeof o&&(r=!1)}}return!1}function c1(n){return 4===n.type&&n.value!==l1}function Z7(n,e,t){return e===(4!==n.type||t?n.value:l1)}function J7(n,e,t){let i=4;const r=n.attrs||[],o=function nK(n){for(let e=0;e<n.length;e++)if(o1(n[e]))return e;return n.length}(r);let s=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!Z7(n,l,t)||""===l&&1===e.length){if(fr(i))return!1;s=!0}}else{const c=8&i?l:e[++a];if(8&i&&null!==n.attrs){if(!X7(n.attrs,c,t)){if(fr(i))return!1;s=!0}continue}const d=eK(8&i?"class":l,r,c1(n),t);if(-1===d){if(fr(i))return!1;s=!0;continue}if(""!==c){let h;h=d>o?"":r[d+1].toLowerCase();const f=8&i?h:null;if(f&&-1!==r1(f,c,0)||2&i&&c!==h){if(fr(i))return!1;s=!0}}}}else{if(!s&&!fr(i)&&!fr(l))return!1;if(s&&fr(l))continue;s=!1,i=l|1&i}}return fr(i)||s}function fr(n){return 0==(1&n)}function eK(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let o=!1;for(;r<e.length;){const s=e[r];if(s===n)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function iK(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function u1(n,e,t=!1){for(let i=0;i<e.length;i++)if(J7(n,e[i],t))return!0;return!1}function rK(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function d1(n,e){return n?":not("+e.trim()+")":e}function oK(n){let e=n[0],t=1,i=2,r="",o=!1;for(;t<n.length;){let s=n[t];if("string"==typeof s)if(2&i){const a=n[++t];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""!==r&&!fr(s)&&(e+=d1(o,r),r=""),i=s,o=o||!fr(i);t++}return""!==r&&(e+=d1(o,r)),e}function $e(n){return vo(()=>{const e=f1(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Km.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ji.Emulated,styles:n.styles||je,_:null,schemas:n.schemas||null,tView:null,id:""};p1(t);const i=n.dependencies;return t.directiveDefs=Xm(i,!1),t.pipeDefs=Xm(i,!0),t.id=function fK(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function cK(n){return Fe(n)||An(n)}function uK(n){return null!==n}function De(n){return vo(()=>({type:n.type,bootstrap:n.bootstrap||je,declarations:n.declarations||je,imports:n.imports||je,exports:n.exports||je,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function h1(n,e){if(null==n)return Pr;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),t[r]=i,e&&(e[r]=o)}return t}function z(n){return vo(()=>{const e=f1(n);return p1(e),e})}function Fe(n){return n[Ym]||null}function An(n){return n[hE]||null}function ti(n){return n[Qm]||null}function Pi(n,e){const t=n[t1]||null;if(!t&&!0===e)throw new Error(`Type ${sn(n)} does not have '\u0275mod' property.`);return t}function f1(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Pr,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||je,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h1(n.inputs,e),outputs:h1(n.outputs)}}function p1(n){n.features?.forEach(e=>e(n))}function Xm(n,e){if(!n)return null;const t=e?ti:cK;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(uK)}const Bt=0,q=1,pe=2,Ct=3,pr=4,Sd=5,jn=6,zl=7,qt=8,us=9,$l=10,ce=11,Ad=12,m1=13,ql=14,Wt=15,Rd=16,Wl=17,kr=18,Md=19,g1=20,ds=21,wo=22,Pd=23,kd=24,Se=25,pE=1,_1=2,Nr=7,Gl=9,Rn=11;function vi(n){return Array.isArray(n)&&"object"==typeof n[pE]}function ni(n){return Array.isArray(n)&&!0===n[pE]}function mE(n){return 0!=(4&n.flags)}function _a(n){return n.componentOffset>-1}function Jm(n){return 1==(1&n.flags)}function mr(n){return!!n.template}function gE(n){return 0!=(512&n[pe])}function ya(n,e){return n.hasOwnProperty(bo)?n[bo]:null}const hs=Symbol("SIGNAL");function yK(n,e){return(null===n||"object"!=typeof n)&&Object.is(n,e)}let Mn=null,eg=!1;function er(n){const e=Mn;return Mn=n,e}const _E={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function b1(n){if(eg)throw new Error("");if(null===Mn)return;const e=Mn.nextProducerIndex++;Kl(Mn),e<Mn.producerNode.length&&Mn.producerNode[e]!==n&&Od(Mn)&&tg(Mn.producerNode[e],Mn.producerIndexOfThis[e]),Mn.producerNode[e]!==n&&(Mn.producerNode[e]=n,Mn.producerIndexOfThis[e]=Od(Mn)?x1(n,Mn,e):0),Mn.producerLastReadVersion[e]=n.version}function w1(n){if(!Od(n)||n.dirty){if(!n.producerMustRecompute(n)&&!C1(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function E1(n){if(void 0===n.liveConsumerNode)return;const e=eg;eg=!0;try{for(const t of n.liveConsumerNode)t.dirty||I1(t)}finally{eg=e}}function yE(){return!1!==Mn?.consumerAllowSignalWrites}function I1(n){n.dirty=!0,E1(n),n.consumerMarkedDirty?.(n)}function vE(n){return n&&(n.nextProducerIndex=0),er(n)}function bE(n,e){if(er(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Od(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)tg(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function C1(n){Kl(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(w1(t),i!==t.version))return!0}return!1}function T1(n){if(Kl(n),Od(n))for(let e=0;e<n.producerNode.length;e++)tg(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function x1(n,e,t){if(D1(n),Kl(n),0===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)n.producerIndexOfThis[i]=x1(n.producerNode[i],n,i);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function tg(n,e){if(D1(n),Kl(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)tg(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];Kl(r),r.producerIndexOfThis[i]=e}}function Od(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Kl(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function D1(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}let S1=function wK(){throw new Error};function wE(){S1()}let EE=null;const CK=(()=>({..._E,equal:yK,readonlyFn:void 0}))();function A1(n){n.version++,E1(n),EE?.()}function R1(n){const e=this[hs];yE()||wE(),e.equal(e.value,n)||(e.value=n,A1(e))}function TK(n){yE()||wE(),R1.call(this,n(this[hs].value))}function xK(n){const e=this[hs];yE()||wE(),n(e.value),A1(e)}function DK(){const n=this[hs];if(void 0===n.readonlyFn){const e=()=>this();e[hs]=n,n.readonlyFn=e}return n.readonlyFn}const P1=()=>{},AK=(()=>({..._E,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:P1}))();class RK{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function ii(){return k1}function k1(n){return n.type.prototype.ngOnChanges&&(n.setInput=PK),MK}function MK(){const n=O1(this),e=n?.current;if(e){const t=n.previous;if(t===Pr)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function PK(n,e,t,i){const r=this.declaredInputs[t],o=O1(n)||function kK(n,e){return n[N1]=e}(n,{previous:Pr,current:null}),s=o.current||(o.current={}),a=o.previous,l=a[r];s[r]=new RK(l&&l.currentValue,e,a===Pr),n[i]=e}ii.ngInherit=!0;const N1="__ngSimpleChanges__";function O1(n){return n[N1]||null}const Or=function(n,e,t){},F1="svg";function ct(n){for(;Array.isArray(n);)n=n[Bt];return n}function ng(n,e){return ct(e[n])}function bi(n,e){return ct(e[n.index])}function V1(n,e){return n.data[e]}function ki(n,e){const t=e[n];return vi(t)?t:t[Bt]}function fs(n,e){return null==e?null:n[e]}function B1(n){n[Wl]=0}function BK(n){1024&n[pe]||(n[pe]|=1024,j1(n,1))}function U1(n){1024&n[pe]&&(n[pe]&=-1025,j1(n,-1))}function j1(n,e){let t=n[Ct];if(null===t)return;t[Sd]+=e;let i=t;for(t=t[Ct];null!==t&&(1===e&&1===i[Sd]||-1===e&&0===i[Sd]);)t[Sd]+=e,i=t,t=t[Ct]}const oe={lFrame:Z1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function $1(){return oe.bindingsEnabled}function Ql(){return null!==oe.skipHydrationRootTNode}function D(){return oe.lFrame.lView}function Le(){return oe.lFrame.tView}function an(n){return oe.lFrame.contextLView=n,n[qt]}function ln(n){return oe.lFrame.contextLView=null,n}function Pn(){let n=q1();for(;null!==n&&64===n.type;)n=n.parent;return n}function q1(){return oe.lFrame.currentTNode}function Fr(n,e){const t=oe.lFrame;t.currentTNode=n,t.isParent=e}function TE(){return oe.lFrame.isParent}function xE(){oe.lFrame.isParent=!1}function Xl(){return oe.lFrame.bindingIndex++}function XK(n,e){const t=oe.lFrame;t.bindingIndex=t.bindingRootIndex=n,DE(e)}function DE(n){oe.lFrame.currentDirectiveIndex=n}function Y1(){return oe.lFrame.currentQueryIndex}function AE(n){oe.lFrame.currentQueryIndex=n}function JK(n){const e=n[q];return 2===e.type?e.declTNode:1===e.type?n[jn]:null}function Q1(n,e,t){if(t&xe.SkipSelf){let r=e,o=n;for(;!(r=r.parent,null!==r||t&xe.Host||(r=JK(o),null===r||(o=o[ql],10&r.type))););if(null===r)return!1;e=r,n=o}const i=oe.lFrame=X1();return i.currentTNode=e,i.lView=n,!0}function RE(n){const e=X1(),t=n[q];oe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function X1(){const n=oe.lFrame,e=null===n?null:n.child;return null===e?Z1(n):e}function Z1(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function J1(){const n=oe.lFrame;return oe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const eN=J1;function ME(){const n=J1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function oi(){return oe.lFrame.selectedIndex}function va(n){oe.lFrame.selectedIndex=n}function Rt(){const n=oe.lFrame;return V1(n.tView,n.selectedIndex)}let iN=!0;function ig(){return iN}function ps(n){iN=n}function rg(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),l&&(n.viewHooks??=[]).push(-t,l),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),null!=u&&(n.destroyHooks??=[]).push(t,u)}}function og(n,e,t){rN(n,e,3,t)}function sg(n,e,t,i){(3&n[pe])===t&&rN(n,e,t,i)}function PE(n,e){let t=n[pe];(3&t)===e&&(t&=8191,t+=1,n[pe]=t)}function rN(n,e,t,i){const o=i??-1,s=e.length-1;let a=0;for(let l=void 0!==i?65535&n[Wl]:0;l<s;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=i&&a>=i)break}else e[l]<0&&(n[Wl]+=65536),(a<o||-1==o)&&(sY(n,t,e,l),n[Wl]=(4294901760&n[Wl])+l+2),l++}function oN(n,e){Or(4,n,e);const t=er(null);try{e.call(n)}finally{er(t),Or(5,n,e)}}function sY(n,e,t,i){const r=t[i]<0,o=t[i+1],a=n[r?-t[i]:t[i]];r?n[pe]>>13<n[Wl]>>16&&(3&n[pe])===e&&(n[pe]+=8192,oN(a,o)):oN(a,o)}const Zl=-1;class Ld{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function NE(n){return n!==Zl}function Vd(n){return 32767&n}function Bd(n,e){let t=function uY(n){return n>>16}(n),i=e;for(;t>0;)i=i[ql],t--;return i}let OE=!0;function ag(n){const e=OE;return OE=n,e}const sN=255,aN=5;let dY=0;const Lr={};function lg(n,e){const t=lN(n,e);if(-1!==t)return t;const i=e[q];i.firstCreatePass&&(n.injectorIndex=e.length,FE(i.data,n),FE(e,null),FE(i.blueprint,null));const r=cg(n,e),o=n.injectorIndex;if(NE(r)){const s=Vd(r),a=Bd(r,e),l=a[q].data;for(let c=0;c<8;c++)e[o+c]=a[s+c]|l[s+c]}return e[o+8]=r,o}function FE(n,e){n.push(0,0,0,0,0,0,0,0,e)}function lN(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function cg(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=mN(r),null===i)return Zl;if(t++,r=r[ql],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Zl}function LE(n,e,t){!function hY(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(xd)&&(i=t[xd]),null==i&&(i=t[xd]=dY++);const r=i&sN;e.data[n+(r>>aN)]|=1<<r}(n,e,t)}function cN(n,e,t){if(t&xe.Optional||void 0!==n)return n;iE()}function uN(n,e,t,i){if(t&xe.Optional&&void 0===i&&(i=null),!(t&(xe.Self|xe.Host))){const r=n[us],o=_i(void 0);try{return r?r.get(e,i,t&xe.Optional):Xk(e,i,t&xe.Optional)}finally{_i(o)}}return cN(i,0,t)}function dN(n,e,t,i=xe.Default,r){if(null!==n){if(2048&e[pe]&&!(i&xe.Self)){const s=function yY(n,e,t,i,r){let o=n,s=e;for(;null!==o&&null!==s&&2048&s[pe]&&!(512&s[pe]);){const a=hN(o,s,t,i|xe.Self,Lr);if(a!==Lr)return a;let l=o.parent;if(!l){const c=s[g1];if(c){const u=c.get(t,Lr,i);if(u!==Lr)return u}l=mN(s),s=s[ql]}o=l}return r}(n,e,t,i,Lr);if(s!==Lr)return s}const o=hN(n,e,t,i,Lr);if(o!==Lr)return o}return uN(e,t,i,r)}function hN(n,e,t,i,r){const o=function mY(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(xd)?n[xd]:void 0;return"number"==typeof e?e>=0?e&sN:_Y:e}(t);if("function"==typeof o){if(!Q1(e,n,i))return i&xe.Host?cN(r,0,i):uN(e,t,i,r);try{let s;if(s=o(i),null!=s||i&xe.Optional)return s;iE()}finally{eN()}}else if("number"==typeof o){let s=null,a=lN(n,e),l=Zl,c=i&xe.Host?e[Wt][jn]:null;for((-1===a||i&xe.SkipSelf)&&(l=-1===a?cg(n,e):e[a+8],l!==Zl&&pN(i,!1)?(s=e[q],a=Vd(l),e=Bd(l,e)):a=-1);-1!==a;){const u=e[q];if(fN(o,a,u.data)){const d=pY(a,e,t,s,i,c);if(d!==Lr)return d}l=e[a+8],l!==Zl&&pN(i,e[q].data[a+8]===c)&&fN(o,a,e)?(s=u,a=Vd(l),e=Bd(l,e)):a=-1}}return r}function pY(n,e,t,i,r,o){const s=e[q],a=s.data[n+8],u=ug(a,s,t,null==i?_a(a)&&OE:i!=s&&0!=(3&a.type),r&xe.Host&&o===a);return null!==u?ba(e,s,u,a):Lr}function ug(n,e,t,i,r){const o=n.providerIndexes,s=e.data,a=1048575&o,l=n.directiveStart,u=o>>20,h=r?a+u:n.directiveEnd;for(let f=i?a:a+u;f<h;f++){const p=s[f];if(f<l&&t===p||f>=l&&p.type===t)return f}if(r){const f=s[l];if(f&&mr(f)&&f.type===t)return l}return null}function ba(n,e,t,i){let r=n[t];const o=e.data;if(function aY(n){return n instanceof Ld}(r)){const s=r;s.resolving&&function N7(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new T(-200,`Circular dependency in DI detected for ${n}${t}`)}(function Ke(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():le(n)}(o[t]));const a=ag(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?_i(s.injectImpl):null;Q1(n,i,xe.Default);try{r=n[t]=s.factory(void 0,o,n,i),e.firstCreatePass&&t>=i.directiveStart&&function oY(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=e.type.prototype;if(i){const s=k1(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}r&&(t.preOrderHooks??=[]).push(0-n,r),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}(t,o[t],e)}finally{null!==c&&_i(c),ag(a),s.resolving=!1,eN()}}return r}function fN(n,e,t){return!!(t[e+(n>>aN)]&1<<n)}function pN(n,e){return!(n&xe.Self||n&xe.Host&&e)}class si{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return dN(this._tNode,this._lView,e,Gm(i),t)}}function _Y(){return new si(Pn(),D())}function _n(n){return vo(()=>{const e=n.prototype.constructor,t=e[bo]||VE(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const o=r[bo]||VE(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function VE(n){return tE(n)?()=>{const e=VE(se(n));return e&&e()}:ya(n)}function mN(n){const e=n[q],t=e.type;return 2===t?e.declTNode:1===t?n[jn]:null}function Jl(n){return function fY(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const i=t.length;let r=0;for(;r<i;){const o=t[r];if(o1(o))break;if(0===o)r+=2;else if("number"==typeof o)for(r++;r<i&&"string"==typeof t[r];)r++;else{if(o===e)return t[r+1];r+=2}}}return null}(Pn(),n)}const tc="__parameters__";function ic(n,e,t){return vo(()=>{const i=function BE(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...o){if(this instanceof r)return i.apply(this,o),this;const s=new r(...o);return a.annotation=s,a;function a(l,c,u){const d=l.hasOwnProperty(tc)?l[tc]:Object.defineProperty(l,tc,{value:[]})[tc];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(s),l}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function oc(n,e){n.forEach(t=>Array.isArray(t)?oc(t,e):e(t))}function _N(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function dg(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function Hd(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Ni(n,e,t){let i=sc(n,e);return i>=0?n[1|i]=t:(i=~i,function TY(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function UE(n,e){const t=sc(n,e);if(t>=0)return n[1|t]}function sc(n,e){return function yN(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const o=i+(r-i>>1),s=n[o<<t];if(e===s)return o<<t;s>e?r=o:i=o+1}return~(r<<t)}(n,e,1)}const Tt=Td(ic("Optional"),8),zd=Td(ic("SkipSelf"),4);function _g(n){return 128==(128&n.flags)}var ms=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ms||{});const WY=/^>|^->|<!--|-->|--!>|<!-$/g,GY=/(<|>)/g,KY="\u200b$1\u200b";const qE=new Map;let YY=0;const GE="__ngContext__";function Hn(n,e){vi(e)?(n[GE]=e[Md],function XY(n){qE.set(n[Md],n)}(e)):n[GE]=e}let KE;function YE(n,e){return KE(n,e)}function Wd(n){const e=n[Ct];return ni(e)?e[Ct]:e}function VN(n){return UN(n[Ad])}function BN(n){return UN(n[pr])}function UN(n){for(;null!==n&&!ni(n);)n=n[pr];return n}function cc(n,e,t,i,r){if(null!=i){let o,s=!1;ni(i)?o=i:vi(i)&&(s=!0,i=i[Bt]);const a=ct(i);0===n&&null!==t?null==r?$N(e,t,a):wa(e,t,a,r||null,!0):1===n&&null!==t?wa(e,t,a,r||null,!0):2===n?function Cg(n,e,t){const i=Eg(n,e);i&&function gQ(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,s):3===n&&e.destroyNode(a),null!=o&&function vQ(n,e,t,i,r){const o=t[Nr];o!==ct(t)&&cc(e,n,i,o,r);for(let a=Rn;a<t.length;a++){const l=t[a];Kd(l[q],l,n,e,i,o)}}(e,n,o,t,r)}}function QE(n,e){return n.createComment(function RN(n){return n.replace(WY,e=>e.replace(GY,KY))}(e))}function bg(n,e,t){return n.createElement(e,t)}function HN(n,e){const t=n[Gl],i=t.indexOf(e);U1(e),t.splice(i,1)}function wg(n,e){if(n.length<=Rn)return;const t=Rn+e,i=n[t];if(i){const r=i[Rd];null!==r&&r!==n&&HN(r,i),e>0&&(n[t-1][pr]=i[pr]);const o=dg(n,Rn+e);!function lQ(n,e){Kd(n,e,e[ce],2,null,null),e[Bt]=null,e[jn]=null}(i[q],i);const s=o[kr];null!==s&&s.detachView(o[q]),i[Ct]=null,i[pr]=null,i[pe]&=-129}return i}function XE(n,e){if(!(256&e[pe])){const t=e[ce];e[Pd]&&T1(e[Pd]),e[kd]&&T1(e[kd]),t.destroyNode&&Kd(n,e,t,3,null,null),function dQ(n){let e=n[Ad];if(!e)return ZE(n[q],n);for(;e;){let t=null;if(vi(e))t=e[Ad];else{const i=e[Rn];i&&(t=i)}if(!t){for(;e&&!e[pr]&&e!==n;)vi(e)&&ZE(e[q],e),e=e[Ct];null===e&&(e=n),vi(e)&&ZE(e[q],e),t=e&&e[pr]}e=t}}(e)}}function ZE(n,e){if(!(256&e[pe])){e[pe]&=-129,e[pe]|=256,function mQ(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Ld)){const o=t[i+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=r[o[s]],l=o[s+1];Or(4,a,l);try{l.call(a)}finally{Or(5,a,l)}}else{Or(4,r,o);try{o.call(r)}finally{Or(5,r,o)}}}}}(n,e),function pQ(n,e){const t=n.cleanup,i=e[zl];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?i[s]():i[-s].unsubscribe(),o+=2}else t[o].call(i[t[o+1]]);null!==i&&(e[zl]=null);const r=e[ds];if(null!==r){e[ds]=null;for(let o=0;o<r.length;o++)(0,r[o])()}}(n,e),1===e[q].type&&e[ce].destroy();const t=e[Rd];if(null!==t&&ni(e[Ct])){t!==e[Ct]&&HN(t,e);const i=e[kr];null!==i&&i.detachView(n)}!function ZY(n){qE.delete(n[Md])}(e)}}function JE(n,e,t){return function zN(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[Bt];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:o}=n.data[i.directiveStart+r];if(o===Ji.None||o===Ji.Emulated)return null}return bi(i,t)}}(n,e.parent,t)}function wa(n,e,t,i,r){n.insertBefore(e,t,i,r)}function $N(n,e,t){n.appendChild(e,t)}function qN(n,e,t,i,r){null!==i?wa(n,e,t,i,r):$N(n,e,t)}function Eg(n,e){return n.parentNode(e)}function WN(n,e,t){return KN(n,e,t)}let eI,Tg,rI,xg,KN=function GN(n,e,t){return 40&n.type?bi(n,t):null};function Ig(n,e,t,i){const r=JE(n,i,e),o=e[ce],a=WN(i.parent||e[jn],i,e);if(null!=r)if(Array.isArray(t))for(let l=0;l<t.length;l++)qN(o,r,t[l],a,!1);else qN(o,r,t,a,!1);void 0!==eI&&eI(o,i,e,t,r)}function Gd(n,e){if(null!==e){const t=e.type;if(3&t)return bi(e,n);if(4&t)return tI(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return Gd(n,i);{const r=n[e.index];return ni(r)?tI(-1,r):ct(r)}}if(32&t)return YE(e,n)()||ct(n[e.index]);{const i=QN(n,e);return null!==i?Array.isArray(i)?i[0]:Gd(Wd(n[Wt]),i):Gd(n,e.next)}}return null}function QN(n,e){return null!==e?n[Wt][jn].projection[e.projection]:null}function tI(n,e){const t=Rn+n+1;if(t<e.length){const i=e[t],r=i[q].firstChild;if(null!==r)return Gd(i,r)}return e[Nr]}function nI(n,e,t,i,r,o,s){for(;null!=t;){const a=i[t.index],l=t.type;if(s&&0===e&&(a&&Hn(ct(a),i),t.flags|=2),32!=(32&t.flags))if(8&l)nI(n,e,t.child,i,r,o,!1),cc(e,n,r,a,o);else if(32&l){const c=YE(t,i);let u;for(;u=c();)cc(e,n,r,u,o);cc(e,n,r,a,o)}else 16&l?ZN(n,e,i,t,r,o):cc(e,n,r,a,o);t=s?t.projectionNext:t.next}}function Kd(n,e,t,i,r,o){nI(t,i,n.firstChild,e,r,o,!1)}function ZN(n,e,t,i,r,o){const s=t[Wt],l=s[jn].projection[i.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)cc(e,n,r,l[c],o);else{let c=l;const u=s[Ct];_g(i)&&(c.flags|=128),nI(n,e,c,u,r,o,!0)}}function JN(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function eO(n,e,t){const{mergedAttrs:i,classes:r,styles:o}=t;null!==i&&fE(n,e,i),null!==r&&JN(n,e,r),null!==o&&function wQ(n,e,t){n.setAttribute(e,"style",t)}(n,e,o)}function uc(n){return function iI(){if(void 0===Tg&&(Tg=null,rt.trustedTypes))try{Tg=rt.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Tg}()?.createHTML(n)||n}function dc(){if(void 0!==rI)return rI;if(typeof document<"u")return document;throw new T(210,!1)}function oI(){if(void 0===xg&&(xg=null,rt.trustedTypes))try{xg=rt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return xg}function tO(n){return oI()?.createHTML(n)||n}function iO(n){return oI()?.createScriptURL(n)||n}class Ea{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gk})`}}class xQ extends Ea{getTypeName(){return"HTML"}}class DQ extends Ea{getTypeName(){return"Style"}}class SQ extends Ea{getTypeName(){return"Script"}}class AQ extends Ea{getTypeName(){return"URL"}}class RQ extends Ea{getTypeName(){return"ResourceURL"}}function Oi(n){return n instanceof Ea?n.changingThisBreaksApplicationSecurity:n}function Vr(n,e){const t=function MQ(n){return n instanceof Ea&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Gk})`)}return t===e}class LQ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(uc(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class VQ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=uc(e),t}}const UQ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Dg(n){return(n=String(n)).match(UQ)?n:"unsafe:"+n}function Co(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Yd(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const oO=Co("area,br,col,hr,img,wbr"),sO=Co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),aO=Co("rp,rt"),sI=Yd(oO,Yd(sO,Co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Yd(aO,Co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Yd(aO,sO)),aI=Co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lO=Yd(aI,Co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),jQ=Co("script,style,template");class HQ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!sI.hasOwnProperty(t))return this.sanitizedSomething=!0,!jQ.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const o=i.item(r),s=o.name,a=s.toLowerCase();if(!lO.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let l=o.value;aI[a]&&(l=Dg(l)),this.buf.push(" ",s,'="',cO(l),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();sI.hasOwnProperty(t)&&!oO.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(cO(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const zQ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,$Q=/([^\#-~ |!])/g;function cO(n){return n.replace(/&/g,"&amp;").replace(zQ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace($Q,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sg;function uO(n,e){let t=null;try{Sg=Sg||function rO(n){const e=new VQ(n);return function BQ(){try{return!!(new window.DOMParser).parseFromString(uc(""),"text/html")}catch{return!1}}()?new LQ(e):e}(n);let i=e?String(e):"";t=Sg.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=Sg.getInertBodyElement(i)}while(i!==o);return uc((new HQ).sanitizeChildren(lI(t)||t))}finally{if(t){const i=lI(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}function lI(n){return"content"in n&&function qQ(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var kn=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(kn||{});function dO(n){const e=Qd();return e?tO(e.sanitize(kn.HTML,n)||""):Vr(n,"HTML")?tO(Oi(n)):uO(dc(),le(n))}function Ia(n){const e=Qd();return e?e.sanitize(kn.URL,n)||"":Vr(n,"URL")?Oi(n):Dg(le(n))}function hO(n){const e=Qd();if(e)return iO(e.sanitize(kn.RESOURCE_URL,n)||"");if(Vr(n,"ResourceURL"))return iO(Oi(n));throw new T(904,!1)}function Qd(){const n=D();return n&&n[$l].sanitizer}const Xd=new S("ENVIRONMENT_INITIALIZER"),pO=new S("INJECTOR",-1),mO=new S("INJECTOR_DEF_TYPES");class cI{get(e,t=Cd){if(t===Cd){const i=new Error(`NullInjectorError: No provider for ${sn(e)}!`);throw i.name="NullInjectorError",i}return t}}function XQ(...n){return{\u0275providers:_O(0,n),\u0275fromNgModule:!0}}function _O(n,...e){const t=[],i=new Set;let r;const o=s=>{t.push(s)};return oc(e,s=>{const a=s;Ag(a,o,[],i)&&(r||=[],r.push(a))}),void 0!==r&&yO(r,o),t}function yO(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];uI(r,o=>{e(o,i)})}}function Ag(n,e,t,i){if(!(n=se(n)))return!1;let r=null,o=$m(n);const s=!o&&Fe(n);if(o||s){if(s&&!s.standalone)return!1;r=n}else{const l=n.ngModule;if(o=$m(l),!o)return!1;r=l}const a=i.has(r);if(s){if(a)return!1;if(i.add(r),s.dependencies){const l="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const c of l)Ag(c,e,t,i)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let c;i.add(r);try{oc(o.imports,u=>{Ag(u,e,t,i)&&(c||=[],c.push(u))})}finally{}void 0!==c&&yO(c,e)}if(!a){const c=ya(r)||(()=>new r);e({provide:r,useFactory:c,deps:je},r),e({provide:mO,useValue:r,multi:!0},r),e({provide:Xd,useValue:()=>C(r),multi:!0},r)}const l=o.providers;if(null!=l&&!a){const c=n;uI(l,u=>{e(u,c)})}}}return r!==n&&void 0!==n.providers}function uI(n,e){for(let t of n)nE(t)&&(t=t.\u0275providers),Array.isArray(t)?uI(t,e):e(t)}const ZQ=Qe({provide:String,useValue:Qe});function dI(n){return null!==n&&"object"==typeof n&&ZQ in n}function Ca(n){return"function"==typeof n}const hI=new S("Set Injector scope."),Rg={},eX={};let fI;function Mg(){return void 0===fI&&(fI=new cI),fI}class Fi{}class hc extends Fi{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mI(e,s=>this.processProvider(s)),this.records.set(pO,fc(void 0,this)),r.has("environment")&&this.records.set(Fi,fc(void 0,this));const o=this.records.get(hI);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(mO.multi,je,xe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=cs(this),i=_i(void 0);try{return e()}finally{cs(t),_i(i)}}get(e,t=Cd,i=xe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(n1))return e[n1](this);i=Gm(i);const o=cs(this),s=_i(void 0);try{if(!(i&xe.SkipSelf)){let l=this.records.get(e);if(void 0===l){const c=function oX(n){return"function"==typeof n||"object"==typeof n&&n instanceof S}(e)&&zm(e);l=c&&this.injectableDefInScope(c)?fc(pI(e),Rg):null,this.records.set(e,l)}if(null!=l)return this.hydrate(e,l)}return(i&xe.Self?Mg():this.parent).get(e,t=i&xe.Optional&&t===Cd?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Wm]=a[Wm]||[]).unshift(sn(e)),o)throw a;return function Y7(n,e,t,i){const r=n[Wm];throw e[Jk]&&r.unshift(e[Jk]),n.message=function Q7(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=sn(e);if(Array.isArray(e))r=e.map(sn).join(" -> ");else if("object"==typeof e){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):sn(a)))}r=`{${o.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace($7,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Wm]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{_i(s),cs(o)}}resolveInjectorInitializers(){const e=cs(this),t=_i(void 0);try{const r=this.get(Xd.multi,je,xe.Self);for(const o of r)o()}finally{cs(e),_i(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(sn(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let t=Ca(e=se(e))?e:se(e&&e.provide);const i=function nX(n){return dI(n)?fc(void 0,n.useValue):fc(wO(n),Rg)}(e);if(Ca(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=fc(void 0,Rg,!0),r.factory=()=>dE(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Rg&&(t.value=eX,t.value=t.factory()),"object"==typeof t.value&&t.value&&function rX(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=se(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function pI(n){const e=zm(n),t=null!==e?e.factory:ya(n);if(null!==t)return t;if(n instanceof S)throw new T(204,!1);if(n instanceof Function)return function tX(n){const e=n.length;if(e>0)throw Hd(e,"?"),new T(204,!1);const t=function U7(n){return n&&(n[qm]||n[Yk])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new T(204,!1)}function wO(n,e,t){let i;if(Ca(n)){const r=se(n);return ya(r)||pI(r)}if(dI(n))i=()=>se(n.useValue);else if(function bO(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...dE(n.deps||[]));else if(function vO(n){return!(!n||!n.useExisting)}(n))i=()=>C(se(n.useExisting));else{const r=se(n&&(n.useClass||n.provide));if(!function iX(n){return!!n.deps}(n))return ya(r)||pI(r);i=()=>new r(...dE(n.deps))}return i}function fc(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function mI(n,e){for(const t of n)Array.isArray(t)?mI(t,e):t&&nE(t)?mI(t.\u0275providers,e):e(t)}const Zd=new S("AppId",{providedIn:"root",factory:()=>sX}),sX="ng",EO=new S("Platform Initializer"),To=new S("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Br=new S("AnimationModuleType"),gI=new S("CSP nonce",{providedIn:"root",factory:()=>dc().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let IO=(n,e,t)=>null;function CI(n,e,t=!1){return IO(n,e,t)}class gX{}class xO{}class yX{resolveComponentFactory(e){throw function _X(n){const e=Error(`No component factory found for ${sn(n)}.`);return e.ngComponent=n,e}(e)}}let th=(()=>{class n{static#e=this.NULL=new yX}return n})();function vX(){return gc(Pn(),D())}function gc(n,e){return new Oe(bi(n,e))}let Oe=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=vX}return n})();function bX(n){return n instanceof Oe?n.nativeElement:n}class nh{}let Ur=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function wX(){const n=D(),t=ki(Pn().index,n);return(vi(t)?t:n)[ce]}()}return n})(),EX=(()=>{class n{static#e=this.\u0275prov=N({token:n,providedIn:"root",factory:()=>null})}return n})();class gs{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const SO=new gs("16.2.11"),DI={};function PO(n,e=null,t=null,i){const r=kO(n,e,t,i);return r.resolveInjectorInitializers(),r}function kO(n,e=null,t=null,i,r=new Set){const o=[t||je,XQ(n)];return i=i||("object"==typeof n?void 0:sn(n)),new hc(o,e||Mg(),i||null,r)}let yt=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Cd;static#t=this.NULL=new cI;static create(t,i){if(Array.isArray(t))return PO({name:""},i,t,"");{const r=t.name??"";return PO({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=N({token:n,providedIn:"any",factory:()=>C(pO)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function AI(n){return n.ngOriginalError}class nr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&AI(e);for(;t&&AI(t);)t=AI(t);return t||null}}function MI(n){return e=>{setTimeout(n,void 0,e)}}const ve=class AX extends te{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,o=t||(()=>null),s=i;if(e&&"object"==typeof e){const l=e;r=l.next?.bind(l),o=l.error?.bind(l),s=l.complete?.bind(l)}this.__isAsync&&(o=MI(o),r&&(r=MI(r)),s&&(s=MI(s)));const a=super.subscribe({next:r,error:o,complete:s});return e instanceof It&&e.add(a),a}};function OO(...n){}class Q{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ve(!1),this.onMicrotaskEmpty=new ve(!1),this.onStable=new ve(!1),this.onError=new ve(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function RX(){const n="function"==typeof rt.requestAnimationFrame;let e=rt[n?"requestAnimationFrame":"setTimeout"],t=rt[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function kX(n){const e=()=>{!function PX(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(rt,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,kI(n),n.isCheckStableRunning=!0,PI(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),kI(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,o,s,a)=>{if(function OX(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,o,s,a);try{return FO(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&e(),LO(n)}},onInvoke:(t,i,r,o,s,a,l)=>{try{return FO(n),t.invoke(r,o,s,a,l)}finally{n.shouldCoalesceRunChangeDetection&&e(),LO(n)}},onHasTask:(t,i,r,o)=>{t.hasTask(r,o),i===r&&("microTask"==o.change?(n._hasPendingMicrotasks=o.microTask,kI(n),PI(n)):"macroTask"==o.change&&(n.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,i,r,o)=>(t.handleError(r,o),n.runOutsideAngular(()=>n.onError.emit(o)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Q.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(Q.isInAngularZone())throw new T(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+r,e,MX,OO,OO);try{return o.runTask(s,t,i)}finally{o.cancelTask(s)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const MX={};function PI(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function kI(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function FO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function LO(n){n._nesting--,PI(n)}class NX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ve,this.onMicrotaskEmpty=new ve,this.onStable=new ve,this.onError=new ve}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const VO=new S("",{providedIn:"root",factory:BO});function BO(){const n=F(Q);let e=!0;return Ul(new ze(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new ze(r=>{let o;n.runOutsideAngular(()=>{o=n.onStable.subscribe(()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const s=n.onUnstable.subscribe(()=>{Q.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(Um()))}function xo(n){return n instanceof Function?n():n}let NI=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})();function ih(n){for(;n;){n[pe]|=64;const e=Wd(n);if(gE(n)&&!e)return n;n=e}return null}const $O=new S("",{providedIn:"root",factory:()=>!1});let Vg=null;function KO(n,e){return n[e]??XO()}function YO(n,e){const t=XO();t.producerNode?.length&&(n[e]=Vg,t.lView=n,Vg=QO())}const qX={..._E,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{ih(n.lView)},lView:null};function QO(){return Object.create(qX)}function XO(){return Vg??=QO(),Vg}const fe={};function j(n){ZO(Le(),D(),oi()+n,!1)}function ZO(n,e,t,i){if(!i)if(3==(3&e[pe])){const o=n.preOrderCheckHooks;null!==o&&og(e,o,t)}else{const o=n.preOrderHooks;null!==o&&sg(e,o,0,t)}va(t)}function y(n,e=xe.Default){const t=D();return null===t?C(n,e):dN(Pn(),t,se(n),e)}function Bg(){throw new Error("invalid")}function Ug(n,e,t,i,r,o,s,a,l,c,u){const d=e.blueprint.slice();return d[Bt]=r,d[pe]=140|i,(null!==c||n&&2048&n[pe])&&(d[pe]|=2048),B1(d),d[Ct]=d[ql]=n,d[qt]=t,d[$l]=s||n&&n[$l],d[ce]=a||n&&n[ce],d[us]=l||n&&n[us]||null,d[jn]=o,d[Md]=function QY(){return YY++}(),d[wo]=u,d[g1]=c,d[Wt]=2==e.type?n[Wt]:d,d}function vc(n,e,t,i,r){let o=n.data[e];if(null===o)o=function OI(n,e,t,i,r){const o=q1(),s=TE(),l=n.data[e]=function JX(n,e,t,i,r,o){let s=e?e.injectorIndex:-1,a=0;return Ql()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=l),null!==o&&(s?null==o.child&&null!==l.parent&&(o.child=l):null===o.next&&(o.next=l,l.prev=o)),l}(n,e,t,i,r),function QK(){return oe.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=i,o.attrs=r;const s=function Fd(){const n=oe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Fr(o,!0),o}function rh(n,e,t,i){if(0===t)return-1;const r=e.length;for(let o=0;o<t;o++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function JO(n,e,t,i,r){const o=KO(e,Pd),s=oi(),a=2&i;try{va(-1),a&&e.length>Se&&ZO(n,e,Se,!1),Or(a?2:0,r);const c=a?o:null,u=vE(c);try{null!==c&&(c.dirty=!1),t(i,r)}finally{bE(c,u)}}finally{a&&null===e[Pd]&&YO(e,Pd),va(s),Or(a?3:1,r)}}function FI(n,e,t){if(mE(e)){const i=er(null);try{const o=e.directiveEnd;for(let s=e.directiveStart;s<o;s++){const a=n.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{er(i)}}}function LI(n,e,t){$1()&&(function sZ(n,e,t,i){const r=t.directiveStart,o=t.directiveEnd;_a(t)&&function fZ(n,e,t){const i=bi(e,n),r=eF(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=jg(n,Ug(n,r,null,s,i,e,null,n[$l].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||lg(t,e),Hn(i,e);const s=t.initialInputs;for(let a=r;a<o;a++){const l=n.data[a],c=ba(e,n,a,t);Hn(c,e),null!==s&&pZ(0,a-r,c,l,0,s),mr(l)&&(ki(t.index,e)[qt]=ba(e,n,a,t))}}(n,e,t,bi(t,e)),64==(64&t.flags)&&oF(n,e,t))}function VI(n,e,t=bi){const i=e.localNames;if(null!==i){let r=e.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?t(e,n):n[s];n[r++]=a}}}function eF(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=BI(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function BI(n,e,t,i,r,o,s,a,l,c,u){const d=Se+i,h=d+r,f=function GX(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:fe);return t}(d,h),p="function"==typeof c?c():c;return f[q]={type:n,blueprint:f,template:t,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:p,incompleteFirstPass:!1,ssrId:u}}let tF=n=>null;function nF(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const o=n[r];null===i?iF(t,e,r,o):i.hasOwnProperty(r)&&iF(t,e,i[r],o)}return t}function iF(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function Li(n,e,t,i,r,o,s,a){const l=bi(e,t);let u,c=e.inputs;!a&&null!=c&&(u=c[i])?($I(n,t,u,i,r),_a(e)&&function nZ(n,e){const t=ki(e,n);16&t[pe]||(t[pe]|=64)}(t,e.index)):3&e.type&&(i=function tZ(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=s?s(r,e.value||"",i):r,o.setProperty(l,i,r))}function UI(n,e,t,i){if($1()){const r=null===i?null:{"":-1},o=function lZ(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(u1(e,s.selectors,!1))if(i||(i=[]),mr(s))if(null!==s.findHostDirectiveDefs){const a=[];r=r||new Map,s.findHostDirectiveDefs(s,a,r),i.unshift(...a,s),jI(n,e,a.length)}else i.unshift(s),jI(n,e,0);else r=r||new Map,s.findHostDirectiveDefs?.(s,i,r),i.push(s)}return null===i?null:[i,r]}(n,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&rF(n,e,t,s,r,a),r&&function cZ(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const o=t[e[r+1]];if(null==o)throw new T(-301,!1);i.push(e[r],o)}}}(t,i,r)}t.mergedAttrs=Dd(t.mergedAttrs,t.attrs)}function rF(n,e,t,i,r,o){for(let c=0;c<i.length;c++)LE(lg(t,e),n,i[c].type);!function dZ(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let c=0;c<i.length;c++){const u=i[c];u.providersResolver&&u.providersResolver(u)}let s=!1,a=!1,l=rh(n,e,i.length,null);for(let c=0;c<i.length;c++){const u=i[c];t.mergedAttrs=Dd(t.mergedAttrs,u.hostAttrs),hZ(n,t,e,l,u),uZ(l,u,r),null!==u.contentQueries&&(t.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(t.flags|=64);const d=u.type.prototype;!s&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),l++}!function eZ(n,e,t){const r=e.directiveEnd,o=n.data,s=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<r;u++){const d=o[u],h=t?t.get(d):null,p=h?h.outputs:null;l=nF(d.inputs,u,l,h?h.inputs:null),c=nF(d.outputs,u,c,p);const m=null===l||null===s||c1(e)?null:mZ(l,u,s);a.push(m)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(n,t,o)}function oF(n,e,t){const i=t.directiveStart,r=t.directiveEnd,o=t.index,s=function ZK(){return oe.lFrame.currentDirectiveIndex}();try{va(o);for(let a=i;a<r;a++){const l=n.data[a],c=e[a];DE(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&aZ(l,c)}}finally{va(-1),DE(s)}}function aZ(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function jI(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function uZ(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;mr(e)&&(t[""]=n)}}function hZ(n,e,t,i,r){n.data[i]=r;const o=r.factory||(r.factory=ya(r.type)),s=new Ld(o,mr(r),y);n.blueprint[i]=s,t[i]=s,function rZ(n,e,t,i,r){const o=r.hostBindings;if(o){let s=n.hostBindingOpCodes;null===s&&(s=n.hostBindingOpCodes=[]);const a=~e.index;(function oZ(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,i,o)}}(n,e,i,rh(n,t,r.hostVars,fe),r)}function jr(n,e,t,i,r,o){const s=bi(n,e);!function HI(n,e,t,i,r,o,s){if(null==o)n.removeAttribute(e,r,t);else{const a=null==s?le(o):s(o,i||"",r);n.setAttribute(e,r,a,t)}}(e[ce],s,o,n.value,t,i,r)}function pZ(n,e,t,i,r,o){const s=o[e];if(null!==s)for(let a=0;a<s.length;)sF(i,t,s[a++],s[a++],s[a++])}function sF(n,e,t,i,r){const o=er(null);try{const s=n.inputTransforms;null!==s&&s.hasOwnProperty(i)&&(r=s[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{er(o)}}function mZ(n,e,t){let i=null,r=0;for(;r<t.length;){const o=t[r];if(0!==o)if(5!==o){if("number"==typeof o)break;if(n.hasOwnProperty(o)){null===i&&(i=[]);const s=n[o];for(let a=0;a<s.length;a+=2)if(s[a]===e){i.push(o,s[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function aF(n,e,t,i){return[n,!0,!1,e,null,0,i,t,null,null,null]}function lF(n,e){const t=n.contentQueries;if(null!==t)for(let i=0;i<t.length;i+=2){const o=t[i+1];if(-1!==o){const s=n.data[o];AE(t[i]),s.contentQueries(2,e[o],o)}}}function jg(n,e){return n[Ad]?n[m1][pr]=e:n[Ad]=e,n[m1]=e,e}function zI(n,e,t){AE(0);const i=er(null);try{e(n,t)}finally{er(i)}}function cF(n){return n[zl]||(n[zl]=[])}function uF(n){return n.cleanup||(n.cleanup=[])}function hF(n,e){const t=n[us],i=t?t.get(nr,null):null;i&&i.handleError(e)}function $I(n,e,t,i,r){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];sF(n.data[s],e[s],i,a,r)}}function gZ(n,e){const t=ki(e,n),i=t[q];!function _Z(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[Bt];null!==r&&null===t[wo]&&(t[wo]=CI(r,t[us])),qI(i,t,t[qt])}function qI(n,e,t){RE(e);try{const i=n.viewQuery;null!==i&&zI(1,i,t);const r=n.template;null!==r&&JO(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&lF(n,e),n.staticViewQueries&&zI(2,n.viewQuery,t);const o=n.components;null!==o&&function yZ(n,e){for(let t=0;t<e.length;t++)gZ(n,e[t])}(e,o)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[pe]&=-5,ME()}}let fF=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,i,r){const o=typeof Zone>"u"?null:Zone.current,s=function SK(n,e,t){const i=Object.create(AK);t&&(i.consumerAllowSignalWrites=!0),i.fn=n,i.schedule=e;const r=s=>{i.cleanupFn=s};return i.ref={notify:()=>I1(i),run:()=>{if(i.dirty=!1,i.hasRun&&!C1(i))return;i.hasRun=!0;const s=vE(i);try{i.cleanupFn(),i.cleanupFn=P1,i.fn(r)}finally{bE(i,s)}},cleanup:()=>i.cleanupFn()},i.ref}(t,c=>{this.all.has(c)&&this.queue.set(c,o)},r);let a;this.all.add(s),s.notify();const l=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[t,i]of this.queue)this.queue.delete(t),i?i.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=N({token:n,providedIn:"root",factory:()=>new n})}return n})();function Hg(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,o=0;if(null!==e)for(let s=0;s<e.length;s++){const a=e[s];"number"==typeof a?o=a:1==o?r=eE(r,a):2==o&&(i=eE(i,a+": "+e[++s]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}function oh(n,e,t,i,r=!1){for(;null!==t;){const o=e[t.index];null!==o&&i.push(ct(o)),ni(o)&&pF(o,i);const s=t.type;if(8&s)oh(n,e,t.child,i);else if(32&s){const a=YE(t,e);let l;for(;l=a();)i.push(l)}else if(16&s){const a=QN(e,t);if(Array.isArray(a))i.push(...a);else{const l=Wd(e[Wt]);oh(l[q],l,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function pF(n,e){for(let t=Rn;t<n.length;t++){const i=n[t],r=i[q].firstChild;null!==r&&oh(i[q],i,r,e)}n[Nr]!==n[Bt]&&e.push(n[Nr])}function zg(n,e,t,i=!0){const r=e[$l],o=r.rendererFactory,s=r.afterRenderEventManager;o.begin?.(),s?.begin();try{mF(n,e,n.template,t)}catch(l){throw i&&hF(e,l),l}finally{o.end?.(),r.effectManager?.flush(),s?.end()}}function mF(n,e,t,i){const r=e[pe];if(256!=(256&r)){e[$l].effectManager?.flush(),RE(e);try{B1(e),function G1(n){return oe.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&JO(n,e,t,2,i);const s=3==(3&r);if(s){const c=n.preOrderCheckHooks;null!==c&&og(e,c,null)}else{const c=n.preOrderHooks;null!==c&&sg(e,c,0,null),PE(e,0)}if(function wZ(n){for(let e=VN(n);null!==e;e=BN(e)){if(!e[_1])continue;const t=e[Gl];for(let i=0;i<t.length;i++){BK(t[i])}}}(e),gF(e,2),null!==n.contentQueries&&lF(n,e),s){const c=n.contentCheckHooks;null!==c&&og(e,c)}else{const c=n.contentHooks;null!==c&&sg(e,c,1),PE(e,1)}!function WX(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const i=KO(e,kd);try{for(let r=0;r<t.length;r++){const o=t[r];if(o<0)va(~o);else{const s=o,a=t[++r],l=t[++r];XK(a,s),i.dirty=!1;const c=vE(i);try{l(2,e[s])}finally{bE(i,c)}}}}finally{null===e[kd]&&YO(e,kd),va(-1)}}(n,e);const a=n.components;null!==a&&yF(e,a,0);const l=n.viewQuery;if(null!==l&&zI(2,l,i),s){const c=n.viewCheckHooks;null!==c&&og(e,c)}else{const c=n.viewHooks;null!==c&&sg(e,c,2),PE(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[pe]&=-73,U1(e)}finally{ME()}}}function gF(n,e){for(let t=VN(n);null!==t;t=BN(t))for(let i=Rn;i<t.length;i++)_F(t[i],e)}function EZ(n,e,t){_F(ki(e,n),t)}function _F(n,e){if(!function LK(n){return 128==(128&n[pe])}(n))return;const t=n[q],i=n[pe];if(80&i&&0===e||1024&i||2===e)mF(t,n,t.template,n[qt]);else if(n[Sd]>0){gF(n,1);const r=t.components;null!==r&&yF(n,r,1)}}function yF(n,e,t){for(let i=0;i<e.length;i++)EZ(n,e[i],t)}class sh{get rootNodes(){const e=this._lView,t=e[q];return oh(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[qt]}set context(e){this._lView[qt]=e}get destroyed(){return 256==(256&this._lView[pe])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Ct];if(ni(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(wg(e,i),dg(t,i))}this._attachedToViewContainer=!1}XE(this._lView[q],this._lView)}onDestroy(e){!function H1(n,e){if(256==(256&n[pe]))throw new T(911,!1);null===n[ds]&&(n[ds]=[]),n[ds].push(e)}(this._lView,e)}markForCheck(){ih(this._cdRefInjectingView||this._lView)}detach(){this._lView[pe]&=-129}reattach(){this._lView[pe]|=128}detectChanges(){zg(this._lView[q],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uQ(n,e){Kd(n,e,e[ce],2,null,null)}(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class IZ extends sh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;zg(e[q],e,e[qt],!1)}checkNoChanges(){}get context(){return null}}class vF extends th{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Fe(e);return new ah(t,this.ngModule)}}function bF(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class TZ{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Gm(i);const r=this.injector.get(e,DI,i);return r!==DI||t===DI?r:this.parentInjector.get(e,t,i)}}class ah extends xO{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=bF(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return bF(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function sK(n){return n.map(oK).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let o=(r=r||this.ngModule)instanceof Fi?r:r?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new TZ(e,o):e,a=s.get(nh,null);if(null===a)throw new T(407,!1);const d={rendererFactory:a,sanitizer:s.get(EX,null),effectManager:s.get(fF,null),afterRenderEventManager:s.get(NI,null)},h=a.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=i?function KX(n,e,t,i){const o=i.get($O,!1)||t===Ji.ShadowDom,s=n.selectRootElement(e,o);return function YX(n){tF(n)}(s),s}(h,i,this.componentDef.encapsulation,s):bg(h,f,function CZ(n){const e=n.toLowerCase();return"svg"===e?F1:"math"===e?"math":null}(f)),b=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let _=null;null!==p&&(_=CI(p,s,!0));const E=BI(0,null,null,1,0,null,null,null,null,null,null),x=Ug(null,E,null,b,null,null,d,h,s,null,_);let L,W;RE(x);try{const ee=this.componentDef;let ke,Ft=null;ee.findHostDirectiveDefs?(ke=[],Ft=new Map,ee.findHostDirectiveDefs(ee,ke,Ft),ke.push(ee)):ke=[ee];const Zn=function DZ(n,e){const t=n[q],i=Se;return n[i]=e,vc(t,i,2,"#host",null)}(x,p),Vw=function SZ(n,e,t,i,r,o,s){const a=r[q];!function AZ(n,e,t,i){for(const r of n)e.mergedAttrs=Dd(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Hg(e,e.mergedAttrs,!0),null!==t&&eO(i,t,e))}(i,n,e,s);let l=null;null!==e&&(l=CI(e,r[us]));const c=o.rendererFactory.createRenderer(e,t);let u=16;t.signals?u=4096:t.onPush&&(u=64);const d=Ug(r,eF(t),null,u,r[n.index],n,o,c,null,null,l);return a.firstCreatePass&&jI(a,n,i.length-1),jg(r,d),r[n.index]=d}(Zn,p,ee,ke,x,d,h);W=V1(E,Se),p&&function MZ(n,e,t,i){if(i)fE(n,t,["ng-version",SO.full]);else{const{attrs:r,classes:o}=function aK(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let o=n[i];if("string"==typeof o)2===r?""!==o&&e.push(o,n[++i]):8===r&&t.push(o);else{if(!fr(r))break;r=o}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&fE(n,t,r),o&&o.length>0&&JN(n,t,o.join(" "))}}(h,ee,p,i),void 0!==t&&function PZ(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const o=t[r];i.push(null!=o?Array.from(o):null)}}(W,this.ngContentSelectors,t),L=function RZ(n,e,t,i,r,o){const s=Pn(),a=r[q],l=bi(s,r);rF(a,r,s,t,null,i);for(let u=0;u<t.length;u++)Hn(ba(r,a,s.directiveStart+u,s),r);oF(a,r,s),l&&Hn(l,r);const c=ba(r,a,s.directiveStart+s.componentOffset,s);if(n[qt]=r[qt]=c,null!==o)for(const u of o)u(c,e);return FI(a,s,n),c}(Vw,ee,ke,Ft,x,[kZ]),qI(E,x,null)}finally{ME()}return new xZ(this.componentType,L,gc(W,x),x,W)}}class xZ extends gX{constructor(e,t,i,r,o){super(),this.location=i,this._rootLView=r,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new IZ(r),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const o=this._rootLView;$I(o[q],o,r,e,t),this.previousInputValues.set(e,t),ih(ki(this._tNode.index,o))}}get injector(){return new si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function kZ(){const n=Pn();rg(D()[q],n)}function be(n){let e=function wF(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const i=[n];for(;e;){let r;if(mr(n))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);r=e.\u0275dir}if(r){if(t){i.push(r);const s=n;s.inputs=$g(n.inputs),s.inputTransforms=$g(n.inputTransforms),s.declaredInputs=$g(n.declaredInputs),s.outputs=$g(n.outputs);const a=r.hostBindings;a&&LZ(n,a);const l=r.viewQuery,c=r.contentQueries;if(l&&OZ(n,l),c&&FZ(n,c),jm(n.inputs,r.inputs),jm(n.declaredInputs,r.declaredInputs),jm(n.outputs,r.outputs),null!==r.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),jm(s.inputTransforms,r.inputTransforms)),mr(r)&&r.data.animation){const u=n.data;u.animation=(u.animation||[]).concat(r.data.animation)}}const o=r.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(n),a===be&&(t=!1)}}e=Object.getPrototypeOf(e)}!function NZ(n){let e=0,t=null;for(let i=n.length-1;i>=0;i--){const r=n[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Dd(r.hostAttrs,t=Dd(t,r.hostAttrs))}}(i)}function $g(n){return n===Pr?{}:n===je?[]:n}function OZ(n,e){const t=n.viewQuery;n.viewQuery=t?(i,r)=>{e(i,r),t(i,r)}:e}function FZ(n,e){const t=n.contentQueries;n.contentQueries=t?(i,r,o)=>{e(i,r,o),t(i,r,o)}:e}function LZ(n,e){const t=n.hostBindings;n.hostBindings=t?(i,r)=>{e(i,r),t(i,r)}:e}function TF(n){const e=n.inputConfig,t={};for(const i in e)if(e.hasOwnProperty(i)){const r=e[i];Array.isArray(r)&&r[2]&&(t[i]=r[2])}n.inputTransforms=t}function qg(n){return!!WI(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function WI(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function zn(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Gt(n,e,t,i){const r=D();return zn(r,Xl(),e)&&(Le(),jr(Rt(),r,n,e,t,i)),Gt}function ne(n,e,t,i,r,o,s,a){const l=D(),c=Le(),u=n+Se,d=c.firstCreatePass?function lJ(n,e,t,i,r,o,s,a,l){const c=e.consts,u=vc(e,n,4,s||null,fs(c,a));UI(e,t,u,fs(c,l)),rg(e,u);const d=u.tView=BI(2,u,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,t,i,r,o,s):c.data[u];Fr(d,!1);const h=VF(c,l,d,n);ig()&&Ig(c,l,h,d),Hn(h,l),jg(l,l[u]=aF(h,l,h,d)),Jm(d)&&LI(c,l,d),null!=s&&VI(l,d,a)}let VF=function BF(n,e,t,i){return ps(!0),e[ce].createComment("")};function _s(n){return function Yl(n,e){return n[e]}(function YK(){return oe.lFrame.contextLView}(),Se+n)}function V(n,e,t){const i=D();return zn(i,Xl(),e)&&Li(Le(),Rt(),i,n,e,i[ce],t,!1),V}function ZI(n,e,t,i,r){const s=r?"class":"style";$I(n,t,e.inputs[s],s,i)}function A(n,e,t,i){const r=D(),o=Le(),s=Se+n,a=r[ce],l=o.firstCreatePass?function hJ(n,e,t,i,r,o){const s=e.consts,l=vc(e,n,2,i,fs(s,r));return UI(e,t,l,fs(s,o)),null!==l.attrs&&Hg(l,l.attrs,!1),null!==l.mergedAttrs&&Hg(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(s,o,r,e,t,i):o.data[s],c=UF(o,r,l,a,e,n);r[s]=c;const u=Jm(l);return Fr(l,!0),eO(a,c,l),32!=(32&l.flags)&&ig()&&Ig(o,r,c,l),0===function jK(){return oe.lFrame.elementDepthCount}()&&Hn(c,r),function HK(){oe.lFrame.elementDepthCount++}(),u&&(LI(o,r,l),FI(o,l,r)),null!==i&&VI(r,l),A}function k(){let n=Pn();TE()?xE():(n=n.parent,Fr(n,!1));const e=n;(function $K(n){return oe.skipHydrationRootTNode===n})(e)&&function KK(){oe.skipHydrationRootTNode=null}(),function zK(){oe.lFrame.elementDepthCount--}();const t=Le();return t.firstCreatePass&&(rg(t,n),mE(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function lY(n){return 0!=(8&n.flags)}(e)&&ZI(t,e,D(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cY(n){return 0!=(16&n.flags)}(e)&&ZI(t,e,D(),e.stylesWithoutHost,!1),k}function Ae(n,e,t,i){return A(n,e,t,i),k(),Ae}let UF=(n,e,t,i,r,o)=>(ps(!0),bg(i,r,function nN(){return oe.lFrame.currentNamespace}()));function Ac(n,e,t){const i=D(),r=Le(),o=n+Se,s=r.firstCreatePass?function mJ(n,e,t,i,r){const o=e.consts,s=fs(o,i),a=vc(e,n,8,"ng-container",s);return null!==s&&Hg(a,s,!0),UI(e,t,a,fs(o,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(o,r,i,e,t):r.data[o];Fr(s,!0);const a=jF(r,i,s,n);return i[o]=a,ig()&&Ig(r,i,a,s),Hn(a,i),Jm(s)&&(LI(r,i,s),FI(r,s,i)),null!=t&&VI(i,s),Ac}function Rc(){let n=Pn();const e=Le();return TE()?xE():(n=n.parent,Fr(n,!1)),e.firstCreatePass&&(rg(e,n),mE(n)&&e.queries.elementEnd(n)),Rc}function Qg(n,e,t){return Ac(n,e,t),Rc(),Qg}let jF=(n,e,t,i)=>(ps(!0),QE(e[ce],""));function So(){return D()}function hh(n){return!!n&&"function"==typeof n.then}function HF(n){return!!n&&"function"==typeof n.subscribe}function ue(n,e,t,i){const r=D(),o=Le(),s=Pn();return function $F(n,e,t,i,r,o,s){const a=Jm(i),c=n.firstCreatePass&&uF(n),u=e[qt],d=cF(e);let h=!0;if(3&i.type||s){const m=bi(i,e),g=s?s(m):m,b=d.length,_=s?x=>s(ct(x[i.index])):i.index;let E=null;if(!s&&a&&(E=function yJ(n,e,t,i){const r=n.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const s=r[o];if(s===t&&r[o+1]===i){const a=e[zl],l=r[o+2];return a.length>l?a[l]:null}"string"==typeof s&&(o+=2)}return null}(n,e,r,i.index)),null!==E)(E.__ngLastListenerFn__||E).__ngNextListenerFn__=o,E.__ngLastListenerFn__=o,h=!1;else{o=WF(i,e,u,o,!1);const x=t.listen(g,r,o);d.push(o,x),c&&c.push(r,_,b,b+1)}}else o=WF(i,e,u,o,!1);const f=i.outputs;let p;if(h&&null!==f&&(p=f[r])){const m=p.length;if(m)for(let g=0;g<m;g+=2){const L=e[p[g]][p[g+1]].subscribe(o),W=d.length;d.push(o,L),c&&c.push(r,i.index,W,-(W+1))}}}(o,r,r[ce],s,n,e,i),ue}function qF(n,e,t,i){try{return Or(6,e,t),!1!==t(i)}catch(r){return hF(n,r),!1}finally{Or(7,e,t)}}function WF(n,e,t,i,r){return function o(s){if(s===Function)return i;ih(n.componentOffset>-1?ki(n.index,e):e);let l=qF(e,t,i,s),c=o.__ngNextListenerFn__;for(;c;)l=qF(e,t,c,s)&&l,c=c.__ngNextListenerFn__;return r&&!1===l&&s.preventDefault(),l}}function ge(n=1){return function eY(n){return(oe.lFrame.contextLView=function tY(n,e){for(;n>0;)e=e[ql],n--;return e}(n,oe.lFrame.contextLView))[qt]}(n)}function vJ(n,e){let t=null;const i=function tK(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const o=e[r];if("*"!==o){if(null===i?u1(n,o,!0):rK(i,o))return r}else t=r}return t}function Vi(n){const e=D()[Wt][jn];if(!e.projection){const i=e.projection=Hd(n?n.length:1,null),r=i.slice();let o=e.child;for(;null!==o;){const s=n?vJ(o,n):0;null!==s&&(r[s]?r[s].projectionNext=o:i[s]=o,r[s]=o),o=o.next}}}function qe(n,e=0,t){const i=D(),r=Le(),o=vc(r,Se+n,16,null,t||null);null===o.projection&&(o.projection=e),xE(),(!i[wo]||Ql())&&32!=(32&o.flags)&&function yQ(n,e,t){ZN(e[ce],0,e,t,JE(n,t,e),WN(t.parent||e[jn],t,e))}(r,i,o)}function Xg(n,e){return n<<17|e<<2}function ys(n){return n>>17&32767}function e0(n){return 2|n}function xa(n){return(131068&n)>>2}function t0(n,e){return-131069&n|e<<2}function n0(n){return 1|n}function nL(n,e,t,i,r){const o=n[t+1],s=null===e;let a=i?ys(o):xa(o),l=!1;for(;0!==a&&(!1===l||s);){const u=n[a+1];TJ(n[a],e)&&(l=!0,n[a+1]=i?n0(u):e0(u)),a=i?ys(u):xa(u)}l&&(n[t+1]=i?e0(o):n0(o))}function TJ(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&sc(n,e)>=0}function wi(n,e,t){return gr(n,e,t,!1),wi}function Mt(n,e){return gr(n,e,null,!0),Mt}function gr(n,e,t,i){const r=D(),o=Le(),s=function Io(n){const e=oe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}(2);o.firstUpdatePass&&function uL(n,e,t,i){const r=n.data;if(null===r[t+1]){const o=r[oi()],s=function cL(n,e){return e>=n.expandoStartIndex}(n,t);(function pL(n,e){return 0!=(n.flags&(e?8:16))})(o,i)&&null===e&&!s&&(e=!1),e=function NJ(n,e,t,i){const r=function SE(n){const e=oe.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=fh(t=r0(null,n,e,t,i),e.attrs,i),o=null);else{const s=e.directiveStylingLast;if(-1===s||n[s]!==r)if(t=r0(r,n,e,t,i),null===o){let l=function OJ(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==xa(i))return n[ys(i)]}(n,e,i);void 0!==l&&Array.isArray(l)&&(l=r0(null,n,e,l[1],i),l=fh(l,e.attrs,i),function FJ(n,e,t,i){n[ys(t?e.classBindings:e.styleBindings)]=i}(n,e,i,l))}else o=function LJ(n,e,t){let i;const r=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<r;o++)i=fh(i,n[o].hostAttrs,t);return fh(i,e.attrs,t)}(n,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),t}(r,o,e,i),function IJ(n,e,t,i,r,o){let s=o?e.classBindings:e.styleBindings,a=ys(s),l=xa(s);n[i]=t;let u,c=!1;if(Array.isArray(t)?(u=t[1],(null===u||sc(t,u)>0)&&(c=!0)):u=t,r)if(0!==l){const h=ys(n[a+1]);n[i+1]=Xg(h,a),0!==h&&(n[h+1]=t0(n[h+1],i)),n[a+1]=function wJ(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Xg(a,0),0!==a&&(n[a+1]=t0(n[a+1],i)),a=i;else n[i+1]=Xg(l,0),0===a?a=i:n[l+1]=t0(n[l+1],i),l=i;c&&(n[i+1]=e0(n[i+1])),nL(n,u,i,!0),nL(n,u,i,!1),function CJ(n,e,t,i,r){const o=r?n.residualClasses:n.residualStyles;null!=o&&"string"==typeof e&&sc(o,e)>=0&&(t[i+1]=n0(t[i+1]))}(e,u,n,i,o),s=Xg(a,l),o?e.classBindings=s:e.styleBindings=s}(r,o,e,t,s,i)}}(o,n,s,i),e!==fe&&zn(r,s,e)&&function hL(n,e,t,i,r,o,s,a){if(!(3&e.type))return;const l=n.data,c=l[a+1],u=function EJ(n){return 1==(1&n)}(c)?fL(l,e,t,r,xa(c),s):void 0;Zg(u)||(Zg(o)||function bJ(n){return 2==(2&n)}(c)&&(o=fL(l,null,t,r,a,s)),function bQ(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let o=-1===i.indexOf("-")?void 0:ms.DashCase;null==r?n.removeStyle(t,i,o):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=ms.Important),n.setStyle(t,i,r,o))}}(i,s,ng(oi(),t),r,o))}(o,o.data[oi()],r,r[ce],n,r[s+1]=function jJ(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=sn(Oi(n)))),n}(e,t),i,s)}function r0(n,e,t,i,r){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=e[a],i=fh(i,o.hostAttrs,r),o!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function fh(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let o=0;o<e.length;o++){const s=e[o];"number"==typeof s?r=s:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Ni(n,s,!!t||e[++o]))}return void 0===n?null:n}function fL(n,e,t,i,r,o){const s=null===e;let a;for(;r>0;){const l=n[r],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=t[r+1];h===fe&&(h=d?je:void 0);let f=d?UE(h,i):u===i?h:void 0;if(c&&!Zg(f)&&(f=UE(l,i)),Zg(f)&&(a=f,s))return a;const p=n[r+1];r=s?ys(p):xa(p)}if(null!==e){let l=o?e.residualClasses:e.residualStyles;null!=l&&(a=UE(l,i))}return a}function Zg(n){return void 0!==n}function P(n,e=""){const t=D(),i=Le(),r=n+Se,o=i.firstCreatePass?vc(i,r,1,e,null):i.data[r],s=mL(i,t,o,e,n);t[r]=s,ig()&&Ig(i,t,s,o),Fr(o,!1)}let mL=(n,e,t,i,r)=>(ps(!0),function vg(n,e){return n.createText(e)}(e[ce],i));function Pc(n){return Ao("",n,""),Pc}function Ao(n,e,t){const i=D(),r=function wc(n,e,t,i){return zn(n,Xl(),t)?e+le(t)+i:fe}(i,n,e,t);return r!==fe&&function Do(n,e,t){const i=ng(e,n);!function jN(n,e,t){n.setValue(e,t)}(n[ce],i,t)}(i,oi(),r),Ao}function ph(n,e,t){const i=D();return zn(i,Xl(),e)&&Li(Le(),Rt(),i,n,e,i[ce],t,!0),ph}const Nc="en-US";let FL=Nc;function a0(n,e,t,i,r){if(n=se(n),Array.isArray(n))for(let o=0;o<n.length;o++)a0(n[o],e,t,i,r);else{const o=Le(),s=D(),a=Pn();let l=Ca(n)?n:se(n.provide);const c=wO(n),u=1048575&a.providerIndexes,d=a.directiveStart,h=a.providerIndexes>>20;if(Ca(n)||!n.multi){const f=new Ld(c,r,y),p=c0(l,e,r?u:u+h,d);-1===p?(LE(lg(a,s),o,l),l0(o,n,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(f),s.push(f)):(t[p]=f,s[p]=f)}else{const f=c0(l,e,u+h,d),p=c0(l,e,u,u+h),g=p>=0&&t[p];if(r&&!g||!r&&!(f>=0&&t[f])){LE(lg(a,s),o,l);const b=function lte(n,e,t,i,r){const o=new Ld(n,t,y);return o.multi=[],o.index=e,o.componentProviders=0,aV(o,r,i&&!t),o}(r?ate:ste,t.length,r,i,c);!r&&g&&(t[p].providerFactory=b),l0(o,n,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(b),s.push(b)}else l0(o,n,f>-1?f:p,aV(t[r?p:f],c,!r&&i));!r&&i&&g&&t[p].componentProviders++}}}function l0(n,e,t,i){const r=Ca(e),o=function JQ(n){return!!n.useClass}(e);if(r||o){const l=(o?se(e.useClass):e).prototype.ngOnDestroy;if(l){const c=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const u=c.indexOf(t);-1===u?c.push(t,[i,l]):c[u+1].push(i,l)}else c.push(t,l)}}}function aV(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function c0(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function ste(n,e,t,i){return u0(this.multi,[])}function ate(n,e,t,i){const r=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=ba(t,t[q],this.providerFactory.index,i);o=a.slice(0,s),u0(r,o);for(let l=s;l<a.length;l++)o.push(a[l])}else o=[],u0(r,o);return o}function u0(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function nt(n,e=[]){return t=>{t.providersResolver=(i,r)=>function ote(n,e,t){const i=Le();if(i.firstCreatePass){const r=mr(n);a0(t,i.data,i.blueprint,r,!0),a0(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class Sa{}class lV{}class d0 extends Sa{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new vF(this);const r=Pi(e);this._bootstrapComponents=xo(r.bootstrap),this._r3Injector=kO(e,t,[{provide:Sa,useValue:this},{provide:th,useValue:this.componentFactoryResolver},...i],sn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class h0 extends lV{constructor(e){super(),this.moduleType=e}create(e){return new d0(this.moduleType,e,[])}}class cV extends Sa{constructor(e){super(),this.componentFactoryResolver=new vF(this),this.instance=null;const t=new hc([...e.providers,{provide:Sa,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],e.parent||Mg(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function f0(n,e,t=null){return new cV({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let dte=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=_O(0,t.type),r=i.length>0?f0([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=N({token:n,providedIn:"environment",factory:()=>new n(C(Fi))})}return n})();function yr(n){n.getStandaloneInjector=e=>e.get(dte).getOrCreateStandaloneInjector(n)}function gV(n,e,t,i,r){return function yV(n,e,t,i,r,o,s){const a=e+t;return function Ta(n,e,t,i){const r=zn(n,e,t);return zn(n,e+1,i)||r}(n,a,r,o)?function Hr(n,e,t){return n[e]=t}(n,a+2,s?i.call(s,r,o):i(r,o)):function bh(n,e){const t=n[e];return t===fe?void 0:t}(n,a+2)}(D(),function ri(){const n=oe.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}(),n,e,t,i,r)}function Fte(){return this._results[Symbol.iterator]()}class Oc{static#e=Symbol.iterator;get changes(){return this._changes||(this._changes=new ve)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Oc.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Fte)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const i=this;i.dirty=!1;const r=function tr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function IY(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],o=e[i];if(t&&(r=t(r),o=t(o)),o!==r)return!1}return!0}(i._results,r,t))&&(i._results=r,i.length=r.length,i.last=r[this.length-1],i.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function Vte(n,e,t,i=!0){const r=e[q];if(function hQ(n,e,t,i){const r=Rn+i,o=t.length;i>0&&(t[r-1][pr]=e),i<o-Rn?(e[pr]=t[r],_N(t,Rn+i,e)):(t.push(e),e[pr]=null),e[Ct]=t;const s=e[Rd];null!==s&&t!==s&&function fQ(n,e){const t=n[Gl];e[Wt]!==e[Ct][Ct][Wt]&&(n[_1]=!0),null===t?n[Gl]=[e]:t.push(e)}(s,e);const a=e[kr];null!==a&&a.insertView(n),e[pe]|=128}(r,e,n,t),i){const o=tI(t,n),s=e[ce],a=Eg(s,n[Nr]);null!==a&&function cQ(n,e,t,i,r,o){i[Bt]=r,i[jn]=e,Kd(n,i,t,1,r,o)}(r,n[jn],s,e,a,o)}}let rr=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=jte}return n})();const Bte=rr,Ute=class extends Bte{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function Lte(n,e,t,i){const r=e.tView,a=Ug(n,r,t,4096&n[pe]?4096:16,null,e,null,null,null,i?.injector??null,i?.hydrationInfo??null);a[Rd]=n[e.index];const c=n[kr];return null!==c&&(a[kr]=c.createEmbeddedView(r)),qI(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:i});return new sh(r)}};function jte(){return i_(Pn(),D())}function i_(n,e){return 4&n.type?new Ute(e,n,gc(n,e)):null}let Ii=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=Gte}return n})();function Gte(){return SV(Pn(),D())}const Kte=Ii,xV=class extends Kte{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return gc(this._hostTNode,this._hostLView)}get injector(){return new si(this._hostTNode,this._hostLView)}get parentInjector(){const e=cg(this._hostTNode,this._hostLView);if(NE(e)){const t=Bd(e,this._hostLView),i=Vd(e);return new si(t[q].data[i+8],t)}return new si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=DV(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Rn}createEmbeddedView(e,t,i){let r,o;"number"==typeof i?r=i:null!=i&&(r=i.index,o=i.injector);const a=e.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,r,false),a}createComponent(e,t,i,r,o){const s=e&&!function jd(n){return"function"==typeof n}(e);let a;if(s)a=t;else{const m=t||{};a=m.index,i=m.injector,r=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef}const l=s?e:new ah(Fe(e)),c=i||this.parentInjector;if(!o&&null==l.ngModule){const g=(s?c:this.parentInjector).get(Fi,null);g&&(o=g)}Fe(l.componentType??{});const f=l.create(c,r,null,o);return this.insertImpl(f.hostView,a,false),f}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,i){const r=e._lView;if(function VK(n){return ni(n[Ct])}(r)){const l=this.indexOf(e);if(-1!==l)this.detach(l);else{const c=r[Ct],u=new xV(c,c[jn],c[Ct]);u.detach(u.indexOf(e))}}const s=this._adjustIndex(t),a=this._lContainer;return Vte(a,r,s,!i),e.attachToViewContainerRef(),_N(m0(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=DV(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=wg(this._lContainer,t);i&&(dg(m0(this._lContainer),t),XE(i[q],i))}detach(e){const t=this._adjustIndex(e,-1),i=wg(this._lContainer,t);return i&&null!=dg(m0(this._lContainer),t)?new sh(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function DV(n){return n[8]}function m0(n){return n[8]||(n[8]=[])}function SV(n,e){let t;const i=e[n.index];return ni(i)?t=i:(t=aF(i,e,null,n),e[n.index]=t,jg(e,t)),AV(t,e,n,i),new xV(t,n,e)}let AV=function RV(n,e,t,i){if(n[Nr])return;let r;r=8&t.type?ct(i):function Yte(n,e){const t=n[ce],i=t.createComment(""),r=bi(e,n);return wa(t,Eg(t,r),i,function _Q(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[Nr]=r};class g0{constructor(e){this.queryList=e,this.matches=null}clone(){return new g0(this.queryList)}setDirty(){this.queryList.setDirty()}}class _0{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let o=0;o<i;o++){const s=t.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new _0(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==OV(e,t).matches&&this.queries[t].setDirty()}}class MV{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class y0{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==t?t.push(o):t=[o])}return null!==t?new y0(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class v0{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new v0(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const o=i[r];this.matchTNodeWithReadOption(e,t,Zte(t,o)),this.matchTNodeWithReadOption(e,t,ug(t,e,o,!1,!1))}else i===rr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,ug(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===Oe||r===Ii||r===rr&&4&t.type)this.addMatch(t.index,-2);else{const o=ug(t,e,r,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Zte(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function ene(n,e,t,i){return-1===t?function Jte(n,e){return 11&n.type?gc(n,e):4&n.type?i_(n,e):null}(e,n):-2===t?function tne(n,e,t){return t===Oe?gc(e,n):t===rr?i_(e,n):t===Ii?SV(e,n):void 0}(n,e,i):ba(n,n[q],t,e)}function PV(n,e,t,i){const r=e[kr].queries[i];if(null===r.matches){const o=n.data,s=t.matches,a=[];for(let l=0;l<s.length;l+=2){const c=s[l];a.push(c<0?null:ene(e,o[c],s[l+1],t.metadata.read))}r.matches=a}return r.matches}function b0(n,e,t,i){const r=n.queries.getByIndex(t),o=r.matches;if(null!==o){const s=PV(n,e,r,t);for(let a=0;a<o.length;a+=2){const l=o[a];if(l>0)i.push(s[a/2]);else{const c=o[a+1],u=e[-l];for(let d=Rn;d<u.length;d++){const h=u[d];h[Rd]===h[Ct]&&b0(h[q],h,c,i)}if(null!==u[Gl]){const d=u[Gl];for(let h=0;h<d.length;h++){const f=d[h];b0(f[q],f,c,i)}}}}}return i}function Xe(n){const e=D(),t=Le(),i=Y1();AE(i+1);const r=OV(t,i);if(n.dirty&&function FK(n){return 4==(4&n[pe])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const o=r.crossesNgTemplate?b0(t,e,i,[]):PV(t,e,r,i);n.reset(o,bX),n.notifyOnChanges()}return!0}return!1}function Nn(n,e,t){const i=Le();i.firstCreatePass&&(NV(i,new MV(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),kV(i,D(),e)}function Bi(n,e,t,i){const r=Le();if(r.firstCreatePass){const o=Pn();NV(r,new MV(e,t,i),o.index),function ine(n,e){const t=n.contentQueries||(n.contentQueries=[]);e!==(t.length?t[t.length-1]:-1)&&t.push(n.queries.length-1,e)}(r,n),2==(2&t)&&(r.staticContentQueries=!0)}kV(r,D(),t)}function Ze(){return function nne(n,e){return n[kr].queries[e].queryList}(D(),Y1())}function kV(n,e,t){const i=new Oc(4==(4&t));(function ZX(n,e,t,i){const r=cF(e);r.push(t),n.firstCreatePass&&uF(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[kr]&&(e[kr]=new _0),e[kr].queries.push(new g0(i))}function NV(n,e,t){null===n.queries&&(n.queries=new y0),n.queries.track(new v0(e,t))}function OV(n,e){return n.queries.getByIndex(e)}function Eh(n,e){return i_(n,e)}const x0=new S("Application Initializer");let D0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=F(x0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const o=r();if(hh(o))t.push(o);else if(HF(o)){const s=new Promise((a,l)=>{o.subscribe({complete:a,error:l})});t.push(s)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ZV=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const qr=new S("LocaleId",{providedIn:"root",factory:()=>F(qr,xe.Optional|xe.SkipSelf)||function Cne(){return typeof $localize<"u"&&$localize.locale||Nc}()});let JV=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ri(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Dne{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let e2=(()=>{class n{compileModuleSync(t){return new h0(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),o=xo(Pi(t).declarations).reduce((s,a)=>{const l=Fe(a);return l&&s.push(new ah(l)),s},[]);return new Dne(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const o2=new S(""),a_=new S("");let P0,R0=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,P0||(function Yne(n){P0=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Q.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(C(Q),C(M0),C(a_))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),M0=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return P0?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),vs=null;const s2=new S("AllowMultipleToken"),k0=new S("PlatformDestroyListeners"),N0=new S("appBootstrapListener");class l2{constructor(e,t){this.name=e,this.token=t}}function u2(n,e,t=[]){const i=`Platform: ${e}`,r=new S(i);return(o=[])=>{let s=O0();if(!s||s.injector.get(s2,!1)){const a=[...t,...o,{provide:r,useValue:!0}];n?n(a):function Zne(n){if(vs&&!vs.get(s2,!1))throw new T(400,!1);(function a2(){!function EK(n){S1=n}(()=>{throw new T(600,!1)})})(),vs=n;const e=n.get(h2);(function c2(n){n.get(EO,null)?.forEach(t=>t())})(n)}(function d2(n=[],e){return yt.create({name:e,providers:[{provide:hI,useValue:"platform"},{provide:k0,useValue:new Set([()=>vs=null])},...n]})}(a,i))}return function eie(n){const e=O0();if(!e)throw new T(401,!1);return e}()}}function O0(){return vs?.get(h2)??null}let h2=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function tie(n="zone.js",e){return"noop"===n?new NX:"zone.js"===n?new Q(e):n}(i?.ngZone,function f2(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const o=function ute(n,e,t){return new d0(n,e,t)}(t.moduleType,this.injector,function y2(n){return[{provide:Q,useFactory:n},{provide:Xd,multi:!0,useFactory:()=>{const e=F(iie,{optional:!0});return()=>e.initialize()}},{provide:_2,useFactory:nie},{provide:VO,useFactory:BO}]}(()=>r)),s=o.injector.get(nr,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{s.handleError(l)}});o.onDestroy(()=>{l_(this._modules,o),a.unsubscribe()})}),function p2(n,e,t){try{const i=t();return hh(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(s,r,()=>{const a=o.injector.get(D0);return a.runInitializers(),a.donePromise.then(()=>(function LL(n){Zi(n,"Expected localeId to be defined"),"string"==typeof n&&(FL=n.toLowerCase().replace(/_/g,"-"))}(o.injector.get(qr,Nc)||Nc),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,i=[]){const r=m2({},i);return function Qne(n,e,t){const i=new h0(t);return Promise.resolve(i)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,r))}_moduleDoBootstrap(t){const i=t.injector.get(Ro);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new T(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(k0,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(C(yt))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function m2(n,e){return Array.isArray(e)?e.reduce(m2,n):{...n,...e}}let Ro=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=F(_2),this.zoneIsStable=F(VO),this.componentTypes=[],this.components=[],this.isStable=F(JV).hasPendingTasks.pipe(ei(t=>t?Z(!1):this.zoneIsStable),Wk(),Um()),this._injector=F(Fi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof xO;if(!this._injector.get(D0).done)throw!r&&function Hl(n){const e=Fe(n)||An(n)||ti(n);return null!==e&&e.standalone}(t),new T(405,!1);let s;s=r?t:this._injector.get(th).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function Xne(n){return n.isBoundToModule}(s)?void 0:this._injector.get(Sa),c=s.create(yt.NULL,[],i||s.selector,a),u=c.location.nativeElement,d=c.injector.get(o2,null);return d?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),l_(this.components,c),d?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;l_(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(N0,[]);i.push(...this._bootstrapListeners),i.forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>l_(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new T(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function l_(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const _2=new S("",{providedIn:"root",factory:()=>F(nr).handleError.bind(void 0)});function nie(){const n=F(Q),e=F(nr);return t=>n.runOutsideAngular(()=>e.handleError(t))}let iie=(()=>{class n{constructor(){this.zone=F(Q),this.applicationRef=F(Ro)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();let or=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=oie}return n})();function oie(n){return function sie(n,e,t){if(_a(n)&&!t){const i=ki(n.index,e);return new sh(i,i)}return 47&n.type?new sh(e[Wt],e):null}(Pn(),D(),16==(16&n))}class E2{constructor(){}supports(e){return qg(e)}create(e){return new hie(e)}}const die=(n,e)=>e;class hie{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||die}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,o=null;for(;t||i;){const s=!i||t&&t.currentIndex<C2(i,r,o)?t:i,a=C2(s,r,o),l=s.currentIndex;if(s===i)r--,i=i._nextRemoved;else if(t=t._next,null==s.previousIndex)r++;else{o||(o=[]);const c=a-r,u=l-r;if(c!=u){for(let h=0;h<c;h++){const f=h<o.length?o[h]:o[h]=0,p=f+h;u<=p&&p<c&&(o[h]=f+1)}o[s.previousIndex]=u-c}}a!==l&&e(s,a,l)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!qg(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,o,s,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),i=!0),t=t._next}else r=0,function $Z(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{s=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,s)?(i&&(t=this._verifyReinsertion(t,a,s,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let o;return null===e?o=this._itTail:(o=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,r)):e=this._addAfter(new fie(t,i),o,r),e}_verifyReinsertion(e,t,i,r){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==o?e=this._reinsertAfter(o,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,o=e._nextRemoved;return null===r?this._removalsHead=o:r._nextRemoved=o,null===o?this._removalsTail=r:o._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new I2),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new I2),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class fie{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class pie{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class I2{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new pie,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function C2(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class T2{constructor(){}supports(e){return e instanceof Map||WI(e)}create(){return new mie}}class mie{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||WI(e)))throw new T(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const o=r._prev,s=r._next;return o&&(o._next=s),s&&(s._prev=o),r._next=null,r._prev=null,r}const i=new gie(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class gie{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function x2(){return new d_([new E2])}let d_=(()=>{class n{static#e=this.\u0275prov=N({token:n,providedIn:"root",factory:x2});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||x2()),deps:[[n,new zd,new Tt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new T(901,!1)}}return n})();function D2(){return new Th([new T2])}let Th=(()=>{class n{static#e=this.\u0275prov=N({token:n,providedIn:"root",factory:D2});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||D2()),deps:[[n,new zd,new Tt]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new T(901,!1)}}return n})();const vie=u2(null,"core",[]);let bie=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(C(Ro))};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();function Vc(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}let j0=null;function bs(){return j0}class Oie{}const we=new S("DocumentToken");let H0=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(){return F(Lie)},providedIn:"platform"})}return n})();const Fie=new S("Location Initialized");let Lie=(()=>{class n extends H0{constructor(){super(),this._doc=F(we),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return bs().getBaseHref(this._doc)}onPopState(t){const i=bs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=bs().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(){return new n},providedIn:"platform"})}return n})();function z0(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function F2(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Mo(n){return n&&"?"!==n[0]?"?"+n:n}let Ra=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(){return F(V2)},providedIn:"root"})}return n})();const L2=new S("appBaseHref");let V2=(()=>{class n extends Ra{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??F(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return z0(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+Mo(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){const s=this.prepareExternalUrl(r+Mo(o));this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){const s=this.prepareExternalUrl(r+Mo(o));this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(C(H0),C(L2,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vie=(()=>{class n extends Ra{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=z0(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let s=this.prepareExternalUrl(r+Mo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,i,s)}replaceState(t,i,r,o){let s=this.prepareExternalUrl(r+Mo(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(C(H0),C(L2,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),f_=(()=>{class n{constructor(t){this._subject=new ve,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function jie(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(F2(B2(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Mo(i))}normalize(t){return n.stripTrailingSlash(function Uie(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,B2(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mo(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Mo(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=Mo;static#t=this.joinWithSlash=z0;static#n=this.stripTrailingSlash=F2;static#i=this.\u0275fac=function(i){return new(i||n)(C(Ra))};static#r=this.\u0275prov=N({token:n,factory:function(){return function Bie(){return new f_(C(Ra))}()},providedIn:"root"})}return n})();function B2(n){return n.replace(/\/index.html$/,"")}const J0=/\s+/,K2=[];let Sh=(()=>{class n{constructor(t,i,r,o){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=o,this.initialClasses=K2,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(J0):K2}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(J0):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(J0).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(y(d_),y(Th),y(Oe),y(Ur))};static#t=this.\u0275dir=z({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class Dre{constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let eC=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,o,s)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new Dre(r.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)i.remove(null===o?void 0:o);else if(null!==o){const a=i.get(o);i.move(a,s),Q2(a,r)}});for(let r=0,o=i.length;r<o;r++){const a=i.get(r).context;a.index=r,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{Q2(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ii),y(rr),y(d_))};static#t=this.\u0275dir=z({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function Q2(n,e){n.context.$implicit=e.item}let Wr=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new Sre,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){X2("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){X2("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ii),y(rr))};static#t=this.\u0275dir=z({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class Sre{constructor(){this.$implicit=null,this.ngIf=null}}function X2(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${sn(e)}'.`)}class tC{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}let Ah=(()=>{class n{constructor(){this._defaultViews=[],this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews.push(t)}_matchCase(t){const i=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||i,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),i}_updateDefaultCases(t){if(this._defaultViews.length>0&&t!==this._defaultUsed){this._defaultUsed=t;for(const i of this._defaultViews)i.enforceState(t)}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=z({type:n,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0})}return n})(),nC=(()=>{class n{constructor(t,i,r){this.ngSwitch=r,r._addCase(),this._view=new tC(t,i)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ii),y(rr),y(Ah,9))};static#t=this.\u0275dir=z({type:n,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0})}return n})(),iC=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,o]=t.split("."),s=-1===r.indexOf("-")?void 0:ms.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,o?`${i}${o}`:i,s):this._renderer.removeStyle(this._ngEl.nativeElement,r,s)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(Th),y(Ur))};static#t=this.\u0275dir=z({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),J2=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const i=this._viewContainerRef;if(this._viewRef&&i.remove(i.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:r,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=i.createEmbeddedView(r,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ii))};static#t=this.\u0275dir=z({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[ii]})}return n})(),No=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();const tB="browser";function sC(n){return"server"===n}let ioe=(()=>{class n{static#e=this.\u0275prov=N({token:n,providedIn:"root",factory:()=>new roe(C(we),window)})}return n})();class roe{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function ooe(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const o=r.shadowRoot;if(o){const s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(i-o[0],r-o[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Aoe extends Oie{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class cC extends Aoe{static makeCurrent(){!function Nie(n){j0||(j0=n)}(new cC)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Roe(){return Mh=Mh||document.querySelector("base"),Mh?Mh.getAttribute("href"):null}();return null==t?null:function Moe(n){x_=x_||document.createElement("a"),x_.setAttribute("href",n);const e=x_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Mh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Tre(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,o]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(o)}return null}(document.cookie,e)}}let x_,Mh=null,koe=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();const uC=new S("EventManagerPlugins");let sB=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new T(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(C(uC),C(Q))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();class aB{constructor(e){this._doc=e}}const dC="ng-app-id";let lB=(()=>{class n{constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=sC(o),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${dC}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const o=r.get(t);return o.usage+=i,o.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,o=r?.get(i);if(o?.parentNode===t)return r.delete(i),o.removeAttribute(dC),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=i,this.platformIsServer&&s.setAttribute(dC,this.appId),s}}addStyleToHost(t,i){const r=this.getStyleElement(t,i);t.appendChild(r);const o=this.styleRef,s=o.get(i)?.elements;s?s.push(r):o.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(C(we),C(Zd),C(gI,8),C(To))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();const hC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fC=/%COMP%/g,Loe=new S("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function uB(n,e){return e.map(t=>t.replace(fC,n))}let pC=(()=>{class n{constructor(t,i,r,o,s,a,l,c=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=l,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=sC(a),this.defaultRenderer=new mC(t,s,l,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ji.ShadowDom&&(i={...i,encapsulation:Ji.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof hB?r.applyToHost(t):r instanceof gC&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let o=r.get(i.id);if(!o){const s=this.doc,a=this.ngZone,l=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,d=this.platformIsServer;switch(i.encapsulation){case Ji.Emulated:o=new hB(l,c,i,this.appId,u,s,a,d);break;case Ji.ShadowDom:return new joe(l,c,t,i,s,a,this.nonce,d);default:o=new gC(l,c,i,u,s,a,d)}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(C(sB),C(lB),C(Zd),C(Loe),C(we),C(To),C(Q),C(gI))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();class mC{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(hC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(dB(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(dB(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new T(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const o=hC[r];o?e.setAttributeNS(o,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=hC[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ms.DashCase|ms.Important)?e.style.setProperty(t,i,r&ms.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ms.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){e[t]=i}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=bs().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function dB(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class joe extends mC{constructor(e,t,i,r,o,s,a,l){super(e,o,s,l),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const c=uB(r.id,r.styles);for(const u of c){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class gC extends mC{constructor(e,t,i,r,o,s,a,l){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=l?uB(l,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class hB extends gC{constructor(e,t,i,r,o,s,a,l){const c=r+"-"+i.id;super(e,t,i,o,s,a,l,c),this.contentAttr=function Voe(n){return"_ngcontent-%COMP%".replace(fC,n)}(c),this.hostAttr=function Boe(n){return"_nghost-%COMP%".replace(fC,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let Hoe=(()=>{class n extends aB{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(C(we))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();const fB=["alt","control","meta","shift"],zoe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$oe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let qoe=(()=>{class n extends aB{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const o=n.parseEventName(i),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>bs().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const o=n._normalizeKey(i.pop());let s="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),s="code."),fB.forEach(c=>{const u=i.indexOf(c);u>-1&&(i.splice(u,1),s+=c+".")}),s+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=r,l.fullKey=s,l}static matchEventFullKeyCode(t,i){let r=zoe[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),fB.forEach(s=>{s!==r&&(0,$oe[s])(t)&&(o+=s+".")}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{n.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(C(we))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();const mB=[{provide:To,useValue:tB},{provide:EO,useValue:function Woe(){cC.makeCurrent()},multi:!0},{provide:we,useFactory:function Koe(){return function TQ(n){rI=n}(document),document},deps:[]}],Yoe=u2(vie,"browser",mB),Qoe=new S(""),gB=[{provide:a_,useClass:class Poe{addToWindow(e){rt.getAngularTestability=(i,r=!0)=>{const o=e.findTestabilityInTree(i,r);if(null==o)throw new T(5103,!1);return o},rt.getAllAngularTestabilities=()=>e.getAllTestabilities(),rt.getAllAngularRootElements=()=>e.getAllRootElements(),rt.frameworkStabilizers||(rt.frameworkStabilizers=[]),rt.frameworkStabilizers.push(i=>{const r=rt.getAllAngularTestabilities();let o=r.length,s=!1;const a=function(l){s=s||l,o--,0==o&&i(s)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?bs().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:o2,useClass:R0,deps:[Q,M0,a_]},{provide:R0,useClass:R0,deps:[Q,M0,a_]}],_B=[{provide:hI,useValue:"root"},{provide:nr,useFactory:function Goe(){return new nr},deps:[]},{provide:uC,useClass:Hoe,multi:!0,deps:[we,Q,To]},{provide:uC,useClass:qoe,multi:!0,deps:[we]},pC,lB,sB,{provide:nh,useExisting:pC},{provide:class soe{},useClass:koe,deps:[]},[]];let yB=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:Zd,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(C(Qoe,12))};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({providers:[..._B,...gB],imports:[No,bie]})}return n})(),vB=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(C(we))};static#t=this.\u0275prov=N({token:n,factory:function(i){let r=null;return r=i?new i:function Zoe(){return new vB(C(we))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;let yC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(i){let r=null;return r=i?new(i||n):C(EB),r},providedIn:"root"})}return n})(),EB=(()=>{class n extends yC{constructor(t){super(),this._doc=t}sanitize(t,i){if(null==i)return null;switch(t){case kn.NONE:return i;case kn.HTML:return Vr(i,"HTML")?Oi(i):uO(this._doc,String(i)).toString();case kn.STYLE:return Vr(i,"Style")?Oi(i):i;case kn.SCRIPT:if(Vr(i,"Script"))return Oi(i);throw new T(5200,!1);case kn.URL:return Vr(i,"URL")?Oi(i):Dg(String(i));case kn.RESOURCE_URL:if(Vr(i,"ResourceURL"))return Oi(i);throw new T(5201,!1);default:throw new T(5202,!1)}}bypassSecurityTrustHtml(t){return function PQ(n){return new xQ(n)}(t)}bypassSecurityTrustStyle(t){return function kQ(n){return new DQ(n)}(t)}bypassSecurityTrustScript(t){return function NQ(n){return new SQ(n)}(t)}bypassSecurityTrustUrl(t){return function OQ(n){return new AQ(n)}(t)}bypassSecurityTrustResourceUrl(t){return function FQ(n){return new RQ(n)}(t)}static#e=this.\u0275fac=function(i){return new(i||n)(C(we))};static#t=this.\u0275prov=N({token:n,factory:function(i){let r=null;return r=i?new i:function nse(n){return new EB(n.get(we))}(C(yt)),r},providedIn:"root"})}return n})();const{isArray:ise}=Array,{getPrototypeOf:rse,prototype:ose,keys:sse}=Object;function CB(n){if(1===n.length){const e=n[0];if(ise(e))return{args:e,keys:null};if(function ase(n){return n&&"object"==typeof n&&rse(n)===ose}(e)){const t=sse(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}const{isArray:lse}=Array;function vC(n){return he(e=>function cse(n,e){return lse(e)?n(...e):n(e)}(n,e))}function TB(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}function xB(...n){const e=$k(n),{args:t,keys:i}=CB(n),r=new ze(o=>{const{length:s}=t;if(!s)return void o.complete();const a=new Array(s);let l=s,c=s;for(let u=0;u<s;u++){let d=!1;gn(t[u]).subscribe(gt(o,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||o.next(i?TB(i,a):a),o.complete())}))}});return e?r.pipe(vC(e)):r}let DB=(()=>{class n{constructor(t,i){this._renderer=t,this._elementRef=i,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ur),y(Oe))};static#t=this.\u0275dir=z({type:n})}return n})(),Ma=(()=>{class n extends DB{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=_n(n)))(r||n)}}();static#t=this.\u0275dir=z({type:n,features:[be]})}return n})();const Gr=new S("NgValueAccessor"),dse={provide:Gr,useExisting:lt(()=>Pa),multi:!0},fse=new S("CompositionEventMode");let Pa=(()=>{class n extends DB{constructor(t,i,r){super(t,i),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function hse(){const n=bs()?bs().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Ur),y(Oe),y(fse,8))};static#t=this.\u0275dir=z({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){1&i&&ue("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[nt([dse]),be]})}return n})();function Es(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function AB(n){return null!=n&&"number"==typeof n.length}const $n=new S("NgValidators"),Is=new S("NgAsyncValidators"),pse=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Oo{static min(e){return function RB(n){return e=>{if(Es(e.value)||Es(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function MB(n){return e=>{if(Es(e.value)||Es(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function PB(n){return Es(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function kB(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function NB(n){return Es(n.value)||pse.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function OB(n){return e=>Es(e.value)||!AB(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function FB(n){return e=>AB(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function LB(n){if(!n)return D_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),i=>{if(Es(i.value))return null;const r=i.value;return e.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return zB(e)}static composeAsync(e){return $B(e)}}function D_(n){return null}function VB(n){return null!=n}function BB(n){return hh(n)?_t(n):n}function UB(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function jB(n,e){return e.map(t=>t(n))}function HB(n){return n.map(e=>function mse(n){return!n.validate}(e)?e:t=>e.validate(t))}function zB(n){if(!n)return null;const e=n.filter(VB);return 0==e.length?null:function(t){return UB(jB(t,e))}}function bC(n){return null!=n?zB(HB(n)):null}function $B(n){if(!n)return null;const e=n.filter(VB);return 0==e.length?null:function(t){return xB(jB(t,e).map(BB)).pipe(he(UB))}}function wC(n){return null!=n?$B(HB(n)):null}function qB(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function WB(n){return n._rawValidators}function GB(n){return n._rawAsyncValidators}function EC(n){return n?Array.isArray(n)?n:[n]:[]}function S_(n,e){return Array.isArray(n)?n.includes(e):n===e}function KB(n,e){const t=EC(e);return EC(n).forEach(r=>{S_(t,r)||t.push(r)}),t}function YB(n,e){return EC(e).filter(t=>!S_(n,t))}class QB{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=bC(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wC(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class di extends QB{get formDirective(){return null}get path(){return null}}class Fo extends QB{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class XB{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Ph=(()=>{class n extends XB{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Fo,2))};static#t=this.\u0275dir=z({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){2&i&&Mt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[be]})}return n})(),A_=(()=>{class n extends XB{constructor(t){super(t)}static#e=this.\u0275fac=function(i){return new(i||n)(y(di,10))};static#t=this.\u0275dir=z({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){2&i&&Mt("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[be]})}return n})();const kh="VALID",M_="INVALID",Uc="PENDING",Nh="DISABLED";function TC(n){return(P_(n)?n.validators:n)||null}function xC(n,e){return(P_(e)?e.asyncValidators:n)||null}function P_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function JB(n,e,t){const i=n.controls;if(!(e?Object.keys(i):i).length)throw new T(1e3,"");if(!i[t])throw new T(1001,"")}function eU(n,e,t){n._forEachChild((i,r)=>{if(void 0===t[r])throw new T(1002,"")})}class k_{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kh}get invalid(){return this.status===M_}get pending(){return this.status==Uc}get disabled(){return this.status===Nh}get enabled(){return this.status!==Nh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(KB(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(KB(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(YB(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(YB(e,this._rawAsyncValidators))}hasValidator(e){return S_(this._rawValidators,e)}hasAsyncValidator(e){return S_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Uc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Nh,this.errors=null,this._forEachChild(i=>{i.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kh,this._forEachChild(i=>{i.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kh||this.status===Uc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Nh:kh}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Uc,this._hasOwnPendingAsyncValidator=!0;const t=BB(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(i=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(i,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(e,t){const i=t?this.get(t):this;return i&&i.errors?i.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new ve,this.statusChanges=new ve}_calculateStatus(){return this._allControlsDisabled()?Nh:this.errors?M_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Uc)?Uc:this._anyControlsHaveStatus(M_)?M_:kh}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){P_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function vse(n){return Array.isArray(n)?bC(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function bse(n){return Array.isArray(n)?wC(n):n||null}(this._rawAsyncValidators)}}class Oh extends k_{constructor(e,t,i){super(TC(t),xC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,i={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,i={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){eU(this,0,e),Object.keys(e).forEach(i=>{JB(this,!0,i),this.controls[i].setValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(i=>{const r=this.controls[i];r&&r.patchValue(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((i,r)=>{i.reset(e?e[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,i)=>(e[i]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,i)=>!!i._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const i=this.controls[t];i&&e(i,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,i]of Object.entries(this.controls))if(this.contains(t)&&e(i))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(e,t){let i=e;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class tU extends Oh{}const ka=new S("CallSetDisabledState",{providedIn:"root",factory:()=>Fh}),Fh="always";function N_(n,e){return[...e.path,n]}function Lh(n,e,t=Fh){DC(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Ese(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nU(n,e)})}(n,e),function Cse(n,e){const t=(i,r)=>{e.valueAccessor.writeValue(i),r&&e.viewToModelUpdate(i)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Ise(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nU(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function wse(n,e){if(e.valueAccessor.setDisabledState){const t=i=>{e.valueAccessor.setDisabledState(i)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function O_(n,e,t=!0){const i=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(i),e.valueAccessor.registerOnTouched(i)),L_(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function F_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function DC(n,e){const t=WB(n);null!==e.validator?n.setValidators(qB(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const i=GB(n);null!==e.asyncValidator?n.setAsyncValidators(qB(i,e.asyncValidator)):"function"==typeof i&&n.setAsyncValidators([i]);const r=()=>n.updateValueAndValidity();F_(e._rawValidators,r),F_(e._rawAsyncValidators,r)}function L_(n,e){let t=!1;if(null!==n){if(null!==e.validator){const r=WB(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.validator);o.length!==r.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const r=GB(n);if(Array.isArray(r)&&r.length>0){const o=r.filter(s=>s!==e.asyncValidator);o.length!==r.length&&(t=!0,n.setAsyncValidators(o))}}}const i=()=>{};return F_(e._rawValidators,i),F_(e._rawAsyncValidators,i),t}function nU(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function iU(n,e){DC(n,e)}function AC(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}function rU(n,e){n._syncPendingControls(),e.forEach(t=>{const i=t.control;"submit"===i.updateOn&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function RC(n,e){if(!e)return null;let t,i,r;return Array.isArray(e),e.forEach(o=>{o.constructor===Pa?t=o:function Dse(n){return Object.getPrototypeOf(n.constructor)===Ma}(o)?i=o:r=o}),r||i||t||null}const Ase={provide:di,useExisting:lt(()=>V_)},Vh=(()=>Promise.resolve())();let V_=(()=>{class n extends di{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._directives=new Set,this.ngSubmit=new ve,this.form=new Oh({},bC(t),wC(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Vh.then(()=>{const i=this._findContainer(t.path);t.control=i.registerControl(t.name,t.control),Lh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Vh.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Vh.then(()=>{const i=this._findContainer(t.path),r=new Oh({});iU(r,t),i.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Vh.then(()=>{const i=this._findContainer(t.path);i&&i.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,i){Vh.then(()=>{this.form.get(t.path).setValue(i)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,rU(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static#e=this.\u0275fac=function(i){return new(i||n)(y($n,10),y(Is,10),y(ka,8))};static#t=this.\u0275dir=z({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,r){1&i&&ue("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Ase]),be]})}return n})();function oU(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function sU(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Bh=class extends k_{constructor(e=null,t,i){super(TC(t),xC(i,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),P_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=sU(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(i=>i(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){oU(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){oU(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sU(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Pse={provide:Fo,useExisting:lt(()=>MC)},cU=(()=>Promise.resolve())();let MC=(()=>{class n extends Fo{constructor(t,i,r,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new Bh,this._registered=!1,this.name="",this.update=new ve,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=RC(0,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),AC(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){cU.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const i=t.isDisabled.currentValue,r=0!==i&&Vc(i);cU.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?N_(t,this._parent):[t]}static#e=this.\u0275fac=function(i){return new(i||n)(y(di,9),y($n,10),y(Is,10),y(Gr,10),y(or,8),y(ka,8))};static#t=this.\u0275dir=z({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[nt([Pse]),be,ii]})}return n})(),B_=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=z({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}return n})(),dU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();const PC=new S("NgModelWithFormControlWarning"),Vse={provide:di,useExisting:lt(()=>Na)};let Na=(()=>{class n extends di{constructor(t,i,r){super(),this.callSetDisabledState=r,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ve,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(L_(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const i=this.form.get(t.path);return Lh(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){O_(t.control||null,t,!1),function Sse(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this.submitted=!0,rU(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const i=t.control,r=this.form.get(t.path);i!==r&&(O_(i||null,t),(n=>n instanceof Bh)(r)&&(Lh(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const i=this.form.get(t.path);iU(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const i=this.form.get(t.path);i&&function Tse(n,e){return L_(n,e)}(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){DC(this.form,this),this._oldForm&&L_(this._oldForm,this)}_checkFormPresent(){}static#e=this.\u0275fac=function(i){return new(i||n)(y($n,10),y(Is,10),y(ka,8))};static#t=this.\u0275dir=z({type:n,selectors:[["","formGroup",""]],hostBindings:function(i,r){1&i&&ue("submit",function(s){return r.onSubmit(s)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[nt([Vse]),be,ii]})}return n})();const jse={provide:Fo,useExisting:lt(()=>Uh)};let Uh=(()=>{class n extends Fo{set isDisabled(t){}static#e=this._ngModelWarningSentOnce=!1;constructor(t,i,r,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ve,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=RC(0,o)}ngOnChanges(t){this._added||this._setUpControl(),AC(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return N_(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static#t=this.\u0275fac=function(i){return new(i||n)(y(di,13),y($n,10),y(Is,10),y(Gr,10),y(PC,8))};static#n=this.\u0275dir=z({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[nt([jse]),be,ii]})}return n})(),DU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[dU]})}return n})();class SU extends k_{constructor(e,t,i){super(TC(t),xC(i,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,i={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(e,t={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,i={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){eU(this,0,e),e.forEach((i,r)=>{JB(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((i,r)=>{i.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,i)=>!!i._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,i)=>{e(t,i)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function AU(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let BC,nae=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,i=null){const r=this._reduceControls(t);let o={};return AU(i)?o=i:null!==i&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new Oh(r,o)}record(t,i=null){const r=this._reduceControls(t);return new tU(r,i)}control(t,i,r){let o={};return this.useNonNullable?(AU(i)?o=i:(o.validators=i,o.asyncValidators=r),new Bh(t,{...o,nonNullable:!0})):new Bh(t,i,r)}array(t,i,r){const o=t.map(s=>this._createControl(s));return new SU(o,i,r)}_reduceControls(t){const i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){return t instanceof Bh||t instanceof k_?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VC=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(){return F(nae).nonNullable},providedIn:"root"})}return n})(),iae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ka,useValue:t.callSetDisabledState??Fh}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[DU]})}return n})(),rae=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:PC,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ka,useValue:t.callSetDisabledState??Fh}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[DU]})}return n})();try{BC=typeof Intl<"u"&&Intl.v8BreakIterator}catch{BC=!1}let jc,dn=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function noe(n){return n===tB}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!BC)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(i){return new(i||n)(C(To))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const RU=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function MU(){if(jc)return jc;if("object"!=typeof document||!document)return jc=new Set(RU),jc;let n=document.createElement("input");return jc=new Set(RU.filter(e=>(n.setAttribute("type",e),n.type===e))),jc}let jh,La,UC;function Fa(n){return function oae(){if(null==jh&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>jh=!0}))}finally{jh=jh||!1}return jh}()?n:!!n.capture}function sae(){if(null==La){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return La=!1,La;if("scrollBehavior"in document.documentElement.style)La=!0;else{const n=Element.prototype.scrollTo;La=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return La}function Cs(n){return n.composedPath?n.composedPath()[0]:n.target}function jC(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function $C(n,...e){return e.length?e.some(t=>n[t]):n.altKey||n.shiftKey||n.ctrlKey||n.metaKey}function Pt(n,e,t){const i=Ne(n)||e||t?{next:n,error:e,complete:t}:n;return i?Vt((r,o)=>{var s;null===(s=i.subscribe)||void 0===s||s.call(i);let a=!0;r.subscribe(gt(o,l=>{var c;null===(c=i.next)||void 0===c||c.call(i,l),o.next(l)},()=>{var l;a=!1,null===(l=i.complete)||void 0===l||l.call(i),o.complete()},l=>{var c;a=!1,null===(c=i.error)||void 0===c||c.call(i,l),o.error(l)},()=>{var l,c;a&&(null===(l=i.unsubscribe)||void 0===l||l.call(i)),null===(c=i.finalize)||void 0===c||c.call(i)}))}):as}class Tae extends It{constructor(e,t){super()}schedule(e,t=0){return this}}const j_={setInterval(n,e,...t){const{delegate:i}=j_;return i?.setInterval?i.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=j_;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class H_ extends Tae{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var i;if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=null!==(i=this.id)&&void 0!==i?i:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,i=0){return j_.setInterval(e.flush.bind(e,this),i)}recycleAsyncId(e,t,i=0){if(null!=i&&this.delay===i&&!1===this.pending)return t;null!=t&&j_.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const i=this._execute(e,t);if(i)return i;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r,i=!1;try{this.work(e)}catch(o){i=!0,r=o||new Error("Scheduled action threw falsy error")}if(i)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:i}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Vl(i,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const qC={now:()=>(qC.delegate||Date).now(),delegate:void 0};class Hh{constructor(e,t=Hh.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,i){return new this.schedulerActionCtor(this,e).schedule(i,t)}}Hh.now=qC.now;class z_ extends Hh{constructor(e,t=Hh.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}}const zh=new z_(H_),xae=zh;function OU(n,e=zh){return Vt((t,i)=>{let r=null,o=null,s=null;const a=()=>{if(r){r.unsubscribe(),r=null;const c=o;o=null,i.next(c)}};function l(){const c=s+n,u=e.now();if(u<c)return r=this.schedule(void 0,c-u),void i.add(r);a()}t.subscribe(gt(i,c=>{o=c,s=e.now(),r||(r=e.schedule(l,n),i.add(r))},()=>{a(),i.complete()},void 0,()=>{o=r=null}))})}function hn(n,e){return Vt((t,i)=>{let r=0;t.subscribe(gt(i,o=>n.call(e,o,r++)&&i.next(o)))})}function FU(n){return hn((e,t)=>n<=t)}function tn(n){return Vt((e,t)=>{gn(n).subscribe(gt(t,()=>t.complete(),Om)),!t.closed&&e.subscribe(t)})}function ji(n){return null!=n&&"false"!=`${n}`}function LU(n,e=0){return function Dae(n){return!isNaN(parseFloat(n))&&!isNaN(Number(n))}(n)?Number(n):e}function $_(n){return Array.isArray(n)?n:[n]}function nn(n){return null==n?"":"string"==typeof n?n:`${n}px`}function Ts(n){return n instanceof Oe?n.nativeElement:n}let Sae=(()=>{class n{create(t){return typeof MutationObserver>"u"?null:new MutationObserver(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),VU=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({providers:[Sae]})}return n})();function q_(...n){const e=Id(n),t=$k(n),{args:i,keys:r}=CB(n);if(0===i.length)return _t([],e);const o=new ze(function Aae(n,e,t=as){return i=>{BU(e,()=>{const{length:r}=n,o=new Array(r);let s=r,a=r;for(let l=0;l<r;l++)BU(e,()=>{const c=_t(n[l],e);let u=!1;c.subscribe(gt(i,d=>{o[l]=d,u||(u=!0,a--),a||i.next(t(o.slice()))},()=>{--s||i.complete()}))},i)},i)}}(i,e,r?s=>TB(r,s):as));return t?o.pipe(vC(t)):o}function BU(n,e,t){n?yo(t,n,e):e()}function $h(...n){return function Rae(){return Bl(1)}()(_t(n,Id(n)))}function qn(n){return n<=0?()=>Xi:Vt((e,t)=>{let i=0;e.subscribe(gt(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function qh(...n){const e=Id(n);return Vt((t,i)=>{(e?$h(n,t,e):$h(n,t)).subscribe(i)})}const UU=new Set;let Va,Mae=(()=>{class n{constructor(t,i){this._platform=t,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kae}matchMedia(t){return(this._platform.WEBKIT||this._platform.BLINK)&&function Pae(n,e){if(!UU.has(n))try{Va||(Va=document.createElement("style"),e&&(Va.nonce=e),Va.setAttribute("type","text/css"),document.head.appendChild(Va)),Va.sheet&&(Va.sheet.insertRule(`@media ${n} {body{ }}`,0),UU.add(n))}catch(t){console.error(t)}}(t,this._nonce),this._matchMedia(t)}static#e=this.\u0275fac=function(i){return new(i||n)(C(dn),C(gI,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function kae(n){return{matches:"all"===n||""===n,media:n,addListener:()=>{},removeListener:()=>{}}}let Nae=(()=>{class n{constructor(t,i){this._mediaMatcher=t,this._zone=i,this._queries=new Map,this._destroySubject=new te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(t){return jU($_(t)).some(r=>this._registerQuery(r).mql.matches)}observe(t){let o=q_(jU($_(t)).map(s=>this._registerQuery(s).observable));return o=$h(o.pipe(qn(1)),o.pipe(FU(1),OU(0))),o.pipe(he(s=>{const a={matches:!1,breakpoints:{}};return s.forEach(({matches:l,query:c})=>{a.matches=a.matches||l,a.breakpoints[c]=l}),a}))}_registerQuery(t){if(this._queries.has(t))return this._queries.get(t);const i=this._mediaMatcher.matchMedia(t),o={observable:new ze(s=>{const a=l=>this._zone.run(()=>s.next(l));return i.addListener(a),()=>{i.removeListener(a)}}).pipe(qh(i),he(({matches:s})=>({query:t,matches:s})),tn(this._destroySubject)),mql:i};return this._queries.set(t,o),o}static#e=this.\u0275fac=function(i){return new(i||n)(C(Mae),C(Q))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function jU(n){return n.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}function W_(n,e){return(n.getAttribute(e)||"").match(/\S+/g)||[]}const zU="cdk-describedby-message",G_="cdk-describedby-host";let WC=0,Lae=(()=>{class n{constructor(t,i){this._platform=i,this._messageRegistry=new Map,this._messagesContainer=null,this._id=""+WC++,this._document=t,this._id=F(Zd)+"-"+WC++}describe(t,i,r){if(!this._canBeDescribed(t,i))return;const o=GC(i,r);"string"!=typeof i?($U(i,this._id),this._messageRegistry.set(o,{messageElement:i,referenceCount:0})):this._messageRegistry.has(o)||this._createMessageElement(i,r),this._isElementDescribedByMessage(t,o)||this._addMessageReference(t,o)}removeDescription(t,i,r){if(!i||!this._isElementNode(t))return;const o=GC(i,r);if(this._isElementDescribedByMessage(t,o)&&this._removeMessageReference(t,o),"string"==typeof i){const s=this._messageRegistry.get(o);s&&0===s.referenceCount&&this._deleteMessageElement(o)}0===this._messagesContainer?.childNodes.length&&(this._messagesContainer.remove(),this._messagesContainer=null)}ngOnDestroy(){const t=this._document.querySelectorAll(`[${G_}="${this._id}"]`);for(let i=0;i<t.length;i++)this._removeCdkDescribedByReferenceIds(t[i]),t[i].removeAttribute(G_);this._messagesContainer?.remove(),this._messagesContainer=null,this._messageRegistry.clear()}_createMessageElement(t,i){const r=this._document.createElement("div");$U(r,this._id),r.textContent=t,i&&r.setAttribute("role",i),this._createMessagesContainer(),this._messagesContainer.appendChild(r),this._messageRegistry.set(GC(t,i),{messageElement:r,referenceCount:0})}_deleteMessageElement(t){this._messageRegistry.get(t)?.messageElement?.remove(),this._messageRegistry.delete(t)}_createMessagesContainer(){if(this._messagesContainer)return;const t="cdk-describedby-message-container",i=this._document.querySelectorAll(`.${t}[platform="server"]`);for(let o=0;o<i.length;o++)i[o].remove();const r=this._document.createElement("div");r.style.visibility="hidden",r.classList.add(t),r.classList.add("cdk-visually-hidden"),this._platform&&!this._platform.isBrowser&&r.setAttribute("platform","server"),this._document.body.appendChild(r),this._messagesContainer=r}_removeCdkDescribedByReferenceIds(t){const i=W_(t,"aria-describedby").filter(r=>0!=r.indexOf(zU));t.setAttribute("aria-describedby",i.join(" "))}_addMessageReference(t,i){const r=this._messageRegistry.get(i);(function Oae(n,e,t){const i=W_(n,e);i.some(r=>r.trim()==t.trim())||(i.push(t.trim()),n.setAttribute(e,i.join(" ")))})(t,"aria-describedby",r.messageElement.id),t.setAttribute(G_,this._id),r.referenceCount++}_removeMessageReference(t,i){const r=this._messageRegistry.get(i);r.referenceCount--,function Fae(n,e,t){const r=W_(n,e).filter(o=>o!=t.trim());r.length?n.setAttribute(e,r.join(" ")):n.removeAttribute(e)}(t,"aria-describedby",r.messageElement.id),t.removeAttribute(G_)}_isElementDescribedByMessage(t,i){const r=W_(t,"aria-describedby"),o=this._messageRegistry.get(i),s=o&&o.messageElement.id;return!!s&&-1!=r.indexOf(s)}_canBeDescribed(t,i){if(!this._isElementNode(t))return!1;if(i&&"object"==typeof i)return!0;const r=null==i?"":`${i}`.trim(),o=t.getAttribute("aria-label");return!(!r||o&&o.trim()===r)}_isElementNode(t){return t.nodeType===this._document.ELEMENT_NODE}static#e=this.\u0275fac=function(i){return new(i||n)(C(we),C(dn))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function GC(n,e){return"string"==typeof n?`${e||""}/${n}`:n}function $U(n,e){n.id||(n.id=`${zU}-${e}-${WC++}`)}class Vae{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new te,this._typeaheadSubscription=It.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._pageUpAndDown={enabled:!1,delta:10},this._skipPredicateFn=t=>t.disabled,this._pressedLetters=[],this.tabOut=new te,this.change=new te,e instanceof Oc&&(this._itemChangesSubscription=e.changes.subscribe(t=>{if(this._activeItem){const r=t.toArray().indexOf(this._activeItem);r>-1&&r!==this._activeItemIndex&&(this._activeItemIndex=r)}}))}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Pt(t=>this._pressedLetters.push(t)),OU(e),hn(()=>this._pressedLetters.length>0),he(()=>this._pressedLetters.join(""))).subscribe(t=>{const i=this._getItemsArray();for(let r=1;r<i.length+1;r++){const o=(this._activeItemIndex+r)%i.length,s=i[o];if(!this._skipPredicateFn(s)&&0===s.getLabel().toUpperCase().trim().indexOf(t)){this.setActiveItem(o);break}}this._pressedLetters=[]}),this}cancelTypeahead(){return this._pressedLetters=[],this}withHomeAndEnd(e=!0){return this._homeAndEnd=e,this}withPageUpDown(e=!0,t=10){return this._pageUpAndDown={enabled:e,delta:t},this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,r=["altKey","ctrlKey","metaKey","shiftKey"].every(o=>!e[o]||this._allowedModifierKeys.indexOf(o)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&r){this.setNextItemActive();break}return;case 38:if(this._vertical&&r){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&r){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&r){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&r){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&r){this.setLastItemActive();break}return;case 33:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex-this._pageUpAndDown.delta;this._setActiveItemByIndex(o>0?o:0,1);break}return;case 34:if(this._pageUpAndDown.enabled&&r){const o=this._activeItemIndex+this._pageUpAndDown.delta,s=this._getItemsArray().length;this._setActiveItemByIndex(o<s?o:s-1,-1);break}return;default:return void((r||$C(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),i="number"==typeof e?e:t.indexOf(e);this._activeItem=t[i]??null,this._activeItemIndex=i}destroy(){this._typeaheadSubscription.unsubscribe(),this._itemChangesSubscription?.unsubscribe(),this._letterKeyStream.complete(),this.tabOut.complete(),this.change.complete(),this._pressedLetters=[]}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let i=1;i<=t.length;i++){const r=(this._activeItemIndex+e*i+t.length)%t.length;if(!this._skipPredicateFn(t[r]))return void this.setActiveItem(r)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const i=this._getItemsArray();if(i[e]){for(;this._skipPredicateFn(i[e]);)if(!i[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Oc?this._items.toArray():this._items}}class Bae extends Vae{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}function KC(n){return 0===n.buttons||0===n.offsetX&&0===n.offsetY}function YC(n){const e=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}const qae=new S("cdk-input-modality-detector-options"),Wae={ignoreKeys:[18,17,224,91,16]},Hc=Fa({passive:!0,capture:!0});let Gae=(()=>{class n{get mostRecentModality(){return this._modality.value}constructor(t,i,r,o){this._platform=t,this._mostRecentTarget=null,this._modality=new Ri(null),this._lastTouchMs=0,this._onKeydown=s=>{this._options?.ignoreKeys?.some(a=>a===s.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Cs(s))},this._onMousedown=s=>{Date.now()-this._lastTouchMs<650||(this._modality.next(KC(s)?"keyboard":"mouse"),this._mostRecentTarget=Cs(s))},this._onTouchstart=s=>{YC(s)?this._modality.next("keyboard"):(this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Cs(s))},this._options={...Wae,...o},this.modalityDetected=this._modality.pipe(FU(1)),this.modalityChanged=this.modalityDetected.pipe(Wk()),t.isBrowser&&i.runOutsideAngular(()=>{r.addEventListener("keydown",this._onKeydown,Hc),r.addEventListener("mousedown",this._onMousedown,Hc),r.addEventListener("touchstart",this._onTouchstart,Hc)})}ngOnDestroy(){this._modality.complete(),this._platform.isBrowser&&(document.removeEventListener("keydown",this._onKeydown,Hc),document.removeEventListener("mousedown",this._onMousedown,Hc),document.removeEventListener("touchstart",this._onTouchstart,Hc))}static#e=this.\u0275fac=function(i){return new(i||n)(C(dn),C(Q),C(we),C(qae,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Yae=new S("cdk-focus-monitor-default-options"),K_=Fa({passive:!0,capture:!0});let Y_=(()=>{class n{constructor(t,i,r,o,s){this._ngZone=t,this._platform=i,this._inputModalityDetector=r,this._origin=null,this._windowFocused=!1,this._originFromTouchInteraction=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=window.setTimeout(()=>this._windowFocused=!1)},this._stopInputModalityDetector=new te,this._rootNodeFocusAndBlurListener=a=>{for(let c=Cs(a);c;c=c.parentElement)"focus"===a.type?this._onFocus(a,c):this._onBlur(a,c)},this._document=o,this._detectionMode=s?.detectionMode||0}monitor(t,i=!1){const r=Ts(t);if(!this._platform.isBrowser||1!==r.nodeType)return Z();const o=function lae(n){if(function aae(){if(null==UC){const n=typeof document<"u"?document.head:null;UC=!(!n||!n.createShadowRoot&&!n.attachShadow)}return UC}()){const e=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}(r)||this._getDocument(),s=this._elementInfo.get(r);if(s)return i&&(s.checkChildren=!0),s.subject;const a={checkChildren:i,subject:new te,rootNode:o};return this._elementInfo.set(r,a),this._registerGlobalListeners(a),a.subject}stopMonitoring(t){const i=Ts(t),r=this._elementInfo.get(i);r&&(r.subject.complete(),this._setClasses(i),this._elementInfo.delete(i),this._removeGlobalListeners(r))}focusVia(t,i,r){const o=Ts(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(([a,l])=>this._originChanged(a,i,l)):(this._setOrigin(i),"function"==typeof o.focus&&o.focus(r))}ngOnDestroy(){this._elementInfo.forEach((t,i)=>this.stopMonitoring(i))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_getFocusOrigin(t){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(t)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:t&&this._isLastInteractionFromInputLabel(t)?"mouse":"program"}_shouldBeAttributedToTouch(t){return 1===this._detectionMode||!!t?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(t,i){t.classList.toggle("cdk-focused",!!i),t.classList.toggle("cdk-touch-focused","touch"===i),t.classList.toggle("cdk-keyboard-focused","keyboard"===i),t.classList.toggle("cdk-mouse-focused","mouse"===i),t.classList.toggle("cdk-program-focused","program"===i)}_setOrigin(t,i=!1){this._ngZone.runOutsideAngular(()=>{this._origin=t,this._originFromTouchInteraction="touch"===t&&i,0===this._detectionMode&&(clearTimeout(this._originTimeoutId),this._originTimeoutId=setTimeout(()=>this._origin=null,this._originFromTouchInteraction?650:1))})}_onFocus(t,i){const r=this._elementInfo.get(i),o=Cs(t);!r||!r.checkChildren&&i!==o||this._originChanged(i,this._getFocusOrigin(o),r)}_onBlur(t,i){const r=this._elementInfo.get(i);!r||r.checkChildren&&t.relatedTarget instanceof Node&&i.contains(t.relatedTarget)||(this._setClasses(i),this._emitOrigin(r,null))}_emitOrigin(t,i){t.subject.observers.length&&this._ngZone.run(()=>t.subject.next(i))}_registerGlobalListeners(t){if(!this._platform.isBrowser)return;const i=t.rootNode,r=this._rootNodeFocusListenerCount.get(i)||0;r||this._ngZone.runOutsideAngular(()=>{i.addEventListener("focus",this._rootNodeFocusAndBlurListener,K_),i.addEventListener("blur",this._rootNodeFocusAndBlurListener,K_)}),this._rootNodeFocusListenerCount.set(i,r+1),1==++this._monitoredElementCount&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(tn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(t){const i=t.rootNode;if(this._rootNodeFocusListenerCount.has(i)){const r=this._rootNodeFocusListenerCount.get(i);r>1?this._rootNodeFocusListenerCount.set(i,r-1):(i.removeEventListener("focus",this._rootNodeFocusAndBlurListener,K_),i.removeEventListener("blur",this._rootNodeFocusAndBlurListener,K_),this._rootNodeFocusListenerCount.delete(i))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(t,i,r){this._setClasses(t,i),this._emitOrigin(r,i),this._lastFocusOrigin=i}_getClosestElementsInfo(t){const i=[];return this._elementInfo.forEach((r,o)=>{(o===t||r.checkChildren&&o.contains(t))&&i.push([o,r])}),i}_isLastInteractionFromInputLabel(t){const{_mostRecentTarget:i,mostRecentModality:r}=this._inputModalityDetector;if("mouse"!==r||!i||i===t||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName||t.disabled)return!1;const o=t.labels;if(o)for(let s=0;s<o.length;s++)if(o[s].contains(i))return!0;return!1}static#e=this.\u0275fac=function(i){return new(i||n)(C(Q),C(dn),C(Gae),C(we,8),C(Yae,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const GU="cdk-high-contrast-black-on-white",KU="cdk-high-contrast-white-on-black",QC="cdk-high-contrast-active";let YU=(()=>{class n{constructor(t,i){this._platform=t,this._document=i,this._breakpointSubscription=F(Nae).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const i=this._document.defaultView||window,r=i&&i.getComputedStyle?i.getComputedStyle(t):null,o=(r&&r.backgroundColor||"").replace(/ /g,"");switch(t.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(QC,GU,KU),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?t.add(QC,GU):2===i&&t.add(QC,KU)}}static#e=this.\u0275fac=function(i){return new(i||n)(C(dn),C(we))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Qae=(()=>{class n{constructor(t){t._applyBodyHighContrastModeCssClasses()}static#e=this.\u0275fac=function(i){return new(i||n)(C(YU))};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[VU]})}return n})();const Xae=new S("cdk-dir-doc",{providedIn:"root",factory:function Zae(){return F(we)}}),Jae=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Q_=(()=>{class n{constructor(t){this.value="ltr",this.change=new ve,t&&(this.value=function ele(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?Jae.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(i){return new(i||n)(C(Xae,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Wh=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();const nle=new S("mat-sanity-checks",{providedIn:"root",factory:function tle(){return!0}});let yn=(()=>{class n{constructor(t,i,r){this._sanityChecks=i,this._document=r,this._hasDoneGlobalChecks=!1,t._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(t){return!jC()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[t])}static#e=this.\u0275fac=function(i){return new(i||n)(C(YU),C(nle,8),C(we))};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[Wh,Wh]})}return n})();function ZU(n){return class extends n{get disabled(){return this._disabled}set disabled(e){this._disabled=ji(e)}constructor(...e){super(...e),this._disabled=!1}}}function XC(n,e){return class extends n{get color(){return this._color}set color(t){const i=t||this.defaultColor;i!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),i&&this._elementRef.nativeElement.classList.add(`mat-${i}`),this._color=i)}constructor(...t){super(...t),this.defaultColor=e,this.color=e}}}function JU(n){return class extends n{get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ji(e)}constructor(...e){super(...e),this._disableRipple=!1}}}function ile(n){return class extends n{updateErrorState(){const e=this.errorState,o=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);o!==e&&(this.errorState=o,this.stateChanges.next())}constructor(...e){super(...e),this.errorState=!1}}}let ole=(()=>{class n{isErrorState(t,i){return!!(t&&t.invalid&&(t.touched||i&&i.submitted))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class sle{constructor(e,t,i,r=!1){this._renderer=e,this.element=t,this.config=i,this._animationForciblyDisabledThroughCss=r,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const ej=Fa({passive:!0,capture:!0});class ale{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const t=Cs(e);t&&this._events.get(e.type)?.forEach((i,r)=>{(r===t||r.contains(t))&&i.forEach(o=>o.handleEvent(e))})}}addHandler(e,t,i,r){const o=this._events.get(t);if(o){const s=o.get(i);s?s.add(r):o.set(i,new Set([r]))}else this._events.set(t,new Map([[i,new Set([r])]])),e.runOutsideAngular(()=>{document.addEventListener(t,this._delegateEventHandler,ej)})}removeHandler(e,t,i){const r=this._events.get(e);if(!r)return;const o=r.get(t);o&&(o.delete(i),0===o.size&&r.delete(t),0===r.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,ej)))}}const tj={enterDuration:225,exitDuration:150},nj=Fa({passive:!0,capture:!0}),ij=["mousedown","touchstart"],rj=["mouseup","mouseleave","touchend","touchcancel"];class X_{static#e=this._eventManager=new ale;constructor(e,t,i,r){this._target=e,this._ngZone=t,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Ts(i))}fadeInRipple(e,t,i={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o={...tj,...i.animation};i.centered&&(e=r.left+r.width/2,t=r.top+r.height/2);const s=i.radius||function cle(n,e,t){const i=Math.max(Math.abs(n-t.left),Math.abs(n-t.right)),r=Math.max(Math.abs(e-t.top),Math.abs(e-t.bottom));return Math.sqrt(i*i+r*r)}(e,t,r),a=e-r.left,l=t-r.top,c=o.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-s+"px",u.style.top=l-s+"px",u.style.height=2*s+"px",u.style.width=2*s+"px",null!=i.color&&(u.style.backgroundColor=i.color),u.style.transitionDuration=`${c}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),f=d.transitionDuration,p="none"===d.transitionProperty||"0s"===f||"0s, 0s"===f||0===r.width&&0===r.height,m=new sle(this,u,i,p);u.style.transform="scale3d(1, 1, 1)",m.state=0,i.persistent||(this._mostRecentTransientRipple=m);let g=null;return!p&&(c||o.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const b=()=>this._finishRippleTransition(m),_=()=>this._destroyRipple(m);u.addEventListener("transitionend",b),u.addEventListener("transitioncancel",_),g={onTransitionEnd:b,onTransitionCancel:_}}),this._activeRipples.set(m,g),(p||!c)&&this._finishRippleTransition(m),m}fadeOutRipple(e){if(2===e.state||3===e.state)return;const t=e.element,i={...tj,...e.config.animation};t.style.transitionDuration=`${i.exitDuration}ms`,t.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!i.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const t=Ts(e);!this._platform.isBrowser||!t||t===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=t,ij.forEach(i=>{X_._eventManager.addHandler(this._ngZone,i,t,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{rj.forEach(t=>{this._triggerElement.addEventListener(t,this,nj)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const t=e===this._mostRecentTransientRipple,{persistent:i}=e.config;e.state=1,!i&&(!t||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const t=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==t&&(e.element.removeEventListener("transitionend",t.onTransitionEnd),e.element.removeEventListener("transitioncancel",t.onTransitionCancel)),e.element.remove()}_onMousedown(e){const t=KC(e),i=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!t&&!i&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!YC(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;if(t)for(let i=0;i<t.length;i++)this.fadeInRipple(t[i].clientX,t[i].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(ij.forEach(t=>X_._eventManager.removeHandler(t,e,this)),this._pointerUpEventsRegistered&&rj.forEach(t=>e.removeEventListener(t,this,nj)))}}const oj=new S("mat-ripple-global-options");let sj=(()=>{class n{get disabled(){return this._disabled}set disabled(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}constructor(t,i,r,o,s){this._elementRef=t,this._animationMode=s,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=o||{},this._rippleRenderer=new X_(this,i,t,r)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:{...this._globalOptions.animation,..."NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{},...this.animation},terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(t,i=0,r){return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,i,{...this.rippleConfig,...r}):this._rippleRenderer.fadeInRipple(0,0,{...this.rippleConfig,...t})}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(Q),y(dn),y(oj,8),y(Br,8))};static#t=this.\u0275dir=z({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(i,r){2&i&&Mt("mat-ripple-unbounded",r.unbounded)},inputs:{color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],radius:["matRippleRadius","radius"],animation:["matRippleAnimation","animation"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"]},exportAs:["matRipple"]})}return n})(),aj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[yn,yn]})}return n})();const lj={capture:!0},cj=["focus","click","mouseenter","touchstart"],ZC="mat-ripple-loader-uninitialized",JC="mat-ripple-loader-class-name",uj="mat-ripple-loader-centered",Z_="mat-ripple-loader-disabled";let ule=(()=>{class n{constructor(){this._document=F(we,{optional:!0}),this._animationMode=F(Br,{optional:!0}),this._globalRippleOptions=F(oj,{optional:!0}),this._platform=F(dn),this._ngZone=F(Q),this._onInteraction=t=>{if(!(t.target instanceof HTMLElement))return;const r=t.target.closest(`[${ZC}]`);r&&this.createRipple(r)},this._ngZone.runOutsideAngular(()=>{for(const t of cj)this._document?.addEventListener(t,this._onInteraction,lj)})}ngOnDestroy(){for(const t of cj)this._document?.removeEventListener(t,this._onInteraction,lj)}configureRipple(t,i){t.setAttribute(ZC,""),(i.className||!t.hasAttribute(JC))&&t.setAttribute(JC,i.className||""),i.centered&&t.setAttribute(uj,""),i.disabled&&t.setAttribute(Z_,"")}getRipple(t){return t.matRipple?t.matRipple:this.createRipple(t)}setDisabled(t,i){const r=t.matRipple;r?r.disabled=i:i?t.setAttribute(Z_,""):t.removeAttribute(Z_)}createRipple(t){if(!this._document)return;t.querySelector(".mat-ripple")?.remove();const i=this._document.createElement("span");i.classList.add("mat-ripple",t.getAttribute(JC)),t.append(i);const r=new sj(new Oe(i),this._ngZone,this._platform,this._globalRippleOptions?this._globalRippleOptions:void 0,this._animationMode?this._animationMode:void 0);return r._isInitialized=!0,r.trigger=t,r.centered=t.hasAttribute(uj),r.disabled=t.hasAttribute(Z_),this.attachRipple(t,r),r}attachRipple(t,i){t.removeAttribute(ZC),t.matRipple=i}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dle=["*"],gle=new S("MAT_CARD_CONFIG");let dj=(()=>{class n{constructor(t){this.appearance=t?.appearance||"raised"}static#e=this.\u0275fac=function(i){return new(i||n)(y(gle,8))};static#t=this.\u0275cmp=$e({type:n,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:4,hostBindings:function(i,r){2&i&&Mt("mat-mdc-card-outlined","outlined"===r.appearance)("mdc-card--outlined","outlined"===r.appearance)},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:dle,decls:1,vars:0,template:function(i,r){1&i&&(Vi(),qe(0))},styles:['.mdc-card{display:flex;flex-direction:column;box-sizing:border-box}.mdc-card::after{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none;pointer-events:none}@media screen and (forced-colors: active){.mdc-card::after{border-color:CanvasText}}.mdc-card--outlined::after{border:none}.mdc-card__content{border-radius:inherit;height:100%}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__media--square::before{margin-top:100%}.mdc-card__media--16-9::before{margin-top:56.25%}.mdc-card__media-content{position:absolute;top:0;right:0;bottom:0;left:0;box-sizing:border-box}.mdc-card__primary-action{display:flex;flex-direction:column;box-sizing:border-box;position:relative;outline:none;color:inherit;text-decoration:none;cursor:pointer;overflow:hidden}.mdc-card__primary-action:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__primary-action:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mdc-card__actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mdc-card__actions--full-bleed{padding:0}.mdc-card__action-buttons,.mdc-card__action-icons{display:flex;flex-direction:row;align-items:center;box-sizing:border-box}.mdc-card__action-icons{color:rgba(0, 0, 0, 0.6);flex-grow:1;justify-content:flex-end}.mdc-card__action-buttons+.mdc-card__action-icons{margin-left:16px;margin-right:0}[dir=rtl] .mdc-card__action-buttons+.mdc-card__action-icons,.mdc-card__action-buttons+.mdc-card__action-icons[dir=rtl]{margin-left:0;margin-right:16px}.mdc-card__action{display:inline-flex;flex-direction:row;align-items:center;box-sizing:border-box;justify-content:center;cursor:pointer;user-select:none}.mdc-card__action:focus{outline:none}.mdc-card__action--button{margin-left:0;margin-right:8px;padding:0 8px}[dir=rtl] .mdc-card__action--button,.mdc-card__action--button[dir=rtl]{margin-left:8px;margin-right:0}.mdc-card__action--button:last-child{margin-left:0;margin-right:0}[dir=rtl] .mdc-card__action--button:last-child,.mdc-card__action--button:last-child[dir=rtl]{margin-left:0;margin-right:0}.mdc-card__actions--full-bleed .mdc-card__action--button{justify-content:space-between;width:100%;height:auto;max-height:none;margin:0;padding:8px 16px;text-align:left}[dir=rtl] .mdc-card__actions--full-bleed .mdc-card__action--button,.mdc-card__actions--full-bleed .mdc-card__action--button[dir=rtl]{text-align:right}.mdc-card__action--icon{margin:-6px 0;padding:12px}.mdc-card__action--icon:not(:disabled){color:rgba(0, 0, 0, 0.6)}.mat-mdc-card{border-radius:var(--mdc-elevated-card-container-shape);background-color:var(--mdc-elevated-card-container-color);border-width:0;border-style:solid;border-color:var(--mdc-elevated-card-container-color);box-shadow:var(--mdc-elevated-card-container-elevation);--mdc-elevated-card-container-shape:4px;--mdc-outlined-card-container-shape:4px;--mdc-outlined-card-outline-width:1px}.mat-mdc-card .mdc-card::after{border-radius:var(--mdc-elevated-card-container-shape)}.mat-mdc-card-outlined{border-width:var(--mdc-outlined-card-outline-width);border-style:solid;border-color:var(--mdc-outlined-card-outline-color);border-radius:var(--mdc-outlined-card-container-shape);background-color:var(--mdc-outlined-card-container-color);box-shadow:var(--mdc-outlined-card-container-elevation)}.mat-mdc-card-outlined .mdc-card::after{border-radius:var(--mdc-outlined-card-container-shape)}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font);line-height:var(--mat-card-title-text-line-height);font-size:var(--mat-card-title-text-size);letter-spacing:var(--mat-card-title-text-tracking);font-weight:var(--mat-card-title-text-weight)}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color);font-family:var(--mat-card-subtitle-text-font);line-height:var(--mat-card-subtitle-text-line-height);font-size:var(--mat-card-subtitle-text-size);letter-spacing:var(--mat-card-subtitle-text-tracking);font-weight:var(--mat-card-subtitle-text-weight)}.mat-mdc-card{position:relative}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}'],encapsulation:2,changeDetection:0})}return n})(),_le=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[yn,No,yn]})}return n})();function zc(n,e){const t=Ne(n)?n:()=>n,i=r=>r.error(t());return new ze(e?r=>e.schedule(i,0,r):i)}function xs(n){return Vt((e,t)=>{let o,i=null,r=!1;i=e.subscribe(gt(t,void 0,void 0,s=>{o=gn(n(s,xs(n)(e))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function J_(n){return Vt((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function $c(n,e){return Ne(e)?$t(n,e,1):$t(n,1)}class eT{}class Lo{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const i=t.indexOf(":");if(i>0){const r=t.slice(0,i),o=r.toLowerCase(),s=t.slice(i+1).trim();this.maybeSetNormalizedName(r,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,i)=>{this.setHeaderEntries(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Lo?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Lo;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Lo?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let i=e.value;if("string"==typeof i&&(i=[i]),0===i.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":const o=e.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=e.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(e,r)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class yle{encodeKey(e){return hj(e)}encodeValue(e){return hj(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const ble=/%(\d[a-f0-9])/gi,wle={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function hj(n){return encodeURIComponent(n).replace(ble,(e,t)=>wle[t]??e)}function ey(n){return`${n}`}class Ds{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new yle,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function vle(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(r=>{const o=r.indexOf("="),[s,a]=-1==o?[e.decodeKey(r),""]:[e.decodeKey(r.slice(0,o)),e.decodeValue(r.slice(o+1))],l=t.get(s)||[];l.push(a),t.set(s,l)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const i=e.fromObject[t],r=Array.isArray(i)?i.map(ey):[ey(i)];this.map.set(t,r)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(i=>{const r=e[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Ds({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(ey(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let i=this.map.get(e.param)||[];const r=i.indexOf(ey(e.value));-1!==r&&i.splice(r,1),i.length>0?this.map.set(e.param,i):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Ele{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function fj(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function pj(n){return typeof Blob<"u"&&n instanceof Blob}function mj(n){return typeof FormData<"u"&&n instanceof FormData}class Kh{constructor(e,t,i,r){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Ile(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Lo),this.context||(this.context=new Ele),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new Ds,this.urlWithParams=t}serializeBody(){return null===this.body?null:fj(this.body)||pj(this.body)||mj(this.body)||function Cle(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ds?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||mj(this.body)?null:pj(this.body)?this.body.type||null:fj(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ds?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let l=e.headers||this.headers,c=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(l=Object.keys(e.setHeaders).reduce((d,h)=>d.set(h,e.setHeaders[h]),l)),e.setParams&&(c=Object.keys(e.setParams).reduce((d,h)=>d.set(h,e.setParams[h]),c)),new Kh(t,i,o,{params:c,headers:l,context:u,reportProgress:a,responseType:r,withCredentials:s})}}var nT=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(nT||{});class Tle{constructor(e,t=200,i="OK"){this.headers=e.headers||new Lo,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Yh extends Tle{constructor(e={}){super(e),this.type=nT.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Yh({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function iT(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let rT=(()=>{class n{constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof Kh)o=t;else{let l,c;l=r.headers instanceof Lo?r.headers:new Lo(r.headers),r.params&&(c=r.params instanceof Ds?r.params:new Ds({fromObject:r.params})),o=new Kh(t,i,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:c,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials})}const s=Z(o).pipe($c(l=>this.handler.handle(l)));if(t instanceof Kh||"events"===r.observe)return s;const a=s.pipe(hn(l=>l instanceof Yh));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(he(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(he(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(he(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(he(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:(new Ds).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,iT(r,i))}post(t,i,r={}){return this.request("POST",t,iT(r,i))}put(t,i,r={}){return this.request("PUT",t,iT(r,i))}static#e=this.\u0275fac=function(i){return new(i||n)(C(eT))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();const qle=["*"];let iy;function Qh(n){return function Wle(){if(void 0===iy&&(iy=null,typeof window<"u")){const n=window;void 0!==n.trustedTypes&&(iy=n.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return iy}()?.createHTML(n)||n}function Tj(n){return Error(`Unable to find icon with the name "${n}"`)}function xj(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Dj(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}class Ua{constructor(e,t,i){this.url=e,this.svgText=t,this.options=i}}let ry=(()=>{class n{constructor(t,i,r,o){this._httpClient=t,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=r}addSvgIcon(t,i,r){return this.addSvgIconInNamespace("",t,i,r)}addSvgIconLiteral(t,i,r){return this.addSvgIconLiteralInNamespace("",t,i,r)}addSvgIconInNamespace(t,i,r,o){return this._addSvgIconConfig(t,i,new Ua(r,null,o))}addSvgIconResolver(t){return this._resolvers.push(t),this}addSvgIconLiteralInNamespace(t,i,r,o){const s=this._sanitizer.sanitize(kn.HTML,r);if(!s)throw Dj(r);const a=Qh(s);return this._addSvgIconConfig(t,i,new Ua("",a,o))}addSvgIconSet(t,i){return this.addSvgIconSetInNamespace("",t,i)}addSvgIconSetLiteral(t,i){return this.addSvgIconSetLiteralInNamespace("",t,i)}addSvgIconSetInNamespace(t,i,r){return this._addSvgIconSetConfig(t,new Ua(i,null,r))}addSvgIconSetLiteralInNamespace(t,i,r){const o=this._sanitizer.sanitize(kn.HTML,i);if(!o)throw Dj(i);const s=Qh(o);return this._addSvgIconSetConfig(t,new Ua("",s,r))}registerFontClassAlias(t,i=t){return this._fontCssClassesByAlias.set(t,i),this}classNameForFontAlias(t){return this._fontCssClassesByAlias.get(t)||t}setDefaultFontSetClass(...t){return this._defaultFontSetClass=t,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(t){const i=this._sanitizer.sanitize(kn.RESOURCE_URL,t);if(!i)throw xj(t);const r=this._cachedIconsByUrl.get(i);return r?Z(oy(r)):this._loadSvgIconFromConfig(new Ua(t,null)).pipe(Pt(o=>this._cachedIconsByUrl.set(i,o)),he(o=>oy(o)))}getNamedSvgIcon(t,i=""){const r=Sj(i,t);let o=this._svgIconConfigs.get(r);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,t),o)return this._svgIconConfigs.set(r,o),this._getSvgFromConfig(o);const s=this._iconSetConfigs.get(i);return s?this._getSvgFromIconSetConfigs(t,s):zc(Tj(r))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(t){return t.svgText?Z(oy(this._svgElementFromConfig(t))):this._loadSvgIconFromConfig(t).pipe(he(i=>oy(i)))}_getSvgFromIconSetConfigs(t,i){const r=this._extractIconWithNameFromAnySet(t,i);return r?Z(r):xB(i.filter(s=>!s.svgText).map(s=>this._loadSvgIconSetFromConfig(s).pipe(xs(a=>{const c=`Loading icon set URL: ${this._sanitizer.sanitize(kn.RESOURCE_URL,s.url)} failed: ${a.message}`;return this._errorHandler.handleError(new Error(c)),Z(null)})))).pipe(he(()=>{const s=this._extractIconWithNameFromAnySet(t,i);if(!s)throw Tj(t);return s}))}_extractIconWithNameFromAnySet(t,i){for(let r=i.length-1;r>=0;r--){const o=i[r];if(o.svgText&&o.svgText.toString().indexOf(t)>-1){const s=this._svgElementFromConfig(o),a=this._extractSvgIconFromSet(s,t,o.options);if(a)return a}}return null}_loadSvgIconFromConfig(t){return this._fetchIcon(t).pipe(Pt(i=>t.svgText=i),he(()=>this._svgElementFromConfig(t)))}_loadSvgIconSetFromConfig(t){return t.svgText?Z(null):this._fetchIcon(t).pipe(Pt(i=>t.svgText=i))}_extractSvgIconFromSet(t,i,r){const o=t.querySelector(`[id="${i}"]`);if(!o)return null;const s=o.cloneNode(!0);if(s.removeAttribute("id"),"svg"===s.nodeName.toLowerCase())return this._setSvgAttributes(s,r);if("symbol"===s.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(s),r);const a=this._svgElementFromString(Qh("<svg></svg>"));return a.appendChild(s),this._setSvgAttributes(a,r)}_svgElementFromString(t){const i=this._document.createElement("DIV");i.innerHTML=t;const r=i.querySelector("svg");if(!r)throw Error("<svg> tag not found");return r}_toSvgElement(t){const i=this._svgElementFromString(Qh("<svg></svg>")),r=t.attributes;for(let o=0;o<r.length;o++){const{name:s,value:a}=r[o];"id"!==s&&i.setAttribute(s,a)}for(let o=0;o<t.childNodes.length;o++)t.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(t.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(t,i){return t.setAttribute("fit",""),t.setAttribute("height","100%"),t.setAttribute("width","100%"),t.setAttribute("preserveAspectRatio","xMidYMid meet"),t.setAttribute("focusable","false"),i&&i.viewBox&&t.setAttribute("viewBox",i.viewBox),t}_fetchIcon(t){const{url:i,options:r}=t,o=r?.withCredentials??!1;if(!this._httpClient)throw function Gle(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const s=this._sanitizer.sanitize(kn.RESOURCE_URL,i);if(!s)throw xj(i);const a=this._inProgressUrlFetches.get(s);if(a)return a;const l=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(he(c=>Qh(c)),J_(()=>this._inProgressUrlFetches.delete(s)),Um());return this._inProgressUrlFetches.set(s,l),l}_addSvgIconConfig(t,i,r){return this._svgIconConfigs.set(Sj(t,i),r),this}_addSvgIconSetConfig(t,i){const r=this._iconSetConfigs.get(t);return r?r.push(i):this._iconSetConfigs.set(t,[i]),this}_svgElementFromConfig(t){if(!t.svgElement){const i=this._svgElementFromString(t.svgText);this._setSvgAttributes(i,t.options),t.svgElement=i}return t.svgElement}_getIconConfigFromResolvers(t,i){for(let r=0;r<this._resolvers.length;r++){const o=this._resolvers[r](i,t);if(o)return Yle(o)?new Ua(o.url,null,o.options):new Ua(o,null)}}static#e=this.\u0275fac=function(i){return new(i||n)(C(rT,8),C(yC),C(we,8),C(nr))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oy(n){return n.cloneNode(!0)}function Sj(n,e){return n+":"+e}function Yle(n){return!(!n.url||!n.options)}const Qle=XC(class{constructor(n){this._elementRef=n}}),Xle=new S("MAT_ICON_DEFAULT_OPTIONS"),Zle=new S("mat-icon-location",{providedIn:"root",factory:function Jle(){const n=F(we),e=n?n.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),Aj=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],ece=Aj.map(n=>`[${n}]`).join(", "),tce=/^url\(['"]?#(.*?)['"]?\)$/;let sT=(()=>{class n extends Qle{get inline(){return this._inline}set inline(t){this._inline=ji(t)}get svgIcon(){return this._svgIcon}set svgIcon(t){t!==this._svgIcon&&(t?this._updateSvgIcon(t):this._svgIcon&&this._clearSvgElement(),this._svgIcon=t)}get fontSet(){return this._fontSet}set fontSet(t){const i=this._cleanupFontValue(t);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(t){const i=this._cleanupFontValue(t);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(t,i,r,o,s,a){super(t),this._iconRegistry=i,this._location=o,this._errorHandler=s,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=It.EMPTY,a&&(a.color&&(this.color=this.defaultColor=a.color),a.fontSet&&(this.fontSet=a.fontSet)),r||t.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(t){if(!t)return["",""];const i=t.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${t}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const t=this._elementsWithExternalReferences;if(t&&t.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(t){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(t),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(t)}_clearSvgElement(){const t=this._elementRef.nativeElement;let i=t.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const r=t.childNodes[i];(1!==r.nodeType||"svg"===r.nodeName.toLowerCase())&&r.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const t=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(r=>r.length>0);this._previousFontSetClass.forEach(r=>t.classList.remove(r)),i.forEach(r=>t.classList.add(r)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&t.classList.remove(this._previousFontIconClass),this.fontIcon&&t.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(t){return"string"==typeof t?t.trim().split(" ")[0]:t}_prependPathToReferences(t){const i=this._elementsWithExternalReferences;i&&i.forEach((r,o)=>{r.forEach(s=>{o.setAttribute(s.name,`url('${t}#${s.value}')`)})})}_cacheChildrenWithExternalReferences(t){const i=t.querySelectorAll(ece),r=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)Aj.forEach(s=>{const a=i[o],l=a.getAttribute(s),c=l?l.match(tce):null;if(c){let u=r.get(a);u||(u=[],r.set(a,u)),u.push({name:s,value:c[1]})}})}_updateSvgIcon(t){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),t){const[i,r]=this._splitIconName(t);i&&(this._svgNamespace=i),r&&(this._svgName=r),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(r,i).pipe(qn(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${r}! ${o.message}`))})}}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(ry),Jl("aria-hidden"),y(Zle),y(nr),y(Xle,8))};static#t=this.\u0275cmp=$e({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(i,r){2&i&&(Gt("data-mat-icon-type",r._usingFontIcon()?"font":"svg")("data-mat-icon-name",r._svgName||r.fontIcon)("data-mat-icon-namespace",r._svgNamespace||r.fontSet)("fontIcon",r._usingFontIcon()?r.fontIcon:null),Mt("mat-icon-inline",r.inline)("mat-icon-no-color","primary"!==r.color&&"accent"!==r.color&&"warn"!==r.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[be],ngContentSelectors:qle,decls:1,vars:0,template:function(i,r){1&i&&(Vi(),qe(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0})}return n})(),nce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[yn,yn]})}return n})();const ice=["addListener","removeListener"],rce=["addEventListener","removeEventListener"],oce=["on","off"];function aT(n,e,t,i){if(Ne(t)&&(i=t,t=void 0),i)return aT(n,e,t).pipe(vC(i));const[r,o]=function lce(n){return Ne(n.addEventListener)&&Ne(n.removeEventListener)}(n)?rce.map(s=>a=>n[s](e,a,t)):function sce(n){return Ne(n.addListener)&&Ne(n.removeListener)}(n)?ice.map(Rj(n,e)):function ace(n){return Ne(n.on)&&Ne(n.off)}(n)?oce.map(Rj(n,e)):[];if(!r&&Xw(n))return $t(s=>aT(s,e,t))(gn(n));if(!r)throw new TypeError("Invalid event target");return new ze(s=>{const a=(...l)=>s.next(1<l.length?l:l[0]);return r(a),()=>o(a)})}function Rj(n,e){return t=>i=>n[t](e,i)}const Xh={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:i}=Xh;i&&(e=i.requestAnimationFrame,t=i.cancelAnimationFrame);const r=e(o=>{t=void 0,n(o)});return new It(()=>t?.(r))},requestAnimationFrame(...n){const{delegate:e}=Xh;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Xh;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0};new class uce extends z_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class cce extends H_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=Xh.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(Xh.cancelAnimationFrame(t),e._scheduled=void 0)}});let lT,hce=1;const sy={};function Mj(n){return n in sy&&(delete sy[n],!0)}const fce={setImmediate(n){const e=hce++;return sy[e]=!0,lT||(lT=Promise.resolve()),lT.then(()=>Mj(e)&&n()),e},clearImmediate(n){Mj(n)}},{setImmediate:pce,clearImmediate:mce}=fce,ay={setImmediate(...n){const{delegate:e}=ay;return(e?.setImmediate||pce)(...n)},clearImmediate(n){const{delegate:e}=ay;return(e?.clearImmediate||mce)(n)},delegate:void 0},cT=new class _ce extends z_{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:i}=this;let r;e=e||i.shift();do{if(r=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,r){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw r}}}(class gce extends H_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,i=0){return null!==i&&i>0?super.requestAsyncId(e,t,i):(e.actions.push(this),e._scheduled||(e._scheduled=ay.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,i=0){var r;if(null!=i?i>0:this.delay>0)return super.recycleAsyncId(e,t,i);const{actions:o}=e;null!=t&&(null===(r=o[o.length-1])||void 0===r?void 0:r.id)!==t&&(ay.clearImmediate(t),e._scheduled===t&&(e._scheduled=void 0))}});function Pj(n=0,e,t=xae){let i=-1;return null!=e&&(zk(e)?t=e:i=e),new ze(r=>{let o=function vce(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let s=0;return t.schedule(function(){r.closed||(r.next(s++),0<=i?this.schedule(void 0,i):r.complete())},o)})}function kj(n,e=zh){return function yce(n){return Vt((e,t)=>{let i=!1,r=null,o=null,s=!1;const a=()=>{if(o?.unsubscribe(),o=null,i){i=!1;const c=r;r=null,t.next(c)}s&&t.complete()},l=()=>{o=null,s&&t.complete()};e.subscribe(gt(t,c=>{i=!0,r=c,o||gn(n(c)).subscribe(o=gt(t,a,l))},()=>{s=!0,(!i||!o||o.closed)&&t.complete()}))})}(()=>Pj(n,e))}let Nj=(()=>{class n{constructor(t,i,r){this._ngZone=t,this._platform=i,this._scrolled=new te,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new ze(i=>{this._globalSubscription||this._addGlobalListener();const r=t>0?this._scrolled.pipe(kj(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Z()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){const r=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(hn(o=>!o||r.indexOf(o)>-1))}getAncestorScrollContainers(t){const i=[];return this.scrollContainers.forEach((r,o)=>{this._scrollableContainsElement(o,t)&&i.push(o)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let r=Ts(i),o=t.getElementRef().nativeElement;do{if(r==o)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>aT(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(i){return new(i||n)(C(Q),C(dn),C(we,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Oj=(()=>{class n{constructor(t,i,r){this._platform=t,this._change=new te,this._changeListener=o=>{this._change.next(o)},this._document=r,i.runOutsideAngular(()=>{if(t.isBrowser){const o=this._getWindow();o.addEventListener("resize",this._changeListener),o.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:i,height:r}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+r,right:t.left+i,height:r,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,i=this._getWindow(),r=t.documentElement,o=r.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||i.scrollY||r.scrollTop||0,left:-o.left||t.body.scrollLeft||i.scrollX||r.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(kj(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(i){return new(i||n)(C(dn),C(Q),C(we,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ly=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})(),Fj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[Wh,ly,Wh,ly]})}return n})();class uT{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Lj extends uT{constructor(e,t,i,r,o){super(),this.component=e,this.viewContainerRef=t,this.injector=i,this.componentFactoryResolver=r,this.projectableNodes=o}}class Vj extends uT{constructor(e,t,i,r){super(),this.templateRef=e,this.viewContainerRef=t,this.context=i,this.injector=r}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class Ece extends uT{constructor(e){super(),this.element=e instanceof Oe?e.nativeElement:e}}class Ice{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof Lj?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof Vj?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof Ece?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class Cce extends Ice{constructor(e,t,i,r,o){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=i,this._defaultInjector=r,this.attachDomPortal=s=>{const a=s.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=s,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=o}attachComponentPortal(e){const i=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let r;return e.viewContainerRef?(r=e.viewContainerRef.createComponent(i,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=i.create(e.injector||this._defaultInjector||yt.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=e,r}attachTemplatePortal(e){let t=e.viewContainerRef,i=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return i.rootNodes.forEach(r=>this.outletElement.appendChild(r)),i.detectChanges(),this.setDisposeFn(()=>{let r=t.indexOf(i);-1!==r&&t.remove(r)}),this._attachedPortal=e,i}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let Tce=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();const Bj=sae();class xce{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=nn(-this._previousScrollPosition.left),e.style.top=nn(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,i=e.style,r=this._document.body.style,o=i.scrollBehavior||"",s=r.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),Bj&&(i.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),Bj&&(i.scrollBehavior=o,r.scrollBehavior=s)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,i=this._viewportRuler.getViewportSize();return t.scrollHeight>i.height||t.scrollWidth>i.width}}class Dce{constructor(e,t,i,r){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0).pipe(hn(t=>!t||!this._overlayRef.overlayElement.contains(t.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class Uj{enable(){}disable(){}attach(){}}function dT(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function jj(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class Sce{constructor(e,t,i,r){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=i,this._config=r,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:r}=this._viewportRuler.getViewportSize();dT(t,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let Ace=(()=>{class n{constructor(t,i,r,o){this._scrollDispatcher=t,this._viewportRuler=i,this._ngZone=r,this.noop=()=>new Uj,this.close=s=>new Dce(this._scrollDispatcher,this._ngZone,this._viewportRuler,s),this.block=()=>new xce(this._viewportRuler,this._document),this.reposition=s=>new Sce(this._scrollDispatcher,this._viewportRuler,this._ngZone,s),this._document=o}static#e=this.\u0275fac=function(i){return new(i||n)(C(Nj),C(Oj),C(Q),C(we))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Hj{constructor(e){if(this.scrollStrategy=new Uj,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const i of t)void 0!==e[i]&&(this[i]=e[i])}}}class Rce{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let zj=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const i=this._attachedOverlays.indexOf(t);i>-1&&this._attachedOverlays.splice(i,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(i){return new(i||n)(C(we))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mce=(()=>{class n extends zj{constructor(t,i){super(t),this._ngZone=i,this._keydownListener=r=>{const o=this._attachedOverlays;for(let s=o.length-1;s>-1;s--)if(o[s]._keydownEvents.observers.length>0){const a=o[s]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(i){return new(i||n)(C(we),C(Q,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pce=(()=>{class n extends zj{constructor(t,i,r){super(t),this._platform=i,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=o=>{this._pointerDownEventTarget=Cs(o)},this._clickListener=o=>{const s=Cs(o),a="click"===o.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:s;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let c=l.length-1;c>-1;c--){const u=l[c];if(u._outsidePointerEvents.observers.length<1||!u.hasAttached())continue;if(u.overlayElement.contains(s)||u.overlayElement.contains(a))break;const d=u._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>d.next(o)):d.next(o)}}}add(t){if(super.add(t),!this._isAttached){const i=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(i)):this._addEventListeners(i),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(i){return new(i||n)(C(we),C(dn),C(Q,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$j=(()=>{class n{constructor(t,i){this._platform=i,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||jC()){const r=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let o=0;o<r.length;o++)r[o].remove()}const i=this._document.createElement("div");i.classList.add(t),jC()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}static#e=this.\u0275fac=function(i){return new(i||n)(C(we),C(dn))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class kce{constructor(e,t,i,r,o,s,a,l,c,u=!1){this._portalOutlet=e,this._host=t,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=l,this._outsideClickDispatcher=c,this._animationsDisabled=u,this._backdropElement=null,this._backdropClick=new te,this._attachments=new te,this._detachments=new te,this._locationChanges=It.EMPTY,this._backdropClickHandler=d=>this._backdropClick.next(d),this._backdropTransitionendHandler=d=>{this._disposeBackdrop(d.target)},this._keydownEvents=new te,this._outsidePointerEvents=new te,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=nn(this._config.width),e.height=nn(this._config.height),e.minWidth=nn(this._config.minWidth),e.minHeight=nn(this._config.minHeight),e.maxWidth=nn(this._config.maxWidth),e.maxHeight=nn(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,i){const r=$_(t||[]).filter(o=>!!o);r.length&&(i?e.classList.add(...r):e.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(tn(Ul(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const qj="cdk-overlay-connected-position-bounding-box",Nce=/([A-Za-z%]+)$/;class Oce{get positions(){return this._preferredPositions}constructor(e,t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new te,this._resizeSubscription=It.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(qj),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,i=this._viewportRect,r=this._containerRect,o=[];let s;for(let a of this._preferredPositions){let l=this._getOriginPoint(e,r,a),c=this._getOverlayPoint(l,t,a),u=this._getOverlayFit(c,t,i,a);if(u.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(u,c,i)?o.push({position:a,origin:l,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!s||s.overlayFit.visibleArea<u.visibleArea)&&(s={overlayFit:u,overlayPoint:c,originPoint:l,position:a,overlayRect:t})}if(o.length){let a=null,l=-1;for(const c of o){const u=c.boundingBoxRect.width*c.boundingBoxRect.height*(c.position.weight||1);u>l&&(l=u,a=c)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(s.position,s.originPoint);this._applyPosition(s.position,s.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ja(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(qj),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,i){let r,o;if("center"==i.originX)r=e.left+e.width/2;else{const s=this._isRtl()?e.right:e.left,a=this._isRtl()?e.left:e.right;r="start"==i.originX?s:a}return t.left<0&&(r-=t.left),o="center"==i.originY?e.top+e.height/2:"top"==i.originY?e.top:e.bottom,t.top<0&&(o-=t.top),{x:r,y:o}}_getOverlayPoint(e,t,i){let r,o;return r="center"==i.overlayX?-t.width/2:"start"===i.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,o="center"==i.overlayY?-t.height/2:"top"==i.overlayY?0:-t.height,{x:e.x+r,y:e.y+o}}_getOverlayFit(e,t,i,r){const o=Gj(t);let{x:s,y:a}=e,l=this._getOffset(r,"x"),c=this._getOffset(r,"y");l&&(s+=l),c&&(a+=c);let h=0-a,f=a+o.height-i.height,p=this._subtractOverflows(o.width,0-s,s+o.width-i.width),m=this._subtractOverflows(o.height,h,f),g=p*m;return{visibleArea:g,isCompletelyWithinViewport:o.width*o.height===g,fitsInViewportVertically:m===o.height,fitsInViewportHorizontally:p==o.width}}_canFitWithFlexibleDimensions(e,t,i){if(this._hasFlexibleDimensions){const r=i.bottom-t.y,o=i.right-t.x,s=Wj(this._overlayRef.getConfig().minHeight),a=Wj(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=s&&s<=r)&&(e.fitsInViewportHorizontally||null!=a&&a<=o)}return!1}_pushOverlayOnScreen(e,t,i){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const r=Gj(t),o=this._viewportRect,s=Math.max(e.x+r.width-o.width,0),a=Math.max(e.y+r.height-o.height,0),l=Math.max(o.top-i.top-e.y,0),c=Math.max(o.left-i.left-e.x,0);let u=0,d=0;return u=r.width<=o.width?c||-s:e.x<this._viewportMargin?o.left-i.left-e.x:0,d=r.height<=o.height?l||-a:e.y<this._viewportMargin?o.top-i.top-e.y:0,this._previousPushAmount={x:u,y:d},{x:e.x+u,y:e.y+d}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const i=this._getScrollVisibility(),r=new Rce(e,i);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let i,r=e.overlayY;i="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let o=0;o<t.length;o++)t[o].style.transformOrigin=`${i} ${r}`}_calculateBoundingBoxRect(e,t){const i=this._viewportRect,r=this._isRtl();let o,s,a,u,d,h;if("top"===t.overlayY)s=e.y,o=i.height-s+this._viewportMargin;else if("bottom"===t.overlayY)a=i.height-e.y+2*this._viewportMargin,o=i.height-a+this._viewportMargin;else{const f=Math.min(i.bottom-e.y+i.top,e.y),p=this._lastBoundingBoxSize.height;o=2*f,s=e.y-f,o>p&&!this._isInitialRender&&!this._growAfterOpen&&(s=e.y-p/2)}if("end"===t.overlayX&&!r||"start"===t.overlayX&&r)h=i.width-e.x+this._viewportMargin,u=e.x-this._viewportMargin;else if("start"===t.overlayX&&!r||"end"===t.overlayX&&r)d=e.x,u=i.right-e.x;else{const f=Math.min(i.right-e.x+i.left,e.x),p=this._lastBoundingBoxSize.width;u=2*f,d=e.x-f,u>p&&!this._isInitialRender&&!this._growAfterOpen&&(d=e.x-p/2)}return{top:s,left:d,bottom:a,right:h,width:u,height:o}}_setBoundingBoxStyles(e,t){const i=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const o=this._overlayRef.getConfig().maxHeight,s=this._overlayRef.getConfig().maxWidth;r.height=nn(i.height),r.top=nn(i.top),r.bottom=nn(i.bottom),r.width=nn(i.width),r.left=nn(i.left),r.right=nn(i.right),r.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",r.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",o&&(r.maxHeight=nn(o)),s&&(r.maxWidth=nn(s))}this._lastBoundingBoxSize=i,ja(this._boundingBox.style,r)}_resetBoundingBoxStyles(){ja(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ja(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const i={},r=this._hasExactPosition(),o=this._hasFlexibleDimensions,s=this._overlayRef.getConfig();if(r){const u=this._viewportRuler.getViewportScrollPosition();ja(i,this._getExactOverlayY(t,e,u)),ja(i,this._getExactOverlayX(t,e,u))}else i.position="static";let a="",l=this._getOffset(t,"x"),c=this._getOffset(t,"y");l&&(a+=`translateX(${l}px) `),c&&(a+=`translateY(${c}px)`),i.transform=a.trim(),s.maxHeight&&(r?i.maxHeight=nn(s.maxHeight):o&&(i.maxHeight="")),s.maxWidth&&(r?i.maxWidth=nn(s.maxWidth):o&&(i.maxWidth="")),ja(this._pane.style,i)}_getExactOverlayY(e,t,i){let r={top:"",bottom:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),"bottom"===e.overlayY?r.bottom=this._document.documentElement.clientHeight-(o.y+this._overlayRect.height)+"px":r.top=nn(o.y),r}_getExactOverlayX(e,t,i){let s,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),s=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===s?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=nn(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),i=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:jj(e,i),isOriginOutsideView:dT(e,i),isOverlayClipped:jj(t,i),isOverlayOutsideView:dT(t,i)}}_subtractOverflows(e,...t){return t.reduce((i,r)=>i-Math.max(r,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+e-this._viewportMargin,bottom:i.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&$_(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Oe)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,i=e.height||0;return{top:e.y,bottom:e.y+i,left:e.x,right:e.x+t,height:i,width:t}}}function ja(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Wj(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(Nce);return t&&"px"!==t?null:parseFloat(e)}return n||null}function Gj(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const Kj="cdk-global-overlay-wrapper";class Fce{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(Kj),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:r,height:o,maxWidth:s,maxHeight:a}=i,l=!("100%"!==r&&"100vw"!==r||s&&"100%"!==s&&"100vw"!==s),c=!("100%"!==o&&"100vh"!==o||a&&"100%"!==a&&"100vh"!==a),u=this._xPosition,d=this._xOffset,h="rtl"===this._overlayRef.getConfig().direction;let f="",p="",m="";l?m="flex-start":"center"===u?(m="center",h?p=d:f=d):h?"left"===u||"end"===u?(m="flex-end",f=d):("right"===u||"start"===u)&&(m="flex-start",p=d):"left"===u||"start"===u?(m="flex-start",f=d):("right"===u||"end"===u)&&(m="flex-end",p=d),e.position=this._cssPosition,e.marginLeft=l?"0":f,e.marginTop=c?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=l?"0":p,t.justifyContent=m,t.alignItems=c?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,i=t.style;t.classList.remove(Kj),i.justifyContent=i.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let Lce=(()=>{class n{constructor(t,i,r,o){this._viewportRuler=t,this._document=i,this._platform=r,this._overlayContainer=o}global(){return new Fce}flexibleConnectedTo(t){return new Oce(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(i){return new(i||n)(C(Oj),C(we),C(dn),C($j))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Vce=0,qc=(()=>{class n{constructor(t,i,r,o,s,a,l,c,u,d,h,f){this.scrollStrategies=t,this._overlayContainer=i,this._componentFactoryResolver=r,this._positionBuilder=o,this._keyboardDispatcher=s,this._injector=a,this._ngZone=l,this._document=c,this._directionality=u,this._location=d,this._outsideClickDispatcher=h,this._animationsModuleType=f}create(t){const i=this._createHostElement(),r=this._createPaneElement(i),o=this._createPortalOutlet(r),s=new Hj(t);return s.direction=s.direction||this._directionality.value,new kce(o,i,r,s,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const i=this._document.createElement("div");return i.id="cdk-overlay-"+Vce++,i.classList.add("cdk-overlay-pane"),t.appendChild(i),i}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(Ro)),new Cce(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(i){return new(i||n)(C(Ace),C($j),C(th),C(Lce),C(Mce),C(yt),C(Q),C(we),C(Q_),C(f_),C(Pce),C(Br,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const jce={provide:new S("cdk-connected-overlay-scroll-strategy"),deps:[qc],useFactory:function Uce(n){return()=>n.scrollStrategies.reposition()}};let Yj=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({providers:[qc,jce],imports:[Wh,Tce,Fj,Fj]})}return n})();class Qj{}class Hce{}const Vo="*";function cy(n,e){return{type:7,name:n,definitions:e,options:{}}}function Wc(n,e=null){return{type:4,styles:e,timings:n}}function Xj(n,e=null){return{type:2,steps:n,options:e}}function wr(n){return{type:6,styles:n,offset:null}}function Zh(n,e,t){return{type:0,name:n,styles:e,options:t}}function Gc(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class Jh{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class Zj{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,i=0,r=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++i==o&&this._onDestroy()}),s.onStart(()=>{++r==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(i=>{const r=i.totalTime?Math.min(1,t/i.totalTime):1;i.setPosition(r)})}getPosition(){const e=this.players.reduce((t,i)=>null===t||i.totalTime>t.totalTime?i:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}const zce=["tooltip"],Jj=new S("mat-tooltip-scroll-strategy"),Wce={provide:Jj,deps:[qc],useFactory:function qce(n){return()=>n.scrollStrategies.reposition({scrollThrottle:20})}},Kce=new S("mat-tooltip-default-options",{providedIn:"root",factory:function Gce(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}}),eH="tooltip-panel",tH=Fa({passive:!0});let eue=(()=>{class n{get position(){return this._position}set position(t){t!==this._position&&(this._position=t,this._overlayRef&&(this._updatePosition(this._overlayRef),this._tooltipInstance?.show(0),this._overlayRef.updatePosition()))}get positionAtOrigin(){return this._positionAtOrigin}set positionAtOrigin(t){this._positionAtOrigin=ji(t),this._detach(),this._overlayRef=null}get disabled(){return this._disabled}set disabled(t){this._disabled=ji(t),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get showDelay(){return this._showDelay}set showDelay(t){this._showDelay=LU(t)}get hideDelay(){return this._hideDelay}set hideDelay(t){this._hideDelay=LU(t),this._tooltipInstance&&(this._tooltipInstance._mouseLeaveHideDelay=this._hideDelay)}get message(){return this._message}set message(t){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message,"tooltip"),this._message=null!=t?String(t).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message,"tooltip")})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(t){this._tooltipClass=t,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}constructor(t,i,r,o,s,a,l,c,u,d,h,f){this._overlay=t,this._elementRef=i,this._scrollDispatcher=r,this._viewContainerRef=o,this._ngZone=s,this._platform=a,this._ariaDescriber=l,this._focusMonitor=c,this._dir=d,this._defaultOptions=h,this._position="below",this._positionAtOrigin=!1,this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this._viewportMargin=8,this._cssClassPrefix="mat",this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new te,this._scrollStrategy=u,this._document=f,h&&(this._showDelay=h.showDelay,this._hideDelay=h.hideDelay,h.position&&(this.position=h.position),h.positionAtOrigin&&(this.positionAtOrigin=h.positionAtOrigin),h.touchGestures&&(this.touchGestures=h.touchGestures)),d.change.pipe(tn(this._destroyed)).subscribe(()=>{this._overlayRef&&this._updatePosition(this._overlayRef)})}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(tn(this._destroyed)).subscribe(t=>{t?"keyboard"===t&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const t=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),this._passiveListeners.forEach(([i,r])=>{t.removeEventListener(i,r,tH)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(t,this.message,"tooltip"),this._focusMonitor.stopMonitoring(t)}show(t=this.showDelay,i){if(this.disabled||!this.message||this._isTooltipVisible())return void this._tooltipInstance?._cancelPendingAnimations();const r=this._createOverlay(i);this._detach(),this._portal=this._portal||new Lj(this._tooltipComponent,this._viewContainerRef);const o=this._tooltipInstance=r.attach(this._portal).instance;o._triggerElement=this._elementRef.nativeElement,o._mouseLeaveHideDelay=this._hideDelay,o.afterHidden().pipe(tn(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),o.show(t)}hide(t=this.hideDelay){const i=this._tooltipInstance;i&&(i.isVisible()?i.hide(t):(i._cancelPendingAnimations(),this._detach()))}toggle(t){this._isTooltipVisible()?this.hide():this.show(void 0,t)}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(t){if(this._overlayRef){const o=this._overlayRef.getConfig().positionStrategy;if((!this.positionAtOrigin||!t)&&o._origin instanceof Oe)return this._overlayRef;this._detach()}const i=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),r=this._overlay.position().flexibleConnectedTo(this.positionAtOrigin&&t||this._elementRef).withTransformOriginOn(`.${this._cssClassPrefix}-tooltip`).withFlexibleDimensions(!1).withViewportMargin(this._viewportMargin).withScrollableContainers(i);return r.positionChanges.pipe(tn(this._destroyed)).subscribe(o=>{this._updateCurrentPositionClass(o.connectionPair),this._tooltipInstance&&o.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:r,panelClass:`${this._cssClassPrefix}-${eH}`,scrollStrategy:this._scrollStrategy()}),this._updatePosition(this._overlayRef),this._overlayRef.detachments().pipe(tn(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef.outsidePointerEvents().pipe(tn(this._destroyed)).subscribe(()=>this._tooltipInstance?._handleBodyInteraction()),this._overlayRef.keydownEvents().pipe(tn(this._destroyed)).subscribe(o=>{this._isTooltipVisible()&&27===o.keyCode&&!$C(o)&&(o.preventDefault(),o.stopPropagation(),this._ngZone.run(()=>this.hide(0)))}),this._defaultOptions?.disableTooltipInteractivity&&this._overlayRef.addPanelClass(`${this._cssClassPrefix}-tooltip-panel-non-interactive`),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(t){const i=t.getConfig().positionStrategy,r=this._getOrigin(),o=this._getOverlayPosition();i.withPositions([this._addOffset({...r.main,...o.main}),this._addOffset({...r.fallback,...o.fallback})])}_addOffset(t){return t}_getOrigin(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i||"below"==i?r={originX:"center",originY:"above"==i?"top":"bottom"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={originX:"start",originY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={originX:"end",originY:"center"});const{x:o,y:s}=this._invertPosition(r.originX,r.originY);return{main:r,fallback:{originX:o,originY:s}}}_getOverlayPosition(){const t=!this._dir||"ltr"==this._dir.value,i=this.position;let r;"above"==i?r={overlayX:"center",overlayY:"bottom"}:"below"==i?r={overlayX:"center",overlayY:"top"}:"before"==i||"left"==i&&t||"right"==i&&!t?r={overlayX:"end",overlayY:"center"}:("after"==i||"right"==i&&t||"left"==i&&!t)&&(r={overlayX:"start",overlayY:"center"});const{x:o,y:s}=this._invertPosition(r.overlayX,r.overlayY);return{main:r,fallback:{overlayX:o,overlayY:s}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.pipe(qn(1),tn(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(t){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=t,this._tooltipInstance._markForCheck())}_invertPosition(t,i){return"above"===this.position||"below"===this.position?"top"===i?i="bottom":"bottom"===i&&(i="top"):"end"===t?t="start":"start"===t&&(t="end"),{x:t,y:i}}_updateCurrentPositionClass(t){const{overlayY:i,originX:r,originY:o}=t;let s;if(s="center"===i?this._dir&&"rtl"===this._dir.value?"end"===r?"left":"right":"start"===r?"left":"right":"bottom"===i&&"top"===o?"above":"below",s!==this._currentPosition){const a=this._overlayRef;if(a){const l=`${this._cssClassPrefix}-${eH}-`;a.removePanelClass(l+this._currentPosition),a.addPanelClass(l+s)}this._currentPosition=s}}_setupPointerEnterEventsIfNeeded(){this._disabled||!this.message||!this._viewInitialized||this._passiveListeners.length||(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",t=>{let i;this._setupPointerExitEventsIfNeeded(),void 0!==t.x&&void 0!==t.y&&(i=t),this.show(void 0,i)}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",t=>{const i=t.targetTouches?.[0],r=i?{x:i.clientX,y:i.clientY}:void 0;this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(void 0,r),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const t=[];if(this._platformSupportsMouseEvents())t.push(["mouseleave",i=>{const r=i.relatedTarget;(!r||!this._overlayRef?.overlayElement.contains(r))&&this.hide()}],["wheel",i=>this._wheelListener(i)]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const i=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};t.push(["touchend",i],["touchcancel",i])}this._addListeners(t),this._passiveListeners.push(...t)}_addListeners(t){t.forEach(([i,r])=>{this._elementRef.nativeElement.addEventListener(i,r,tH)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_wheelListener(t){if(this._isTooltipVisible()){const i=this._document.elementFromPoint(t.clientX,t.clientY),r=this._elementRef.nativeElement;i!==r&&!r.contains(i)&&this.hide()}}_disableNativeGesturesIfNecessary(){const t=this.touchGestures;if("off"!==t){const i=this._elementRef.nativeElement,r=i.style;("on"===t||"INPUT"!==i.nodeName&&"TEXTAREA"!==i.nodeName)&&(r.userSelect=r.msUserSelect=r.webkitUserSelect=r.MozUserSelect="none"),("on"===t||!i.draggable)&&(r.webkitUserDrag="none"),r.touchAction="none",r.webkitTapHighlightColor="transparent"}}static#e=this.\u0275fac=function(i){Bg()};static#t=this.\u0275dir=z({type:n,inputs:{position:["matTooltipPosition","position"],positionAtOrigin:["matTooltipPositionAtOrigin","positionAtOrigin"],disabled:["matTooltipDisabled","disabled"],showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]}})}return n})(),tue=(()=>{class n extends eue{constructor(t,i,r,o,s,a,l,c,u,d,h,f){super(t,i,r,o,s,a,l,c,u,d,h,f),this._tooltipComponent=iue,this._cssClassPrefix="mat-mdc",this._viewportMargin=8}_addOffset(t){const r=!this._dir||"ltr"==this._dir.value;return"top"===t.originY?t.offsetY=-8:"bottom"===t.originY?t.offsetY=8:"start"===t.originX?t.offsetX=r?-8:8:"end"===t.originX&&(t.offsetX=r?8:-8),t}static#e=this.\u0275fac=function(i){return new(i||n)(y(qc),y(Oe),y(Nj),y(Ii),y(Q),y(dn),y(Lae),y(Y_),y(Jj),y(Q_,8),y(Kce,8),y(we))};static#t=this.\u0275dir=z({type:n,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-mdc-tooltip-trigger"],hostVars:2,hostBindings:function(i,r){2&i&&Mt("mat-mdc-tooltip-disabled",r.disabled)},exportAs:["matTooltip"],features:[be]})}return n})(),nue=(()=>{class n{constructor(t,i){this._changeDetectorRef=t,this._closeOnInteraction=!1,this._isVisible=!1,this._onHide=new te,this._animationsDisabled="NoopAnimations"===i}show(t){null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=setTimeout(()=>{this._toggleVisibility(!0),this._showTimeoutId=void 0},t)}hide(t){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),this._hideTimeoutId=setTimeout(()=>{this._toggleVisibility(!1),this._hideTimeoutId=void 0},t)}afterHidden(){return this._onHide}isVisible(){return this._isVisible}ngOnDestroy(){this._cancelPendingAnimations(),this._onHide.complete(),this._triggerElement=null}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}_handleMouseLeave({relatedTarget:t}){(!t||!this._triggerElement.contains(t))&&(this.isVisible()?this.hide(this._mouseLeaveHideDelay):this._finalizeAnimation(!1))}_onShow(){}_handleAnimationEnd({animationName:t}){(t===this._showAnimation||t===this._hideAnimation)&&this._finalizeAnimation(t===this._showAnimation)}_cancelPendingAnimations(){null!=this._showTimeoutId&&clearTimeout(this._showTimeoutId),null!=this._hideTimeoutId&&clearTimeout(this._hideTimeoutId),this._showTimeoutId=this._hideTimeoutId=void 0}_finalizeAnimation(t){t?this._closeOnInteraction=!0:this.isVisible()||this._onHide.next()}_toggleVisibility(t){const i=this._tooltip.nativeElement,r=this._showAnimation,o=this._hideAnimation;if(i.classList.remove(t?o:r),i.classList.add(t?r:o),this._isVisible=t,t&&!this._animationsDisabled&&"function"==typeof getComputedStyle){const s=getComputedStyle(i);("0s"===s.getPropertyValue("animation-duration")||"none"===s.getPropertyValue("animation-name"))&&(this._animationsDisabled=!0)}t&&this._onShow(),this._animationsDisabled&&(i.classList.add("_mat-animation-noopable"),this._finalizeAnimation(t))}static#e=this.\u0275fac=function(i){return new(i||n)(y(or),y(Br,8))};static#t=this.\u0275dir=z({type:n})}return n})(),iue=(()=>{class n extends nue{constructor(t,i,r){super(t,r),this._elementRef=i,this._isMultiline=!1,this._showAnimation="mat-mdc-tooltip-show",this._hideAnimation="mat-mdc-tooltip-hide"}_onShow(){this._isMultiline=this._isTooltipMultiline(),this._markForCheck()}_isTooltipMultiline(){const t=this._elementRef.nativeElement.getBoundingClientRect();return t.height>24&&t.width>=200}static#e=this.\u0275fac=function(i){return new(i||n)(y(or),y(Oe),y(Br,8))};static#t=this.\u0275cmp=$e({type:n,selectors:[["mat-tooltip-component"]],viewQuery:function(i,r){if(1&i&&Nn(zce,7),2&i){let o;Xe(o=Ze())&&(r._tooltip=o.first)}},hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(i,r){1&i&&ue("mouseleave",function(s){return r._handleMouseLeave(s)}),2&i&&wi("zoom",r.isVisible()?1:null)},features:[be],decls:4,vars:4,consts:[[1,"mdc-tooltip","mdc-tooltip--shown","mat-mdc-tooltip",3,"ngClass","animationend"],["tooltip",""],[1,"mdc-tooltip__surface","mdc-tooltip__surface-animation"]],template:function(i,r){1&i&&(A(0,"div",0,1),ue("animationend",function(s){return r._handleAnimationEnd(s)}),A(2,"div",2),P(3),k()()),2&i&&(Mt("mdc-tooltip--multiline",r._isMultiline),V("ngClass",r.tooltipClass),j(3),Pc(r.message))},dependencies:[Sh],styles:['.mdc-tooltip__surface{word-break:break-all;word-break:var(--mdc-tooltip-word-break, normal);overflow-wrap:anywhere}.mdc-tooltip--showing-transition .mdc-tooltip__surface-animation{transition:opacity 150ms 0ms cubic-bezier(0, 0, 0.2, 1),transform 150ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-tooltip--hide-transition .mdc-tooltip__surface-animation{transition:opacity 75ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-tooltip{position:fixed;display:none;z-index:9}.mdc-tooltip-wrapper--rich{position:relative}.mdc-tooltip--shown,.mdc-tooltip--showing,.mdc-tooltip--hide{display:inline-flex}.mdc-tooltip--shown.mdc-tooltip--rich,.mdc-tooltip--showing.mdc-tooltip--rich,.mdc-tooltip--hide.mdc-tooltip--rich{display:inline-block;left:-320px;position:absolute}.mdc-tooltip__surface{line-height:16px;padding:4px 8px;min-width:40px;max-width:200px;min-height:24px;max-height:40vh;box-sizing:border-box;overflow:hidden;text-align:center}.mdc-tooltip__surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-tooltip__surface::before{border-color:CanvasText}}.mdc-tooltip--rich .mdc-tooltip__surface{align-items:flex-start;display:flex;flex-direction:column;min-height:24px;min-width:40px;max-width:320px;position:relative}.mdc-tooltip--multiline .mdc-tooltip__surface{text-align:left}[dir=rtl] .mdc-tooltip--multiline .mdc-tooltip__surface,.mdc-tooltip--multiline .mdc-tooltip__surface[dir=rtl]{text-align:right}.mdc-tooltip__surface .mdc-tooltip__title{margin:0 8px}.mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(200px - (2 * 8px));margin:8px;text-align:left}[dir=rtl] .mdc-tooltip__surface .mdc-tooltip__content,.mdc-tooltip__surface .mdc-tooltip__content[dir=rtl]{text-align:right}.mdc-tooltip--rich .mdc-tooltip__surface .mdc-tooltip__content{max-width:calc(320px - (2 * 8px));align-self:stretch}.mdc-tooltip__surface .mdc-tooltip__content-link{text-decoration:none}.mdc-tooltip--rich-actions,.mdc-tooltip__content,.mdc-tooltip__title{z-index:1}.mdc-tooltip__surface-animation{opacity:0;transform:scale(0.8);will-change:transform,opacity}.mdc-tooltip--shown .mdc-tooltip__surface-animation{transform:scale(1);opacity:1}.mdc-tooltip--hide .mdc-tooltip__surface-animation{transform:scale(1)}.mdc-tooltip__caret-surface-top,.mdc-tooltip__caret-surface-bottom{position:absolute;height:24px;width:24px;transform:rotate(35deg) skewY(20deg) scaleX(0.9396926208)}.mdc-tooltip__caret-surface-top .mdc-elevation-overlay,.mdc-tooltip__caret-surface-bottom .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-tooltip__caret-surface-bottom{box-shadow:0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12);outline:1px solid rgba(0,0,0,0);z-index:-1}@media screen and (forced-colors: active){.mdc-tooltip__caret-surface-bottom{outline-color:CanvasText}}.mat-mdc-tooltip{--mdc-plain-tooltip-container-shape:4px;--mdc-plain-tooltip-supporting-text-line-height:16px}.mat-mdc-tooltip .mdc-tooltip__surface{background-color:var(--mdc-plain-tooltip-container-color)}.mat-mdc-tooltip .mdc-tooltip__surface{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__caret-surface-top,.mat-mdc-tooltip .mdc-tooltip__caret-surface-bottom{border-radius:var(--mdc-plain-tooltip-container-shape)}.mat-mdc-tooltip .mdc-tooltip__surface{color:var(--mdc-plain-tooltip-supporting-text-color)}.mat-mdc-tooltip .mdc-tooltip__surface{font-family:var(--mdc-plain-tooltip-supporting-text-font);line-height:var(--mdc-plain-tooltip-supporting-text-line-height);font-size:var(--mdc-plain-tooltip-supporting-text-size);font-weight:var(--mdc-plain-tooltip-supporting-text-weight);letter-spacing:var(--mdc-plain-tooltip-supporting-text-tracking)}.mat-mdc-tooltip{position:relative;transform:scale(0)}.mat-mdc-tooltip::before{content:"";top:0;right:0;bottom:0;left:0;z-index:-1;position:absolute}.mat-mdc-tooltip-panel-below .mat-mdc-tooltip::before{top:-8px}.mat-mdc-tooltip-panel-above .mat-mdc-tooltip::before{bottom:-8px}.mat-mdc-tooltip-panel-right .mat-mdc-tooltip::before{left:-8px}.mat-mdc-tooltip-panel-left .mat-mdc-tooltip::before{right:-8px}.mat-mdc-tooltip._mat-animation-noopable{animation:none;transform:scale(1)}.mat-mdc-tooltip-panel-non-interactive{pointer-events:none}@keyframes mat-mdc-tooltip-show{0%{opacity:0;transform:scale(0.8)}100%{opacity:1;transform:scale(1)}}@keyframes mat-mdc-tooltip-hide{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(0.8)}}.mat-mdc-tooltip-show{animation:mat-mdc-tooltip-show 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-mdc-tooltip-hide{animation:mat-mdc-tooltip-hide 75ms cubic-bezier(0.4, 0, 1, 1) forwards}'],encapsulation:2,changeDetection:0})}return n})(),rue=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({providers:[Wce],imports:[Qae,No,Yj,yn,yn,ly]})}return n})();const uy=wd(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function fT(n){return new ze(e=>{gn(n()).subscribe(e)})}function pT(){return Vt((n,e)=>{let t=null;n._refCount++;const i=gt(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class nH extends ze{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Sk(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new It;const t=this.getSubject();e.add(this.source.subscribe(gt(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=It.EMPTY)}return e}refCount(){return pT()(this)}}function dy(n){return Vt((e,t)=>{let i=!1;e.subscribe(gt(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function iH(n=sue){return Vt((e,t)=>{let i=!1;e.subscribe(gt(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function sue(){return new uy}function Ha(n,e){const t=arguments.length>=2;return i=>i.pipe(n?hn((r,o)=>n(r,o,i)):as,qn(1),t?dy(e):iH(()=>new uy))}function mT(n){return n<=0?()=>Xi:Vt((e,t)=>{let i=[];e.subscribe(gt(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function rH(n){return he(()=>n)}const _e="primary",ef=Symbol("RouteTitle");class uue{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Kc(n){return new uue(n)}function due(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let o=0;o<i.length;o++){const s=i[o],a=n[o];if(s.startsWith(":"))r[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function Kr(n,e){const t=n?Object.keys(n):void 0,i=e?Object.keys(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!oH(n[r],e[r]))return!1;return!0}function oH(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,o)=>i[o]===r)}return n===e}function sH(n){return n.length>0?n[n.length-1]:null}function As(n){return function oue(n){return!!n&&(n instanceof ze||Ne(n.lift)&&Ne(n.subscribe))}(n)?n:hh(n)?_t(Promise.resolve(n)):Z(n)}const fue={exact:function cH(n,e,t){if(!za(n.segments,e.segments)||!hy(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!cH(n.children[i],e.children[i],t))return!1;return!0},subset:uH},aH={exact:function pue(n,e){return Kr(n,e)},subset:function mue(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>oH(n[t],e[t]))},ignored:()=>!0};function lH(n,e,t){return fue[t.paths](n.root,e.root,t.matrixParams)&&aH[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function uH(n,e,t){return dH(n,e,e.segments,t)}function dH(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!za(r,t)||e.hasChildren()||!hy(r,t,i))}if(n.segments.length===t.length){if(!za(n.segments,t)||!hy(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!uH(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(za(n.segments,r)&&hy(n.segments,r,i)&&n.children[_e])&&dH(n.children[_e],e,o,i)}}function hy(n,e,t){return e.every((i,r)=>aH[t](n[r].parameters,i.parameters))}class Yc{constructor(e=new Je([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return yue.serialize(this)}}class Je{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fy(this)}}class tf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Kc(this.parameters)),this._parameterMap}toString(){return pH(this)}}function za(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let nf=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(){return new gT},providedIn:"root"})}return n})();class gT{parse(e){const t=new Aue(e);return new Yc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${rf(e.root,!0)}`,i=function wue(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${py(t)}=${py(r)}`).join("&"):`${py(t)}=${py(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function vue(n){return encodeURI(n)}(e.fragment)}`:""}`}}const yue=new gT;function fy(n){return n.segments.map(e=>pH(e)).join("/")}function rf(n,e){if(!n.hasChildren())return fy(n);if(e){const t=n.children[_e]?rf(n.children[_e],!1):"",i=[];return Object.entries(n.children).forEach(([r,o])=>{r!==_e&&i.push(`${r}:${rf(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function _ue(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===_e&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==_e&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===_e?[rf(n.children[_e],!1)]:[`${r}:${rf(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[_e]?`${fy(n)}/${t[0]}`:`${fy(n)}/(${t.join("//")})`}}function hH(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function py(n){return hH(n).replace(/%3B/gi,";")}function _T(n){return hH(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function my(n){return decodeURIComponent(n)}function fH(n){return my(n.replace(/\+/g,"%20"))}function pH(n){return`${_T(n.path)}${function bue(n){return Object.keys(n).map(e=>`;${_T(e)}=${_T(n[e])}`).join("")}(n.parameters)}`}const Eue=/^[^\/()?;#]+/;function yT(n){const e=n.match(Eue);return e?e[0]:""}const Iue=/^[^\/()?;=#]+/,Tue=/^[^=?&#]+/,Due=/^[^&#]+/;class Aue{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[_e]=new Je(e,t)),i}parseSegment(){const e=yT(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,!1);return this.capture(e),new tf(my(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Cue(n){const e=n.match(Iue);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=yT(this.remaining);r&&(i=r,this.capture(i))}e[my(t)]=my(i)}parseQueryParam(e){const t=function xue(n){const e=n.match(Tue);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const s=function Sue(n){const e=n.match(Due);return e?e[0]:""}(this.remaining);s&&(i=s,this.capture(i))}const r=fH(t),o=fH(i);if(e.hasOwnProperty(r)){let s=e[r];Array.isArray(s)||(s=[s],e[r]=s),s.push(o)}else e[r]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=yT(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new T(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=_e);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[_e]:new Je([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,!1)}}function mH(n){return n.segments.length>0?new Je([],{[_e]:n}):n}function gH(n){const e={};for(const i of Object.keys(n.children)){const o=gH(n.children[i]);if(i===_e&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[i]=o)}return function Rue(n){if(1===n.numberOfChildren&&n.children[_e]){const e=n.children[_e];return new Je(n.segments.concat(e.segments),e.children)}return n}(new Je(n.segments,e))}function $a(n){return n instanceof Yc}function _H(n){let e;const r=mH(function t(o){const s={};for(const l of o.children){const c=t(l);s[l.outlet]=c}const a=new Je(o.url,s);return o===n&&(e=a),a}(n.root));return e??r}function yH(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return vT(r,r,r,t,i);const o=function Pue(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new bH(!0,0,n);let e=0,t=!1;const i=n.reduce((r,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([l,c])=>{a[l]="string"==typeof c?c.split("/"):c}),[...r,{outlets:a}]}if(o.segmentPath)return[...r,o.segmentPath]}return"string"!=typeof o?[...r,o]:0===s?(o.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,o]},[]);return new bH(t,e,i)}(e);if(o.toRoot())return vT(r,r,new Je([],{}),t,i);const s=function kue(n,e,t){if(n.isAbsolute)return new _y(e,!0,0);if(!t)return new _y(e,!1,NaN);if(null===t.parent)return new _y(t,!0,0);const i=gy(n.commands[0])?0:1;return function Nue(n,e,t){let i=n,r=e,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new T(4005,!1);r=i.segments.length}return new _y(i,!1,r-o)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(o,r,n),a=s.processChildren?af(s.segmentGroup,s.index,o.commands):wH(s.segmentGroup,s.index,o.commands);return vT(r,s.segmentGroup,a,t,i)}function gy(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function sf(n){return"object"==typeof n&&null!=n&&n.outlets}function vT(n,e,t,i,r){let s,o={};i&&Object.entries(i).forEach(([l,c])=>{o[l]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`}),s=n===e?t:vH(n,e,t);const a=mH(gH(s));return new Yc(a,o,r)}function vH(n,e,t){const i={};return Object.entries(n.children).forEach(([r,o])=>{i[r]=o===e?t:vH(o,e,t)}),new Je(n.segments,i)}class bH{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&gy(i[0]))throw new T(4003,!1);const r=i.find(sf);if(r&&r!==sH(i))throw new T(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class _y{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function wH(n,e,t){if(n||(n=new Je([],{})),0===n.segments.length&&n.hasChildren())return af(n,e,t);const i=function Fue(n,e,t){let i=0,r=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return o;const s=n.segments[r],a=t[i];if(sf(a))break;const l=`${a}`,c=i<t.length-1?t[i+1]:null;if(r>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!IH(l,c,s))return o;i+=2}else{if(!IH(l,{},s))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const o=new Je(n.segments.slice(0,i.pathIndex),{});return o.children[_e]=new Je(n.segments.slice(i.pathIndex),n.children),af(o,0,r)}return i.match&&0===r.length?new Je(n.segments,{}):i.match&&!n.hasChildren()?bT(n,e,t):i.match?af(n,0,r):bT(n,e,t)}function af(n,e,t){if(0===t.length)return new Je(n.segments,{});{const i=function Oue(n){return sf(n[0])?n[0].outlets:{[_e]:n}}(t),r={};if(Object.keys(i).some(o=>o!==_e)&&n.children[_e]&&1===n.numberOfChildren&&0===n.children[_e].segments.length){const o=af(n.children[_e],e,t);return new Je(n.segments,o.children)}return Object.entries(i).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(r[o]=wH(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{void 0===i[o]&&(r[o]=s)}),new Je(n.segments,r)}}function bT(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const o=t[r];if(sf(o)){const l=Lue(o.outlets);return new Je(i,l)}if(0===r&&gy(t[0])){i.push(new tf(n.segments[e].path,EH(t[0]))),r++;continue}const s=sf(o)?o.outlets[_e]:`${o}`,a=r<t.length-1?t[r+1]:null;s&&a&&gy(a)?(i.push(new tf(s,EH(a))),r+=2):(i.push(new tf(s,{})),r++)}return new Je(i,{})}function Lue(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=bT(new Je([],{}),0,i))}),e}function EH(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function IH(n,e,t){return n==t.path&&Kr(e,t.parameters)}const lf="imperative";class Yr{constructor(e,t){this.id=e,this.url=t}}class yy extends Yr{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rs extends Yr{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class cf extends Yr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Qc extends Yr{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class vy extends Yr{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class CH extends Yr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vue extends Yr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Bue extends Yr{constructor(e,t,i,r,o){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Uue extends Yr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jue extends Yr{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hue{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class zue{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $ue{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class que{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wue{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Gue{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class TH{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class wT{}class ET{constructor(e){this.url=e}}class Kue{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new uf,this.attachRef=null}}let uf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new Kue,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class xH{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=IT(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=IT(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=CT(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return CT(e,this._root).map(t=>t.value)}}function IT(n,e){if(n===e.value)return e;for(const t of e.children){const i=IT(n,t);if(i)return i}return null}function CT(n,e){if(n===e.value)return[e];for(const t of e.children){const i=CT(n,t);if(i.length)return i.unshift(e),i}return[]}class Bo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Xc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class DH extends xH{constructor(e,t){super(e),this.snapshot=t,TT(this,e)}toString(){return this.snapshot.toString()}}function SH(n,e){const t=function Yue(n,e){const s=new by([],{},{},"",{},_e,e,null,{});return new RH("",new Bo(s,[]))}(0,e),i=new Ri([new tf("",{})]),r=new Ri({}),o=new Ri({}),s=new Ri({}),a=new Ri(""),l=new Zc(i,r,s,a,o,_e,e,t.root);return l.snapshot=t.root,new DH(new Bo(l,[]),t)}class Zc{constructor(e,t,i,r,o,s,a,l){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(he(c=>c[ef]))??Z(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(he(e=>Kc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(he(e=>Kc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function AH(n,e="emptyOnly"){const t=n.pathFromRoot;let i=0;if("always"!==e)for(i=t.length-1;i>=1;){const r=t[i],o=t[i-1];if(r.routeConfig&&""===r.routeConfig.path)i--;else{if(o.component)break;i--}}return function Que(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(i))}class by{get title(){return this.data?.[ef]}constructor(e,t,i,r,o,s,a,l,c){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=s,this.component=a,this.routeConfig=l,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Kc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Kc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class RH extends xH{constructor(e,t){super(t),this.url=e,TT(this,t)}toString(){return MH(this._root)}}function TT(n,e){e.value._routerState=n,e.children.forEach(t=>TT(n,t))}function MH(n){const e=n.children.length>0?` { ${n.children.map(MH).join(", ")} } `:"";return`${n.value}${e}`}function xT(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Kr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Kr(e.params,t.params)||n.paramsSubject.next(t.params),function hue(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Kr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Kr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function DT(n,e){const t=Kr(n.params,e.params)&&function gue(n,e){return za(n,e)&&n.every((t,i)=>Kr(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||DT(n.parent,e.parent))}let PH=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=_e,this.activateEvents=new ve,this.deactivateEvents=new ve,this.attachEvents=new ve,this.detachEvents=new ve,this.parentContexts=F(uf),this.location=F(Ii),this.changeDetector=F(or),this.environmentInjector=F(Fi),this.inputBinder=F(wy,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new T(4013,!1);this._activatedRoute=t;const r=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new Xue(t,a,r.injector);this.activated=r.createComponent(s,{index:r.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=z({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ii]})}return n})();class Xue{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===Zc?this.route:e===uf?this.childContexts:this.parent.get(e,t)}}const wy=new S("");let kH=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=q_([i.queryParams,i.params,i.data]).pipe(ei(([o,s,a],l)=>(a={...o,...s,...a},0===l?Z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const s=function kie(n){const e=Fe(n);if(!e)return null;const t=new ah(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function df(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function Jue(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return df(n,i,r);return df(n,i)})}(n,e,t);return new Bo(i,r)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>df(n,a)),s}}const i=function ede(n){return new Zc(new Ri(n.url),new Ri(n.params),new Ri(n.queryParams),new Ri(n.fragment),new Ri(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(o=>df(n,o));return new Bo(i,r)}}const ST="ngNavigationCancelingError";function NH(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=$a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=OH(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function OH(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[ST]=!0,i.cancellationCode=e,t&&(i.url=t),i}function FH(n){return n&&n[ST]}let LH=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["ng-component"]],standalone:!0,features:[yr],decls:1,vars:0,template:function(i,r){1&i&&Ae(0,"router-outlet")},dependencies:[PH],encapsulation:2})}return n})();function AT(n){const e=n.children&&n.children.map(AT),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==_e&&(t.component=LH),t}function Er(n){return n.outlet||_e}function hf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lde{constructor(e,t,i,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),xT(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Xc(t);e.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,r[s],i),delete r[s]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(r===o)if(r.component){const s=i.getContext(r.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Xc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);if(i&&i.outlet){const s=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,o=Xc(e);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Xc(t);e.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Gue(o.value.snapshot))}),e.children.length&&this.forwardEvent(new que(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,o=t?t.value:null;if(xT(r),r===o)if(r.component){const s=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const s=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),xT(a.route.value),this.activateChildRoutes(e,null,s.children)}else{const a=hf(r.snapshot);s.attachRef=null,s.route=r,s.injector=a,s.outlet&&s.outlet.activateWith(r,s.injector),this.activateChildRoutes(e,null,s.children)}}else this.activateChildRoutes(e,null,i)}}class VH{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Ey{constructor(e,t){this.component=e,this.route=t}}function cde(n,e,t){const i=n._root;return ff(i,e?e._root:null,t,[i.value])}function Jc(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function B7(n){return null!==zm(n)}(n)?e.get(n):n:i}function ff(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=Xc(e);return n.children.forEach(s=>{(function dde(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const l=function hde(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!za(n.url,e.url);case"pathParamsOrQueryParamsChange":return!za(n.url,e.url)||!Kr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!DT(n,e)||!Kr(n.queryParams,e.queryParams);default:return!DT(n,e)}}(s,o,o.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new VH(i)):(o.data=s.data,o._resolvedData=s._resolvedData),ff(n,e,o.component?a?a.children:null:t,i,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new Ey(a.outlet.component,s))}else s&&pf(e,a,r),r.canActivateChecks.push(new VH(i)),ff(n,null,o.component?a?a.children:null:t,i,r)})(s,o[s.value.outlet],t,i.concat([s.value]),r),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>pf(a,t.getContext(s),r)),r}function pf(n,e,t){const i=Xc(n),r=n.value;Object.entries(i).forEach(([o,s])=>{pf(s,r.component?e?e.children.getContext(o):null:e,t)}),t.canDeactivateChecks.push(new Ey(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function mf(n){return"function"==typeof n}function BH(n){return n instanceof uy||"EmptyError"===n?.name}const Iy=Symbol("INITIAL_VALUE");function eu(){return ei(n=>q_(n.map(e=>e.pipe(qn(1),qh(Iy)))).pipe(he(e=>{for(const t of e)if(!0!==t){if(t===Iy)return Iy;if(!1===t||t instanceof Yc)return t}return!0}),hn(e=>e!==Iy),qn(1)))}function UH(n){return qw(Pt(e=>{if($a(e))throw NH(0,e)}),he(e=>!0===e))}class Cy{constructor(e){this.segmentGroup=e||null}}class jH{constructor(e){this.urlTree=e}}function tu(n){return zc(new Cy(n))}function HH(n){return zc(new jH(n))}class Pde{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new T(4002,!1)}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return Z(i);if(r.numberOfChildren>1||!r.children[_e])return zc(new T(4e3,!1));r=r.children[_e]}}applyRedirectCommands(e,t,i){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i)}applyRedirectCreateUrlTree(e,t,i,r){const o=this.createSegmentGroup(e,t.root,i,r);return new Yc(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);i[r]=t[a]}else i[r]=o}),i}createSegmentGroup(e,t,i,r){const o=this.createSegments(e,t.segments,i,r);let s={};return Object.entries(t.children).forEach(([a,l])=>{s[a]=this.createSegmentGroup(e,l,i,r)}),new Je(o,s)}createSegments(e,t,i,r){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,r):this.findOrReturn(o,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new T(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const RT={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kde(n,e,t,i,r){const o=MT(n,e,t);return o.matched?(i=function nde(n,e){return n.providers&&!n._injector&&(n._injector=f0(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function Ade(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?Z(r.map(s=>{const a=Jc(s,n);return As(function yde(n){return n&&mf(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(eu(),UH()):Z(!0)}(i,e,t).pipe(he(s=>!0===s?o:{...RT}))):Z(o)}function MT(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...RT}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||due)(t,n,e);if(!r)return{...RT};const o={};Object.entries(r.posParams??{}).forEach(([a,l])=>{o[a]=l.path});const s=r.consumed.length>0?{...o,...r.consumed[r.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:s,positionalParamSegments:r.posParams??{}}}function zH(n,e,t,i){return t.length>0&&function Fde(n,e,t){return t.some(i=>Ty(n,e,i)&&Er(i)!==_e)}(n,t,i)?{segmentGroup:new Je(e,Ode(i,new Je(t,n.children))),slicedSegments:[]}:0===t.length&&function Lde(n,e,t){return t.some(i=>Ty(n,e,i))}(n,t,i)?{segmentGroup:new Je(n.segments,Nde(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Je(n.segments,n.children),slicedSegments:t}}function Nde(n,e,t,i,r){const o={};for(const s of i)if(Ty(n,t,s)&&!r[Er(s)]){const a=new Je([],{});o[Er(s)]=a}return{...r,...o}}function Ode(n,e){const t={};t[_e]=e;for(const i of n)if(""===i.path&&Er(i)!==_e){const r=new Je([],{});t[Er(i)]=r}return t}function Ty(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class jde{constructor(e,t,i,r,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Pde(this.urlSerializer,this.urlTree)}noMatchError(e){return new T(4002,!1)}recognize(){const e=zH(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,_e).pipe(xs(t=>{if(t instanceof jH)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Cy?this.noMatchError(t):t}),he(t=>{const i=new by([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},_e,this.rootComponentType,null,{}),r=new Bo(i,t),o=new RH("",r),s=function Mue(n,e,t=null,i=null){return yH(_H(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,_e).pipe(xs(i=>{throw i instanceof Cy?this.noMatchError(i):i}))}inheritParamsAndData(e){const t=e.value,i=AH(t,this.paramsInheritanceStrategy);t.params=Object.freeze(i.params),t.data=Object.freeze(i.data),e.children.forEach(r=>this.inheritParamsAndData(r))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0)}processChildren(e,t,i){const r=[];for(const o of Object.keys(i.children))"primary"===o?r.unshift(o):r.push(o);return _t(r).pipe($c(o=>{const s=i.children[o],a=function sde(n,e){const t=n.filter(i=>Er(i)===e);return t.push(...n.filter(i=>Er(i)!==e)),t}(t,o);return this.processSegmentGroup(e,a,s,o)}),function lue(n,e){return Vt(function aue(n,e,t,i,r){return(o,s)=>{let a=t,l=e,c=0;o.subscribe(gt(s,u=>{const d=c++;l=a?n(l,u,d):(a=!0,u),i&&s.next(l)},r&&(()=>{a&&s.next(l),s.complete()})))}}(n,e,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),dy(null),function cue(n,e){const t=arguments.length>=2;return i=>i.pipe(n?hn((r,o)=>n(r,o,i)):as,mT(1),t?dy(e):iH(()=>new uy))}(),$t(o=>{if(null===o)return tu(i);const s=$H(o);return function Hde(n){n.sort((e,t)=>e.value.outlet===_e?-1:t.value.outlet===_e?1:e.value.outlet.localeCompare(t.value.outlet))}(s),Z(s)}))}processSegment(e,t,i,r,o,s){return _t(t).pipe($c(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,o,s).pipe(xs(l=>{if(l instanceof Cy)return Z(null);throw l}))),Ha(a=>!!a),xs(a=>{if(BH(a))return function Bde(n,e,t){return 0===e.length&&!n.children[t]}(i,r,o)?Z([]):tu(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,o,s,a){return function Vde(n,e,t,i){return!!(Er(n)===i||i!==_e&&Ty(e,t,n))&&("**"===n.path||MT(e,n,t).matched)}(i,r,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,o,s):tu(r):tu(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,i,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,i,r){const o=this.applyRedirects.applyRedirectCommands([],i.redirectTo,{});return i.redirectTo.startsWith("/")?HH(o):this.applyRedirects.lineralizeSegments(i,o).pipe($t(s=>{const a=new Je(s,{});return this.processSegment(e,t,a,s,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,i,r,o,s){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=MT(t,r,o);if(!a)return tu(t);const d=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return r.redirectTo.startsWith("/")?HH(d):this.applyRedirects.lineralizeSegments(r,d).pipe($t(h=>this.processSegment(e,i,t,h.concat(c),s,!1)))}matchSegmentAgainstRoute(e,t,i,r,o,s){let a;if("**"===i.path){const l=r.length>0?sH(r).parameters:{};a=Z({snapshot:new by(r,l,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qH(i),Er(i),i.component??i._loadedComponent??null,i,WH(i)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=kde(t,i,r,e).pipe(he(({matched:l,consumedSegments:c,remainingSegments:u,parameters:d})=>l?{snapshot:new by(c,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,qH(i),Er(i),i.component??i._loadedComponent??null,i,WH(i)),consumedSegments:c,remainingSegments:u}:null));return a.pipe(ei(l=>null===l?tu(t):this.getChildConfig(e=i._injector??e,i,r).pipe(ei(({routes:c})=>{const u=i._loadedInjector??e,{snapshot:d,consumedSegments:h,remainingSegments:f}=l,{segmentGroup:p,slicedSegments:m}=zH(t,h,f,c);if(0===m.length&&p.hasChildren())return this.processChildren(u,c,p).pipe(he(b=>null===b?null:[new Bo(d,b)]));if(0===c.length&&0===m.length)return Z([new Bo(d,[])]);const g=Er(i)===o;return this.processSegment(u,c,p,m,g?_e:o,!0).pipe(he(b=>[new Bo(d,b)]))}))))}getChildConfig(e,t,i){return t.children?Z({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Z({routes:t._loadedRoutes,injector:t._loadedInjector}):function Sde(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?Z(!0):Z(r.map(s=>{const a=Jc(s,n);return As(function pde(n){return n&&mf(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(eu(),UH())}(e,t,i).pipe($t(r=>r?this.configLoader.loadChildren(e,t).pipe(Pt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function Mde(n){return zc(OH(!1,3))}())):Z({routes:[],injector:e})}}function zde(n){const e=n.value.routeConfig;return e&&""===e.path}function $H(n){const e=[],t=new Set;for(const i of n){if(!zde(i)){e.push(i);continue}const r=e.find(o=>i.value.routeConfig===o.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=$H(i.children);e.push(new Bo(i.value,r))}return e.filter(i=>!t.has(i))}function qH(n){return n.data||{}}function WH(n){return n.resolve||{}}function GH(n){return"string"==typeof n.title||null===n.title}function PT(n){return ei(e=>{const t=n(e);return t?_t(t).pipe(he(()=>e)):Z(e)})}const nu=new S("ROUTES");let kT=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=F(e2)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=As(t.loadComponent()).pipe(he(KH),Pt(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),J_(()=>{this.componentLoaders.delete(t)})),r=new nH(i,()=>new te).pipe(pT());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Z({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function Qde(n,e,t,i){return As(n.loadChildren()).pipe(he(KH),$t(r=>r instanceof lV||Array.isArray(r)?Z(r):_t(e.compileModuleAsync(r))),he(r=>{i&&i(n);let o,s,a=!1;return Array.isArray(r)?(s=r,!0):(o=r.create(t).injector,s=o.get(nu,[],{optional:!0,self:!0}).flat()),{routes:s.map(AT),injector:o}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(J_(()=>{this.childrenLoaders.delete(i)})),s=new nH(o,()=>new te).pipe(pT());return this.childrenLoaders.set(i,s),s}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function KH(n){return function Xde(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let xy=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new te,this.transitionAbortSubject=new te,this.configLoader=F(kT),this.environmentInjector=F(Fi),this.urlSerializer=F(nf),this.rootContexts=F(uf),this.inputBindingEnabled=null!==F(wy,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Z(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new zue(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Hue(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new Ri({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:t.urlHandlingStrategy.extract(i),urlAfterRedirects:t.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:lf,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(hn(o=>0!==o.id),he(o=>({...o,extractedUrl:t.urlHandlingStrategy.extract(o.rawUrl)})),ei(o=>{this.currentTransition=o;let s=!1,a=!1;return Z(o).pipe(Pt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ei(l=>{const c=l.currentBrowserUrl.toString(),u=!t.navigated||l.extractedUrl.toString()!==c||c!==l.currentUrlTree.toString();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const h="";return this.events.next(new Qc(l.id,this.urlSerializer.serialize(l.rawUrl),h,0)),l.resolve(null),Xi}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Z(l).pipe(ei(h=>{const f=this.transitions?.getValue();return this.events.next(new yy(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),f!==this.transitions?.getValue()?Xi:Promise.resolve(h)}),function $de(n,e,t,i,r,o){return $t(s=>function Ude(n,e,t,i,r,o,s="emptyOnly"){return new jde(n,e,t,i,r,s,o).recognize()}(n,e,t,i,s.extractedUrl,r,o).pipe(he(({state:a,tree:l})=>({...s,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Pt(h=>{o.targetSnapshot=h.targetSnapshot,o.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:h.urlAfterRedirects};const f=new CH(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(f)}));if(u&&t.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:h,extractedUrl:f,source:p,restoredState:m,extras:g}=l,b=new yy(h,this.urlSerializer.serialize(f),p,m);this.events.next(b);const _=SH(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:_,urlAfterRedirects:f,extras:{...g,skipLocationChange:!1,replaceUrl:!1}},Z(o)}{const h="";return this.events.next(new Qc(l.id,this.urlSerializer.serialize(l.extractedUrl),h,1)),l.resolve(null),Xi}}),Pt(l=>{const c=new Vue(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),he(l=>(this.currentTransition=o={...l,guards:cde(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function bde(n,e){return $t(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?Z({...t,guardsResult:!0}):function wde(n,e,t,i){return _t(n).pipe($t(r=>function Dde(n,e,t,i,r){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Z(o.map(a=>{const l=hf(e)??r,c=Jc(a,l);return As(function _de(n){return n&&mf(n.canDeactivate)}(c)?c.canDeactivate(n,e,t,i):l.runInContext(()=>c(n,e,t,i))).pipe(Ha())})).pipe(eu()):Z(!0)}(r.component,r.route,t,e,i)),Ha(r=>!0!==r,!0))}(s,i,r,n).pipe($t(a=>a&&function fde(n){return"boolean"==typeof n}(a)?function Ede(n,e,t,i){return _t(e).pipe($c(r=>$h(function Cde(n,e){return null!==n&&e&&e(new $ue(n)),Z(!0)}(r.route.parent,i),function Ide(n,e){return null!==n&&e&&e(new Wue(n)),Z(!0)}(r.route,i),function xde(n,e,t){const i=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>function ude(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(s)).filter(s=>null!==s).map(s=>fT(()=>Z(s.guards.map(l=>{const c=hf(s.node)??t,u=Jc(l,c);return As(function gde(n){return n&&mf(n.canActivateChild)}(u)?u.canActivateChild(i,n):c.runInContext(()=>u(i,n))).pipe(Ha())})).pipe(eu())));return Z(o).pipe(eu())}(n,r.path,t),function Tde(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return Z(!0);const r=i.map(o=>fT(()=>{const s=hf(e)??t,a=Jc(o,s);return As(function mde(n){return n&&mf(n.canActivate)}(a)?a.canActivate(e,n):s.runInContext(()=>a(e,n))).pipe(Ha())}));return Z(r).pipe(eu())}(n,r.route,t))),Ha(r=>!0!==r,!0))}(i,o,n,e):Z(a)),he(a=>({...t,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Pt(l=>{if(o.guardsResult=l.guardsResult,$a(l.guardsResult))throw NH(0,l.guardsResult);const c=new Bue(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(c)}),hn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),PT(l=>{if(l.guards.canActivateChecks.length)return Z(l).pipe(Pt(c=>{const u=new Uue(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),ei(c=>{let u=!1;return Z(c).pipe(function qde(n,e){return $t(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return Z(t);let o=0;return _t(r).pipe($c(s=>function Wde(n,e,t,i){const r=n.routeConfig,o=n._resolve;return void 0!==r?.title&&!GH(r)&&(o[ef]=r.title),function Gde(n,e,t,i){const r=function Kde(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===r.length)return Z({});const o={};return _t(r).pipe($t(s=>function Yde(n,e,t,i){const r=hf(e)??i,o=Jc(n,r);return As(o.resolve?o.resolve(e,t):r.runInContext(()=>o(e,t)))}(n[s],e,t,i).pipe(Ha(),Pt(a=>{o[s]=a}))),mT(1),rH(o),xs(s=>BH(s)?Xi:zc(s)))}(o,n,e,i).pipe(he(s=>(n._resolvedData=s,n.data=AH(n,t).resolve,r&&GH(r)&&(n.data[ef]=r.title),null)))}(s.route,i,n,e)),Pt(()=>o++),mT(1),$t(s=>o===r.length?Z(t):Xi))})}(t.paramsInheritanceStrategy,this.environmentInjector),Pt({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",2)}}))}),Pt(c=>{const u=new jue(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),PT(l=>{const c=u=>{const d=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&d.push(this.configLoader.loadComponent(u.routeConfig).pipe(Pt(h=>{u.component=h}),he(()=>{})));for(const h of u.children)d.push(...c(h));return d};return q_(c(l.targetSnapshot.root)).pipe(dy(),qn(1))}),PT(()=>this.afterPreactivation()),he(l=>{const c=function Zue(n,e,t){const i=df(n,e._root,t?t._root:void 0);return new DH(i,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:c},o}),Pt(()=>{this.events.next(new wT)}),((n,e,t,i)=>he(r=>(new lde(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),qn(1),Pt({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Rs(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),tn(this.transitionAbortSubject.pipe(Pt(l=>{throw l}))),J_(()=>{s||a||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),xs(l=>{if(a=!0,FH(l))this.events.next(new cf(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function tde(n){return FH(n)&&$a(n.url)}(l)?this.events.next(new ET(l.url)):o.resolve(!1);else{this.events.next(new vy(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(t.errorHandler(l))}catch(c){o.reject(c)}}return Xi}))}))}cancelNavigationTransition(t,i,r){const o=new cf(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function YH(n){return n!==lf}let QH=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===_e);return i}getResolvedTitleForRoute(t){return t.data[ef]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(){return F(Zde)},providedIn:"root"})}return n})(),Zde=(()=>{class n extends QH{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(C(vB))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Jde=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(){return F(the)},providedIn:"root"})}return n})();class ehe{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let the=(()=>{class n extends ehe{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=_n(n)))(r||n)}}();static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Dy=new S("",{providedIn:"root",factory:()=>({})});let nhe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:function(){return F(ihe)},providedIn:"root"})}return n})(),ihe=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var gf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(gf||{});function XH(n,e){n.events.pipe(hn(t=>t instanceof Rs||t instanceof cf||t instanceof vy||t instanceof Qc),he(t=>t instanceof Rs||t instanceof Qc?gf.COMPLETE:t instanceof cf&&(0===t.code||1===t.code)?gf.REDIRECTING:gf.FAILED),hn(t=>t!==gf.REDIRECTING),qn(1)).subscribe(()=>{e()})}function rhe(n){throw n}function ohe(n,e,t){return e.parse("/")}const she={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ahe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let On=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=F(ZV),this.isNgZoneEnabled=!1,this._events=new te,this.options=F(Dy,{optional:!0})||{},this.pendingTasks=F(JV),this.errorHandler=this.options.errorHandler||rhe,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||ohe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=F(nhe),this.routeReuseStrategy=F(Jde),this.titleStrategy=F(QH),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=F(nu,{optional:!0})?.flat()??[],this.navigationTransitions=F(xy),this.urlSerializer=F(nf),this.location=F(f_),this.componentInputBindingEnabled=!!F(wy,{optional:!0}),this.eventsSubscription=new It,this.isNgZoneEnabled=F(Q)instanceof Q&&Q.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Yc,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=SH(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:r}=this.navigationTransitions;if(null===r)return void(ZH(i)&&this._events.next(i));if(i instanceof yy)YH(r.source)&&(this.browserUrlTree=r.extractedUrl);else if(i instanceof Qc)this.rawUrlTree=r.rawUrl;else if(i instanceof CH){if("eager"===this.urlUpdateStrategy){if(!r.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl);this.setBrowserUrl(o,r)}this.browserUrlTree=r.urlAfterRedirects}}else if(i instanceof wT)this.currentUrlTree=r.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(r.urlAfterRedirects,r.rawUrl),this.routerState=r.targetRouterState,"deferred"===this.urlUpdateStrategy&&(r.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,r),this.browserUrlTree=r.urlAfterRedirects);else if(i instanceof cf)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(r);else if(i instanceof ET){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),s={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||YH(r.source)};this.scheduleNavigation(o,lf,null,s,{resolve:r.resolve,reject:r.reject,promise:r.promise})}i instanceof vy&&this.restoreHistory(r,!0),i instanceof Rs&&(this.navigated=!0),ZH(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),lf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const i="popstate"===t.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,i,t.state)},0)}))}navigateToSyncWithBrowser(t,i,r){const o={replaceUrl:!0},s=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(AT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:l}=i,c=l?this.currentUrlTree.fragment:s;let d,u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...o};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=o||null}null!==u&&(u=this.removeEmptyProps(u));try{d=_H(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),d=this.currentUrlTree.root}return yH(d,t,u,c??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=$a(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,lf,null,i)}navigate(t,i={skipLocationChange:!1}){return function lhe(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new T(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let i;try{i=this.urlSerializer.parse(t)}catch(r){i=this.malformedUriErrorHandler(r,this.urlSerializer,t)}return i}isActive(t,i){let r;if(r=!0===i?{...she}:!1===i?{...ahe}:i,$a(t))return lH(this.currentUrlTree,t,r);const o=this.parseUrl(t);return lH(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const o=t[r];return null!=o&&(i[r]=o),i},{})}scheduleNavigation(t,i,r,o,s){if(this.disposed)return Promise.resolve(!1);let a,l,c;s?(a=s.resolve,l=s.reject,c=s.promise):c=new Promise((d,h)=>{a=d,l=h});const u=this.pendingTasks.add();return XH(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:o,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(d=>Promise.reject(d))}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",s)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",o)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ZH(n){return!(n instanceof wT||n instanceof ET)}let Sy=(()=>{class n{constructor(t,i,r,o,s,a){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new te,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=t.events.subscribe(c=>{c instanceof Rs&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,i,r,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||i||r||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function fO(n,e,t){return function QQ(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?hO:Ia}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,i){const r=this.renderer,o=this.el.nativeElement;null!==i?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(i){return new(i||n)(y(On),y(Zc),Jl("tabindex"),y(Ur),y(Oe),y(Ra))};static#t=this.\u0275dir=z({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,r){1&i&&ue("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&i&&Gt("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Vc],skipLocationChange:["skipLocationChange","skipLocationChange",Vc],replaceUrl:["replaceUrl","replaceUrl",Vc],routerLink:"routerLink"},standalone:!0,features:[TF,ii]})}return n})();class JH{}let dhe=(()=>{class n{constructor(t,i,r,o,s){this.router=t,this.injector=r,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(hn(t=>t instanceof Rs),$c(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const o of i){o.providers&&!o._injector&&(o._injector=f0(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(a,o.children??o._loadedRoutes))}return _t(r).pipe(Bl())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):Z(null);const o=r.pipe($t(s=>null===s?Z(void 0):(i._loadedRoutes=s.routes,i._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return i.loadComponent&&!i._loadedComponent?_t([o,this.loader.loadComponent(i)]).pipe(Bl()):o})}static#e=this.\u0275fac=function(i){return new(i||n)(C(On),C(e2),C(Fi),C(JH),C(kT))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const NT=new S("");let ez=(()=>{class n{constructor(t,i,r,o,s={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof yy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Rs?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Qc&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof TH&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new TH(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){Bg()};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();function Uo(n,e){return{\u0275kind:n,\u0275providers:e}}function nz(){const n=F(yt);return e=>{const t=n.get(Ro);if(e!==t.components[0])return;const i=n.get(On),r=n.get(iz);1===n.get(OT)&&i.initialNavigation(),n.get(rz,null,xe.Optional)?.setUpPreloading(),n.get(NT,null,xe.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const iz=new S("",{factory:()=>new te}),OT=new S("",{providedIn:"root",factory:()=>1}),rz=new S("");function mhe(n){return Uo(0,[{provide:rz,useExisting:dhe},{provide:JH,useExisting:n}])}const oz=new S("ROUTER_FORROOT_GUARD"),_he=[f_,{provide:nf,useClass:gT},On,uf,{provide:Zc,useFactory:function tz(n){return n.routerState.root},deps:[On]},kT,[]];function yhe(){return new l2("Router",On)}let sz=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[_he,[],{provide:nu,multi:!0,useValue:t},{provide:oz,useFactory:Ehe,deps:[[On,new Tt,new zd]]},{provide:Dy,useValue:i||{}},i?.useHash?{provide:Ra,useClass:Vie}:{provide:Ra,useClass:V2},{provide:NT,useFactory:()=>{const n=F(ioe),e=F(Q),t=F(Dy),i=F(xy),r=F(nf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new ez(r,i,n,e,t)}},i?.preloadingStrategy?mhe(i.preloadingStrategy).\u0275providers:[],{provide:l2,multi:!0,useFactory:yhe},i?.initialNavigation?Ihe(i):[],i?.bindToComponentInputs?Uo(8,[kH,{provide:wy,useExisting:kH}]).\u0275providers:[],[{provide:az,useFactory:nz},{provide:N0,multi:!0,useExisting:az}]]}}static forChild(t){return{ngModule:n,providers:[{provide:nu,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(C(oz,8))};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();function Ehe(n){return"guarded"}function Ihe(n){return["disabled"===n.initialNavigation?Uo(3,[{provide:x0,multi:!0,useFactory:()=>{const e=F(On);return()=>{e.setUpLocationChangeListener()}}},{provide:OT,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Uo(2,[{provide:OT,useValue:0},{provide:x0,multi:!0,deps:[yt],useFactory:e=>{const t=e.get(Fie,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(On),o=e.get(iz);XH(r,()=>{i(!0)}),e.get(xy).afterPreactivation=()=>(i(!0),o.closed?Z(void 0):o),r.initialNavigation()}))}}]).\u0275providers:[]]}const az=new S("");function lz(n,e,t,i,r,o,s){try{var a=n[o](s),l=a.value}catch(c){return void t(c)}a.done?e(l):Promise.resolve(l).then(i,r)}function v(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var o=n.apply(e,t);function s(l){lz(o,i,r,s,a,"next",l)}function a(l){lz(o,i,r,s,a,"throw",l)}s(void 0)})}}const O=function(n,e){if(!n)throw iu(e)},iu=function(n){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+n)},cz=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):55296==(64512&r)&&i+1<n.length&&56320==(64512&n.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&n.charCodeAt(++i)),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],s=r+1<n.length,a=s?n[r+1]:0,l=r+2<n.length,c=l?n[r+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,s||(h=64)),i.push(t[o>>2],t[(3&o)<<4|a>>4],t[h],t[f])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cz(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,i=0;for(;t<n.length;){const r=n[t++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[t++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){const l=((7&r)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(1023&l))}else{const o=n[t++],s=n[t++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=t[n.charAt(r++)],a=r<n.length?t[n.charAt(r)]:0;++r;const c=r<n.length?t[n.charAt(r)]:64;++r;const d=r<n.length?t[n.charAt(r)]:64;if(++r,null==o||null==a||null==c||null==d)throw new xhe;i.push(o<<2|a>>4),64!==c&&(i.push(a<<4&240|c>>2),64!==d&&i.push(c<<6&192|d))}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class xhe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uz=function(n){const e=cz(n);return LT.encodeByteArray(e,!0)},Ay=function(n){return uz(n).replace(/\./g,"")},Ry=function(n){try{return LT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Dhe(n){return dz(void 0,n)}function dz(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===n&&(n={});break;case Array:n=[];break;default:return e}for(const t in e)!e.hasOwnProperty(t)||!She(t)||(n[t]=dz(n[t],e[t]));return n}function She(n){return"__proto__"!==n}const My=()=>{try{return function Ahe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Ry(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},hz=n=>{var e,t;return null===(t=null===(e=My())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},VT=n=>{const e=hz(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),i]:[e.substring(0,t),i]},fz=()=>{var n;return null===(n=My())||void 0===n?void 0:n.config},pz=n=>{var e;return null===(e=My())||void 0===e?void 0:e[`_${n}`]};class ru{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,i))}}}function BT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i=e||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Ay(JSON.stringify({alg:"none",type:"JWT"})),Ay(JSON.stringify(s)),""].join(".")}function vn(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function UT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vn())}function gz(){return"object"==typeof navigator&&"ReactNative"===navigator.product}class Qr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name="FirebaseError",Object.setPrototypeOf(this,Qr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_f.prototype.create)}}class _f{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},r=`${this.service}/${e}`,o=this.errors[e],s=o?function Vhe(n,e){return n.replace(Bhe,(t,i)=>{const r=e[i];return null!=r?String(r):`<${i}?>`})}(o,i):"Error";return new Qr(r,`${this.serviceName}: ${s} (${r}).`,i)}}const Bhe=/\{\$([^}]+)}/g;function yf(n){return JSON.parse(n)}function bn(n){return JSON.stringify(n)}const Py=function(n){let e={},t={},i={},r="";try{const o=n.split(".");e=yf(Ry(o[0])||""),t=yf(Ry(o[1])||""),r=o[2],i=t.d||{},delete t.d}catch{}return{header:e,claims:t,data:i,signature:r}};function Xr(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ou(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function jT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ky(n,e,t){const i={};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=e.call(t,n[r],r,n));return i}function Ny(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const r of t){if(!i.includes(r))return!1;const o=n[r],s=e[r];if(_z(o)&&_z(s)){if(!Ny(o,s))return!1}else if(o!==s)return!1}for(const r of i)if(!t.includes(r))return!1;return!0}function _z(n){return null!==n&&"object"==typeof n}function vf(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function bf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(o)}}),e}function wf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class Hhe{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const i=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)i[d]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let d=0;d<16;d++)i[d]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let d=16;d<80;d++){const h=i[d-3]^i[d-8]^i[d-14]^i[d-16];i[d]=4294967295&(h<<1|h>>>31)}let c,u,r=this.chain_[0],o=this.chain_[1],s=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^o&(s^a),u=1518500249):(c=o^s^a,u=1859775393):d<60?(c=o&s|a&(o|s),u=2400959708):(c=o^s^a,u=3395469782);const h=(r<<5|r>>>27)+c+l+u+i[d]&4294967295;l=a,a=s,s=4294967295&(o<<30|o>>>2),o=r,r=h}this.chain_[0]=this.chain_[0]+r&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+s&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const i=t-this.blockSize;let r=0;const o=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=i;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(o[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}else for(;r<t;)if(o[s]=e[r],++s,++r,s===this.blockSize){this.compress_(o),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let i=0;for(let r=0;r<5;r++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[r]>>o&255,++i;return e}}class $he{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let r;if(void 0===e&&void 0===t&&void 0===i)throw new Error("Missing Observer.");r=function qhe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:i},void 0===r.next&&(r.next=HT),void 0===r.error&&(r.error=HT),void 0===r.complete&&(r.complete=HT);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HT(){}function qa(n,e){return`${n} failed: ${e} argument `}const Oy=function(n){let e=0;for(let t=0;t<n.length;t++){const i=n.charCodeAt(t);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,t++):e+=3}return e};function st(n){return n&&n._delegate?n._delegate:n}class Ho{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Wa="[DEFAULT]";class Zhe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new ru;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e?.identifier),r=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(i)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(r)return null;throw o}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function efe(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wa})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(e=Wa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Wa){return this.instances.has(e)}getOptions(e=Wa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[o,s]of this.instancesDeferred.entries())i===this.normalizeInstanceIdentifier(o)&&s.resolve(r);return r}onInit(e,t){var i;const r=this.normalizeInstanceIdentifier(t),o=null!==(i=this.onInitCallbacks.get(r))&&void 0!==i?i:new Set;o.add(e),this.onInitCallbacks.set(r,o);const s=this.instances.get(r);return s&&e(s,r),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const r of i)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===Wa?void 0:n),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}var n;return i||null}normalizeInstanceIdentifier(e=Wa){return this.component?this.component.multipleInstances?e:Wa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class tfe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zhe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const zT=[];var Re=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Re||{});const yz={debug:Re.DEBUG,verbose:Re.VERBOSE,info:Re.INFO,warn:Re.WARN,error:Re.ERROR,silent:Re.SILENT},nfe=Re.INFO,ife={[Re.DEBUG]:"log",[Re.VERBOSE]:"log",[Re.INFO]:"info",[Re.WARN]:"warn",[Re.ERROR]:"error"},rfe=(n,e,...t)=>{if(e<n.logLevel)return;const i=(new Date).toISOString(),r=ife[e];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[r](`[${i}]  ${n.name}:`,...t)};class Fy{constructor(e){this.name=e,this._logLevel=nfe,this._logHandler=rfe,this._userLogHandler=null,zT.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Re))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?yz[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Re.DEBUG,...e),this._logHandler(this,Re.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Re.VERBOSE,...e),this._logHandler(this,Re.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Re.INFO,...e),this._logHandler(this,Re.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Re.WARN,...e),this._logHandler(this,Re.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Re.ERROR,...e),this._logHandler(this,Re.ERROR,...e)}}const ofe=(n,e)=>e.some(t=>n instanceof t);let vz,bz;const wz=new WeakMap,$T=new WeakMap,Ez=new WeakMap,qT=new WeakMap,WT=new WeakMap;let GT={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return $T.get(n);if("objectStoreNames"===e)return n.objectStoreNames||Ez.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ms(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function hfe(n){return"function"==typeof n?function dfe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function afe(){return bz||(bz=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(KT(this),e),Ms(wz.get(this))}:function(...e){return Ms(n.apply(KT(this),e))}:function(e,...t){const i=n.call(KT(this),e,...t);return Ez.set(i,e.sort?e.sort():[e]),Ms(i)}}(n):(n instanceof IDBTransaction&&function cfe(n){if($T.has(n))return;const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),r()},s=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});$T.set(n,e)}(n),ofe(n,function sfe(){return vz||(vz=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,GT):n)}function Ms(n){if(n instanceof IDBRequest)return function lfe(n){const e=new Promise((t,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(Ms(n.result)),r()},s=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&wz.set(t,n)}).catch(()=>{}),WT.set(e,n),e}(n);if(qT.has(n))return qT.get(n);const e=hfe(n);return e!==n&&(qT.set(n,e),WT.set(e,n)),e}const KT=n=>WT.get(n),pfe=["get","getKey","getAll","getAllKeys","count"],mfe=["put","add","delete","clear"],YT=new Map;function Iz(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(YT.get(e))return YT.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,r=mfe.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!r&&!pfe.includes(t))return;const o=function(){var s=v(function*(a,...l){const c=this.transaction(a,r?"readwrite":"readonly");let u=c.store;return i&&(u=u.index(l.shift())),(yield Promise.all([u[t](...l),r&&c.done]))[0]});return function(l){return s.apply(this,arguments)}}();return YT.set(e,o),o}!function ufe(n){GT=n(GT)}(n=>({...n,get:(e,t,i)=>Iz(e,t)||n.get(e,t,i),has:(e,t)=>!!Iz(e,t)||n.has(e,t)}));class gfe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function _fe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}return null}).filter(t=>t).join(" ")}}const QT="@firebase/app",Ga=new Fy("@firebase/app"),Ly="[DEFAULT]",zfe={[QT]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Ka=new Map,Vy=new Map;function $fe(n,e){try{n.container.addComponent(e)}catch(t){Ga.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ps(n){const e=n.name;if(Vy.has(e))return Ga.debug(`There were multiple attempts to register component ${e}.`),!1;Vy.set(e,n);for(const t of Ka.values())$fe(t,n);return!0}function su(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const zo=new _f("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Wfe{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}const ks="10.6.0";function Tz(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const i=Object.assign({name:Ly,automaticDataCollectionEnabled:!1},e),r=i.name;if("string"!=typeof r||!r)throw zo.create("bad-app-name",{appName:String(r)});if(t||(t=fz()),!t)throw zo.create("no-options");const o=Ka.get(r);if(o){if(Ny(t,o.options)&&Ny(i,o.config))return o;throw zo.create("duplicate-app",{appName:r})}const s=new tfe(r);for(const l of Vy.values())s.addComponent(l);const a=new Wfe(t,i,s);return Ka.set(r,a),a}function Ef(n=Ly){const e=Ka.get(n);if(!e&&n===Ly&&fz())return Tz();if(!e)throw zo.create("no-app",{appName:n});return e}function xz(){return Array.from(Ka.values())}function fn(n,e,t){var i;let r=null!==(i=zfe[n])&&void 0!==i?i:n;t&&(r+=`-${t}`);const o=r.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${r}" with version "${e}":`];return o&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ga.warn(a.join(" "))}Ps(new Ho(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const Gfe="firebase-heartbeat-database",Kfe=1,If="firebase-heartbeat-store";let ZT=null;function Dz(){return ZT||(ZT=function ffe(n,e,{blocked:t,upgrade:i,blocking:r,terminated:o}={}){const s=indexedDB.open(n,e),a=Ms(s);return i&&s.addEventListener("upgradeneeded",l=>{i(Ms(s.result),l.oldVersion,l.newVersion,Ms(s.transaction),l)}),t&&s.addEventListener("blocked",l=>t(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),r&&l.addEventListener("versionchange",c=>r(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}(Gfe,Kfe,{upgrade:(n,e)=>{0===e&&n.createObjectStore(If)}}).catch(n=>{throw zo.create("idb-open",{originalErrorMessage:n.message})})),ZT}function JT(){return(JT=v(function*(n){try{return yield(yield Dz()).transaction(If).objectStore(If).get(Az(n))}catch(e){if(e instanceof Qr)Ga.warn(e.message);else{const t=zo.create("idb-get",{originalErrorMessage:e?.message});Ga.warn(t.message)}}})).apply(this,arguments)}function Sz(n,e){return ex.apply(this,arguments)}function ex(){return(ex=v(function*(n,e){try{const i=(yield Dz()).transaction(If,"readwrite");yield i.objectStore(If).put(e,Az(n)),yield i.done}catch(t){if(t instanceof Qr)Ga.warn(t.message);else{const i=zo.create("idb-set",{originalErrorMessage:t?.message});Ga.warn(i.message)}}})).apply(this,arguments)}function Az(n){return`${n.name}!${n.options.appId}`}class Zfe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new epe(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}triggerHeartbeat(){var e=this;return v(function*(){var t;const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Rz();if(null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(s=>s.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){var t;if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const i=Rz(),{heartbeatsToSend:r,unsentEntries:o}=function Jfe(n,e=1024){const t=[];let i=n.slice();for(const r of n){const o=t.find(s=>s.agent===r.agent);if(o){if(o.dates.push(r.date),Mz(t)>e){o.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),Mz(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}(e._heartbeatsCache.heartbeats),s=Ay(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=i,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function Rz(){return(new Date).toISOString().substring(0,10)}class epe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!function Ohe(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function Fhe(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var o;e((null===(o=r.error)||void 0===o?void 0:o.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Yfe(n){return JT.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return v(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return Sz(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return v(function*(){var i;if(yield t._canUseIndexedDBPromise){const o=yield t.read();return Sz(t.app,{lastSentHeartbeatDate:null!==(i=e.lastSentHeartbeatDate)&&void 0!==i?i:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}})()}}function Mz(n){return Ay(JSON.stringify({version:2,heartbeats:n})).length}!function tpe(n){Ps(new Ho("platform-logger",e=>new gfe(e),"PRIVATE")),Ps(new Ho("heartbeat",e=>new Zfe(e),"PRIVATE")),fn(QT,"0.9.23",n),fn(QT,"0.9.23","esm2017"),fn("fire-js","")}(""),fn("firebase","10.6.0","app");const spe=new class ope extends z_{}(class rpe extends H_{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,i=0){return null!=i&&i>0||null==i&&this.delay>0?super.requestAsyncId(e,t,i):(e.flush(this),0)}}),au=new gs("ANGULARFIRE2_VERSION");function By(n,e,t){if(e){if(1===e.length)return e[0];const o=e.filter(s=>s.app===t);if(1===o.length)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Cf=(n,e)=>{const t=e?[e]:xz(),i=[];return t.forEach(r=>{r.container.getProvider(n).instances.forEach(s=>{i.includes(s)||i.push(s)})}),i};class Uy{constructor(){return Cf(ape)}}const ape="app-check";function lu(){}class Pz{zone;delegate;constructor(e,t=spe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,i){const r=this.zone;return this.delegate.schedule(function(s){r.runGuarded(()=>{e.apply(this,[s])})},t,i)}}class lpe{zone;task=null;constructor(e){this.zone=e}call(e,t){const i=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lu,{},lu,lu)),t.pipe(Pt({next:i,complete:i,error:i})).subscribe(e).add(i)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tf=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Pz(Zone.current)),this.insideAngular=t.run(()=>new Pz(Zone.current,zh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(i){return new(i||n)(C(Q))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cu(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function Ya(n){return cu().ngZone.run(()=>n())}function upe(n){return function dpe(n){return function(t){return(t=t.lift(new lpe(n.ngZone))).pipe(Bm(n.outsideAngular),Vm(n.insideAngular))}}(cu())(n)}const hpe=(n,e)=>function(){const i=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Ya(()=>n.apply(void 0,i))},jt=(n,e)=>function(){let t;const i=arguments;for(let o=0;o<arguments.length;o++)"function"==typeof i[o]&&(e&&(t||=Ya(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",lu,{},lu,lu))),i[o]=hpe(i[o],t));const r=function cpe(n){return cu().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,i));if(!e){if(r instanceof ze){const o=cu();return r.pipe(Bm(o.outsideAngular),Vm(o.insideAngular))}return Ya(()=>r)}return r instanceof ze?r.pipe(upe):r instanceof Promise?Ya(()=>new Promise((o,s)=>r.then(a=>Ya(()=>o(a)),a=>Ya(()=>s(a))))):"function"==typeof r&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),r.apply(this,arguments)}:Ya(()=>r)};class Qa{constructor(e){return e}}class xf{constructor(){return xz()}}const tx=new S("angularfire2._apps"),ppe={provide:Qa,useFactory:function fpe(n){return n&&1===n.length?n[0]:new Qa(Ef())},deps:[[new Tt,tx]]},mpe={provide:xf,deps:[[new Tt,tx]]};function gpe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Qa(i)}}let _pe=(()=>{class n{constructor(t){fn("angularfire",au.full,"core"),fn("angularfire",au.full,"app"),fn("angular",SO.full,t.toString())}static \u0275fac=function(i){return new(i||n)(C(To))};static \u0275mod=De({type:n});static \u0275inj=Ce({providers:[ppe,mpe]})}return n})();function ype(n,...e){return{ngModule:_pe,providers:[{provide:tx,useFactory:gpe(n),multi:!0,deps:[Q,yt,Tf,...e]}]}}const vpe=jt(Tz,!0);const bpe=function kz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Nz=new _f("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),jy=new Fy("@firebase/auth");function Hy(n,...e){jy.logLevel<=Re.ERROR&&jy.error(`Auth (${ks}): ${n}`,...e)}function Ti(n,...e){throw nx(n,...e)}function Zr(n,...e){return nx(n,...e)}function nx(n,...e){if("string"!=typeof n){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return Nz.create(n,...e)}function B(n,e,...t){if(!n)throw nx(e,...t)}function Jr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Hy(e),new Error(e)}function Ns(n,e){n||Jr(e)}function Df(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function Fz(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function Epe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function ix(){return"http:"===Fz()||"https:"===Fz()}()||function khe(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class Sf{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ns(t>e,"Short delay should be less than long delay!"),this.isMobile=UT()||gz()}get(){return Epe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rx(n,e){Ns(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Lz{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Cpe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tpe=new Sf(3e4,6e4);function vt(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function bt(n,e,t,i){return ox.apply(this,arguments)}function ox(){return(ox=v(function*(n,e,t,i,r={}){return Vz(n,r,v(function*(){let o={},s={};i&&("GET"===e?s=i:o={body:JSON.stringify(i)});const a=vf(Object.assign({key:n.config.apiKey},s)).slice(1),l=yield n._getAdditionalHeaders();return l["Content-Type"]="application/json",n.languageCode&&(l["X-Firebase-Locale"]=n.languageCode),Lz.fetch()(Bz(n,n.config.apiHost,t,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},o))}))})).apply(this,arguments)}function Vz(n,e,t){return sx.apply(this,arguments)}function sx(){return(sx=v(function*(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},Cpe),e);try{const r=new Dpe(n),o=yield Promise.race([t(),r.promise]);r.clearNetworkTimeout();const s=yield o.json();if("needConfirmation"in s)throw Af(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Af(n,"credential-already-in-use",s);if("EMAIL_EXISTS"===l)throw Af(n,"email-already-in-use",s);if("USER_DISABLED"===l)throw Af(n,"user-disabled",s);const u=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function Oz(n,e,t){const i=Object.assign(Object.assign({},bpe()),{[e]:t});return new _f("auth","Firebase",i).create(e,{appName:n.name})}(n,u,c);Ti(n,u)}}catch(r){if(r instanceof Qr)throw r;Ti(n,"network-request-failed",{message:String(r)})}})).apply(this,arguments)}function $o(n,e,t,i){return ax.apply(this,arguments)}function ax(){return(ax=v(function*(n,e,t,i,r={}){const o=yield bt(n,e,t,i,r);return"mfaPendingCredential"in o&&Ti(n,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function Bz(n,e,t,i){const r=`${e}${t}?${i}`;return n.config.emulator?rx(n.config,r):`${n.config.apiScheme}://${r}`}function xpe(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dpe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Zr(this.auth,"network-request-failed")),Tpe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Af(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const r=Zr(n,e,i);return r.customData._tokenResponse=t,r}function jz(n){return void 0!==n&&void 0!==n.enterprise}class Hz{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return xpe(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function zz(n,e){return cx.apply(this,arguments)}function cx(){return(cx=v(function*(n,e){return bt(n,"GET","/v2/recaptchaConfig",vt(n,e))})).apply(this,arguments)}function ux(){return(ux=v(function*(n,e){return bt(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function hx(){return(hx=v(function*(n,e){return bt(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Rf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fx(){return(fx=v(function*(n,e=!1){const t=st(n),i=yield t.getIdToken(e),r=zy(i);B(r&&r.exp&&r.auth_time&&r.iat,t.auth,"internal-error");const o="object"==typeof r.firebase?r.firebase:void 0,s=o?.sign_in_provider;return{claims:r,token:i,authTime:Rf(px(r.auth_time)),issuedAtTime:Rf(px(r.iat)),expirationTime:Rf(px(r.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})).apply(this,arguments)}function px(n){return 1e3*Number(n)}function zy(n){const[e,t,i]=n.split(".");if(void 0===e||void 0===t||void 0===i)return Hy("JWT malformed, contained fewer than 3 sections"),null;try{const r=Ry(t);return r?JSON.parse(r):(Hy("Failed to decode base64 JWT payload"),null)}catch(r){return Hy("Caught error parsing JWT payload as JSON",r?.toString()),null}}function qo(n,e){return mx.apply(this,arguments)}function mx(){return(mx=v(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(i){throw i instanceof Qr&&function Npe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(i)&&n.auth.currentUser===n&&(yield n.auth.signOut()),i}})).apply(this,arguments)}class Ope{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),i}{this.errorBackoff=3e4;const r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const i=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield t.iteration()}),i)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class $z{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Rf(this.lastLoginAt),this.creationTime=Rf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Mf(n){return gx.apply(this,arguments)}function gx(){return gx=v(function*(n){var e;const t=n.auth,i=yield n.getIdToken(),r=yield qo(n,function Mpe(n,e){return hx.apply(this,arguments)}(t,{idToken:i}));B(r?.users.length,t,"internal-error");const o=r.users[0];n._notifyReloadListener(o);const s=null!==(e=o.providerUserInfo)&&void 0!==e&&e.length?function Vpe(n){return n.map(e=>{var{providerId:t}=e,i=Kw(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}(o.providerUserInfo):[],a=function Lpe(n,e){return[...n.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}(n.providerData,s),u=!!n.isAnonymous&&!(n.email&&o.passwordHash||a?.length),d={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new $z(o.createdAt,o.lastLoginAt),isAnonymous:u};Object.assign(n,d)}),gx.apply(this,arguments)}function _x(){return(_x=v(function*(n){const e=st(n);yield Mf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function yx(){return(yx=v(function*(n,e){const t=yield Vz(n,{},v(function*(){const i=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,s=Bz(n,r,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Lz.fetch()(s,{method:"POST",headers:a,body:i})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function vx(){return(vx=v(function*(n,e){return bt(n,"POST","/v2/accounts:revokeToken",vt(n,e))})).apply(this,arguments)}class Pf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function kpe(n){const e=zy(n);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var i=this;return v(function*(){return B(!i.accessToken||i.refreshToken,e,"user-token-expired"),t||!i.accessToken||i.isExpired?i.refreshToken?(yield i.refresh(e,i.refreshToken),i.accessToken):null:i.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var i=this;return v(function*(){const{accessToken:r,refreshToken:o,expiresIn:s}=yield function Bpe(n,e){return yx.apply(this,arguments)}(e,t);i.updateTokensAndExpiration(r,o,Number(s))})()}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*i}static fromJSON(e,t){const{refreshToken:i,accessToken:r,expirationTime:o}=t,s=new Pf;return i&&(B("string"==typeof i,"internal-error",{appName:e}),s.refreshToken=i),r&&(B("string"==typeof r,"internal-error",{appName:e}),s.accessToken=r),o&&(B("number"==typeof o,"internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pf,this.toJSON())}_performRefresh(){return Jr("not implemented")}}function Os(n,e){B("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class Xa{constructor(e){var{uid:t,auth:i,stsTokenManager:r}=e,o=Kw(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ope(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $z(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){var t=this;return v(function*(){const i=yield qo(t,t.stsTokenManager.getToken(t.auth,e));return B(i,t.auth,"internal-error"),t.accessToken!==i&&(t.accessToken=i,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),i})()}getIdTokenResult(e){return function Ppe(n){return fx.apply(this,arguments)}(this,e)}reload(){return function Fpe(n){return _x.apply(this,arguments)}(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Xa(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var i=this;return v(function*(){let r=!1;e.idToken&&e.idToken!==i.stsTokenManager.accessToken&&(i.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Mf(i)),yield i.auth._persistUserIfCurrent(i),r&&i.auth._notifyListenersIfCurrent(i)})()}delete(){var e=this;return v(function*(){const t=yield e.getIdToken();return yield qo(e,function Ape(n,e){return ux.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,r,o,s,a,l,c,u;const d=null!==(i=t.displayName)&&void 0!==i?i:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,f=null!==(o=t.phoneNumber)&&void 0!==o?o:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,m=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(l=t._redirectEventId)&&void 0!==l?l:void 0,b=null!==(c=t.createdAt)&&void 0!==c?c:void 0,_=null!==(u=t.lastLoginAt)&&void 0!==u?u:void 0,{uid:E,emailVerified:x,isAnonymous:L,providerData:W,stsTokenManager:ee}=t;B(E&&ee,e,"internal-error");const ke=Pf.fromJSON(this.name,ee);B("string"==typeof E,e,"internal-error"),Os(d,e.name),Os(h,e.name),B("boolean"==typeof x,e,"internal-error"),B("boolean"==typeof L,e,"internal-error"),Os(f,e.name),Os(p,e.name),Os(m,e.name),Os(g,e.name),Os(b,e.name),Os(_,e.name);const Ft=new Xa({uid:E,auth:e,email:h,emailVerified:x,displayName:d,isAnonymous:L,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:ke,createdAt:b,lastLoginAt:_});return W&&Array.isArray(W)&&(Ft.providerData=W.map(Zn=>Object.assign({},Zn))),g&&(Ft._redirectEventId=g),Ft}static _fromIdTokenResponse(e,t,i=!1){return v(function*(){const r=new Pf;r.updateFromServerResponse(t);const o=new Xa({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:i});return yield Mf(o),o})()}}const qz=new Map;function Wo(n){Ns(n instanceof Function,"Expected a class definition");let e=qz.get(n);return e?(Ns(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,qz.set(n,e),e)}const Wz=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(t,i){var r=this;return v(function*(){r.storage[t]=i})()}_get(t){var i=this;return v(function*(){const r=i.storage[t];return void 0===r?null:r})()}_remove(t){var i=this;return v(function*(){delete i.storage[t]})()}_addListener(t,i){}_removeListener(t,i){}}return n.type="NONE",n})();function $y(n,e,t){return`firebase:${n}:${e}:${t}`}class du{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=$y(this.userKey,r.apiKey,o),this.fullPersistenceKey=$y("persistence",r.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?Xa._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return v(function*(){if(t.persistence===e)return;const i=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,i?t.setCurrentUser(i):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,i="authUser"){return v(function*(){if(!t.length)return new du(Wo(Wz),e,i);const r=(yield Promise.all(t.map(function(){var c=v(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let o=r[0]||Wo(Wz);const s=$y(i,e.config.apiKey,e.name);let a=null;for(const c of t)try{const u=yield c._get(s);if(u){const d=Xa._fromJSON(e,u);c!==o&&(a=d),o=c;break}}catch{}const l=r.filter(c=>c._shouldAllowMigration);return o._shouldAllowMigration&&l.length?(o=l[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var c=v(function*(u){if(u!==o)try{yield u._remove(s)}catch{}});return function(u){return c.apply(this,arguments)}}())),new du(o,e,i)):new du(o,e,i)})()}}function Gz(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Qz(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Kz(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Zz(e))return"Blackberry";if(Jz(e))return"Webos";if(bx(e))return"Safari";if((e.includes("chrome/")||Yz(e))&&!e.includes("edge/"))return"Chrome";if(Xz(e))return"Android";{const i=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===i?.length)return i[1]}return"Other"}function Kz(n=vn()){return/firefox\//i.test(n)}function bx(n=vn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Yz(n=vn()){return/crios\//i.test(n)}function Qz(n=vn()){return/iemobile/i.test(n)}function Xz(n=vn()){return/android/i.test(n)}function Zz(n=vn()){return/blackberry/i.test(n)}function Jz(n=vn()){return/webos/i.test(n)}function qy(n=vn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function e$(n=vn()){return qy(n)||Xz(n)||Jz(n)||Zz(n)||/windows phone/i.test(n)||Qz(n)}function t$(n,e=[]){let t;switch(n){case"Browser":t=Gz(vn());break;case"Worker":t=`${Gz(vn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${ks}/${i}`}class $pe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=o=>new Promise((s,a)=>{try{s(e(o))}catch(l){a(l)}});i.onAbort=t,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return v(function*(){if(t.auth.currentUser===e)return;const i=[];try{for(const r of t.queue)yield r(e),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const o of i)try{o()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})()}}function wx(){return(wx=v(function*(n,e={}){return bt(n,"GET","/v2/passwordPolicy",vt(n,e))})).apply(this,arguments)}class Gpe{constructor(e){var t,i,r,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(i=e.allowedNonAlphanumericCharacters)||void 0===i?void 0:i.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(o=e.forceUpgradeOnSignin)&&void 0!==o&&o,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,r,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=null===(t=l.meetsMinPasswordLength)||void 0===t||t),l.isValid&&(l.isValid=null===(i=l.meetsMaxPasswordLength)||void 0===i||i),l.isValid&&(l.isValid=null===(r=l.containsLowercaseLetter)||void 0===r||r),l.isValid&&(l.isValid=null===(o=l.containsUppercaseLetter)||void 0===o||o),l.isValid&&(l.isValid=null===(s=l.containsNumericCharacter)||void 0===s||s),l.isValid&&(l.isValid=null===(a=l.containsNonAlphanumericCharacter)||void 0===a||a),l}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let i;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}class Kpe{constructor(e,t,i,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new n$(this),this.idTokenSubscription=new n$(this),this.beforeStateQueue=new $pe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var i=this;return t&&(this._popupRedirectResolver=Wo(t)),this._initializationPromise=this.queue(v(function*(){var r,o;if(!i._deleted&&(i.persistenceManager=yield du.create(i,e),!i._deleted)){if(null!==(r=i._popupRedirectResolver)&&void 0!==r&&r._shouldInitProactively)try{yield i._popupRedirectResolver._initialize(i)}catch{}yield i.initializeCurrentUser(t),i.lastNotifiedUid=(null===(o=i.currentUser)||void 0===o?void 0:o.uid)||null,!i._deleted&&(i._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return v(function*(){var i;const r=yield t.assertedPersistence.getCurrentUser();let o=r,s=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId,l=o?._redirectEventId,c=yield t.tryRedirectSignIn(e);(!a||a===l)&&c?.user&&(o=c.user,s=!0)}if(!o)return t.directlySetCurrentUser(null);if(!o._redirectEventId){if(s)try{yield t.beforeStateQueue.runMiddleware(o)}catch(a){o=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return o?t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)}return B(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)})()}tryRedirectSignIn(e){var t=this;return v(function*(){let i=null;try{i=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return i})()}reloadAndSetCurrentUserOrClear(e){var t=this;return v(function*(){try{yield Mf(e)}catch(i){if("auth/network-request-failed"!==i?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Ipe(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return v(function*(){const i=e?st(e):null;return i&&B(i.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(i&&i._clone(t))})()}_updateCurrentUser(e,t=!1){var i=this;return v(function*(){if(!i._deleted)return e&&B(i.tenantId===e.tenantId,i,"tenant-id-mismatch"),t||(yield i.beforeStateQueue.runMiddleware(e)),i.queue(v(function*(){yield i.directlySetCurrentUser(e),i.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue(v(function*(){yield t.assertedPersistence.setPersistence(Wo(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return v(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const i=t._getPasswordPolicyInternal();return i.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const t=yield function qpe(n){return wx.apply(this,arguments)}(e),i=new Gpe(t);null===e.tenantId?e._projectPasswordPolicy=i:e._tenantPasswordPolicies[e.tenantId]=i})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _f("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}revokeAccessToken(e){var t=this;return v(function*(){if(t.currentUser){const i=yield t.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:i};null!=t.tenantId&&(r.tenantId=t.tenantId),yield function Upe(n,e){return vx.apply(this,arguments)}(t,r)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var i=this;return v(function*(){const r=yield i.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return v(function*(){if(!t.redirectPersistenceManager){const i=e&&Wo(e)||t._popupRedirectResolver;B(i,t,"argument-error"),t.redirectPersistenceManager=yield du.create(t,[Wo(i._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return v(function*(){var i,r;return t._isInitialized&&(yield t.queue(v(function*(){}))),(null===(i=t._currentUser)||void 0===i?void 0:i._redirectEventId)===e?t._currentUser:(null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return v(function*(){if(e===t.currentUser)return t.queue(v(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,r){if(this._deleted)return()=>{};const o="function"==typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(B(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),"function"==typeof t){const l=e.addObserver(t,i,r);return()=>{s=!0,l()}}{const l=e.addObserver(t);return()=>{s=!0,l()}}}directlySetCurrentUser(e){var t=this;return v(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t$(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var t;const i={"X-Client-Version":e.clientVersion};e.app.options.appId&&(i["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();r&&(i["X-Firebase-Client"]=r);const o=yield e._getAppCheckToken();return o&&(i["X-Firebase-AppCheck"]=o),i})()}_getAppCheckToken(){var e=this;return v(function*(){var t;const i=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return i?.error&&function wpe(n,...e){jy.logLevel<=Re.WARN&&jy.warn(`Auth (${ks}): ${n}`,...e)}(`Error while retrieving App Check token: ${i.error}`),i?.token})()}}function Yt(n){return st(n)}class n${constructor(e){this.auth=e,this.observer=null,this.addObserver=function zhe(n,e){const t=new $he(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ex(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=r=>{const o=Zr("internal-error");o.customData=r,t(o)},i.type="text/javascript",i.charset="UTF-8",function Ype(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(i)})}function i$(n){return`__${n}${Math.floor(1e6*Math.random())}`}class r${constructor(e){this.type="recaptcha-enterprise",this.auth=Yt(e)}verify(e="verify",t=!1){var i=this;return v(function*(){function o(){return o=v(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var l=v(function*(c,u){zz(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const h=new Hz(d);return null==a.tenantId?a._agentRecaptchaConfig=h:a._tenantRecaptchaConfigs[a.tenantId]=h,c(h.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(c,u){return l.apply(this,arguments)}}())}),o.apply(this,arguments)}function s(a,l,c){const u=window.grecaptcha;jz(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{l(d)}).catch(()=>{l("NO_RECAPTCHA")})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{(function r(a){return o.apply(this,arguments)})(i.auth).then(c=>{if(!t&&jz(window.grecaptcha))s(c,a,l);else{if(typeof window>"u")return void l(new Error("RecaptchaVerifier is only supported in browser"));Ex("https://www.google.com/recaptcha/enterprise.js?render="+c).then(()=>{s(c,a,l)}).catch(u=>{l(u)})}}).catch(c=>{l(c)})})})()}}function o$(n,e,t){return Ix.apply(this,arguments)}function Ix(){return(Ix=v(function*(n,e,t,i=!1){const r=new r$(n);let o;try{o=yield r.verify(t)}catch{o=yield r.verify(t,!0)}const s=Object.assign({},e);return Object.assign(s,i?{captchaResp:o}:{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})).apply(this,arguments)}function kf(n,e,t,i){return Cx.apply(this,arguments)}function Cx(){return Cx=v(function*(n,e,t,i){var r;if(null!==(r=n._getRecaptchaConfig())&&void 0!==r&&r.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=yield o$(n,e,t,"getOobCode"===t);return i(n,o)}return i(n,e).catch(function(){var o=v(function*(s){if("auth/missing-recaptcha-token"===s.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield o$(n,e,t,"getOobCode"===t);return i(n,a)}return Promise.reject(s)});return function(s){return o.apply(this,arguments)}}())}),Cx.apply(this,arguments)}function s$(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function a$(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class l${constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,t){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}}function sme(n,e){return Sx.apply(this,arguments)}function Sx(){return(Sx=v(function*(n,e){return bt(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function lme(n,e){return Rx.apply(this,arguments)}function Rx(){return(Rx=v(function*(n,e){return $o(n,"POST","/v1/accounts:signInWithPassword",vt(n,e))})).apply(this,arguments)}function Fx(){return(Fx=v(function*(n,e){return $o(n,"POST","/v1/accounts:signInWithEmailLink",vt(n,e))})).apply(this,arguments)}function Lx(){return(Lx=v(function*(n,e){return $o(n,"POST","/v1/accounts:signInWithEmailLink",vt(n,e))})).apply(this,arguments)}class Nf extends l${constructor(e,t,i,r=null){super("password",i),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Nf(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Nf(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return v(function*(){switch(t.signInMethod){case"password":return kf(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",lme);case"emailLink":return function fme(n,e){return Fx.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Ti(e,"internal-error")}})()}_linkToIdToken(e,t){var i=this;return v(function*(){switch(i.signInMethod){case"password":return kf(e,{idToken:t,returnSecureToken:!0,email:i._email,password:i._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sme);case"emailLink":return function pme(n,e){return Lx.apply(this,arguments)}(e,{idToken:t,email:i._email,oobCode:i._password});default:Ti(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Go(n,e){return Vx.apply(this,arguments)}function Vx(){return(Vx=v(function*(n,e){return $o(n,"POST","/v1/accounts:signInWithIdp",vt(n,e))})).apply(this,arguments)}class Lf{constructor(e){var t,i,r,o,s,a;const l=bf(wf(e)),c=null!==(t=l.apiKey)&&void 0!==t?t:null,u=null!==(i=l.oobCode)&&void 0!==i?i:null,d=function wme(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=l.mode)&&void 0!==r?r:null);B(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=null!==(o=l.continueUrl)&&void 0!==o?o:null,this.languageCode=null!==(s=l.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=l.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Eme(n){const e=bf(wf(n)).link,t=e?bf(wf(e)).deep_link_id:null,i=bf(wf(n)).deep_link_id;return(i?bf(wf(i)).link:null)||i||t||e||n}(e);try{return new Lf(t)}catch{return null}}}let u$=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,i){return Nf._fromEmailAndPassword(t,i)}static credentialWithLink(t,i){const r=Lf.parseLink(i);return B(r,"argument-error"),Nf._fromEmailAndCode(t,r.code,r.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class Fs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ime extends Fs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}function d$(n,e){return $x.apply(this,arguments)}function $x(){return($x=v(function*(n,e){return $o(n,"POST","/v1/accounts:signUp",vt(n,e))})).apply(this,arguments)}class lr{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,i,r=!1){return v(function*(){const o=yield Xa._fromIdTokenResponse(e,i,r),s=h$(i);return new lr({user:o,providerId:s,_tokenResponse:i,operationType:t})})()}static _forOperation(e,t,i){return v(function*(){yield e._updateTokensIfNecessary(i,!0);const r=h$(i);return new lr({user:e,providerId:r,_tokenResponse:i,operationType:t})})()}}function h$(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Ky extends Qr{constructor(e,t,i,r){var o;super(t.code,t.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Ky.prototype),this.customData={appName:e.name,tenantId:null!==(o=e.tenantId)&&void 0!==o?o:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,r){return new Ky(e,t,i,r)}}function f$(n,e,t,i){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw"auth/multi-factor-auth-required"===o.code?Ky._fromErrorAndOperation(n,o,e,i):o})}function Kx(){return(Kx=v(function*(n,e,t=!1){const i=yield qo(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return lr._forOperation(n,"link",i)})).apply(this,arguments)}function Qx(){return(Qx=v(function*(n,e,t=!1){const{auth:i}=n,r="reauthenticate";try{const o=yield qo(n,f$(i,r,e,n),t);B(o.idToken,i,"internal-error");const s=zy(o.idToken);B(s,i,"internal-error");const{sub:a}=s;return B(n.uid===a,i,"user-mismatch"),lr._forOperation(n,r,o)}catch(o){throw"auth/user-not-found"===o?.code&&Ti(i,"user-mismatch"),o}})).apply(this,arguments)}function g$(n,e){return Xx.apply(this,arguments)}function Xx(){return(Xx=v(function*(n,e,t=!1){const i="signIn",r=yield f$(n,i,e),o=yield lr._fromIdTokenResponse(n,i,r);return t||(yield n._updateCurrentUser(o.user)),o})).apply(this,arguments)}function Jx(){return(Jx=v(function*(n,e){return g$(Yt(n),e)})).apply(this,arguments)}function aD(n){return lD.apply(this,arguments)}function lD(){return(lD=v(function*(n){const e=Yt(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function _$(n,e,t){return pD.apply(this,arguments)}function pD(){return(pD=v(function*(n,e,t){const i=Yt(n),s=yield kf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",d$).catch(l=>{throw"auth/password-does-not-meet-requirements"===l.code&&aD(n),l}),a=yield lr._fromIdTokenResponse(i,"signIn",s);return yield i._updateCurrentUser(a.user),a})).apply(this,arguments)}function Rme(n,e,t){return function Zx(n,e){return Jx.apply(this,arguments)}(st(n),u$.credential(e,t)).catch(function(){var i=v(function*(r){throw"auth/password-does-not-meet-requirements"===r.code&&aD(n),r});return function(r){return i.apply(this,arguments)}}())}function wD(){return(wD=v(function*(n,e){return bt(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ED(n,e){return ID.apply(this,arguments)}function ID(){return ID=v(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const i=st(n),o={idToken:yield i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},s=yield qo(i,function Pme(n,e){return wD.apply(this,arguments)}(i.auth,o));i.displayName=s.displayName||null,i.photoURL=s.photoUrl||null;const a=i.providerData.find(({providerId:l})=>"password"===l);a&&(a.displayName=i.displayName,a.photoURL=i.photoURL),yield i._updateTokensIfNecessary(s)}),ID.apply(this,arguments)}function v$(n,e,t,i){return st(n).onIdTokenChanged(e,t,i)}const Xy="__sak";class b${constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Xy,"1"),this.storage.removeItem(Xy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Gme=(()=>{class n extends b${constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function $me(){const n=vn();return bx(n)||qy(n)}()&&function zpe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=e$(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),o=this.localCache[i];r!==o&&t(i,o,r)}}onStorageEvent(t,i=!1){if(!t.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const r=t.key;if(i?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(r);if(t.newValue!==a)null!==t.newValue?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!i)return}const o=()=>{const a=this.storage.getItem(r);!i&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);!function Hpe(){return function Nhe(){const n=vn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||s===t.newValue||t.newValue===t.oldValue?o():setTimeout(o,10)}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,i){var r=()=>super._set,o=this;return v(function*(){yield r().call(o,t,i),o.localCache[t]=JSON.stringify(i)})()}_get(t){var i=()=>super._get,r=this;return v(function*(){const o=yield i().call(r,t);return r.localCache[t]=JSON.stringify(o),o})()}_remove(t){var i=()=>super._remove,r=this;return v(function*(){yield i().call(r,t),delete r.localCache[t]})()}}return n.type="LOCAL",n})(),w$=(()=>{class n extends b${constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}return n.type="SESSION",n})();let Yme=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const r=new n(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var i=this;return v(function*(){const r=t,{eventId:o,eventType:s,data:a}=r.data,l=i.handlersMap[s];if(!l?.size)return;r.ports[0].postMessage({status:"ack",eventId:o,eventType:s});const c=Array.from(l).map(function(){var d=v(function*(h){return h(r.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function Kme(n){return Promise.all(n.map(function(){var e=v(function*(t){try{return{fulfilled:!0,value:yield t}}catch(i){return{fulfilled:!1,reason:i}}});return function(t){return e.apply(this,arguments)}}()))}(c);r.ports[0].postMessage({status:"done",eventId:o,eventType:s,response:u})})()}_subscribe(t,i){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function MD(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(10*Math.random());return n+t}class Qme{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,i=50){var r=this;return v(function*(){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let s,a;return new Promise((l,c)=>{const u=MD("",20);o.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},i);a={messageChannel:o,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),l(f.data.response);break;default:clearTimeout(d),clearTimeout(s),c(new Error("invalid_response"))}}},r.handlers.add(a),o.port1.addEventListener("message",a.onMessage),r.target.postMessage({eventType:e,eventId:u,data:t},[o.port2])}).finally(()=>{a&&r.removeMessageHandler(a)})})()}}function rn(){return window}function PD(){return typeof rn().WorkerGlobalScope<"u"&&"function"==typeof rn().importScripts}function kD(){return(kD=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const E$="firebaseLocalStorageDb",Zy="firebaseLocalStorage",I$="fbase_key";class Bf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Jy(n,e){return n.transaction([Zy],e?"readwrite":"readonly").objectStore(Zy)}function ND(){const n=indexedDB.open(E$,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Zy,{keyPath:I$})}catch(r){t(r)}}),n.addEventListener("success",v(function*(){const i=n.result;i.objectStoreNames.contains(Zy)?e(i):(i.close(),yield function nge(){const n=indexedDB.deleteDatabase(E$);return new Bf(n).toPromise()}(),e(yield ND()))}))})}function C$(n,e,t){return OD.apply(this,arguments)}function OD(){return(OD=v(function*(n,e,t){const i=Jy(n,!0).put({[I$]:e,value:t});return new Bf(i).toPromise()})).apply(this,arguments)}function FD(){return(FD=v(function*(n,e){const t=Jy(n,!1).get(e),i=yield new Bf(t).toPromise();return void 0===i?null:i.value})).apply(this,arguments)}function T$(n,e){const t=Jy(n,!0).delete(e);return new Bf(t).toPromise()}const sge=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return v(function*(){return t.db||(t.db=yield ND()),t.db})()}_withRetries(t){var i=this;return v(function*(){let r=0;for(;;)try{const o=yield i._openDb();return yield t(o)}catch(o){if(r++>3)throw o;i.db&&(i.db.close(),i.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return v(function*(){return PD()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return v(function*(){t.receiver=Yme._getInstance(function ege(){return PD()?self:null}()),t.receiver._subscribe("keyChanged",function(){var i=v(function*(r,o){return{keyProcessed:(yield t._poll()).includes(o.key)}});return function(r,o){return i.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var i=v(function*(r,o){return["keyChanged"]});return function(r,o){return i.apply(this,arguments)}}())})()}initializeSender(){var t=this;return v(function*(){var i,r;if(t.activeServiceWorker=yield function Zme(){return kD.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Qme(t.activeServiceWorker);const o=yield t.sender._send("ping",{},800);o&&null!==(i=o[0])&&void 0!==i&&i.fulfilled&&null!==(r=o[0])&&void 0!==r&&r.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var i=this;return v(function*(){if(i.sender&&i.activeServiceWorker&&function Jme(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===i.activeServiceWorker)try{yield i.sender._send("keyChanged",{key:t},i.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const t=yield ND();return yield C$(t,Xy,"1"),yield T$(t,Xy),!0}catch{}return!1})()}_withPendingWrite(t){var i=this;return v(function*(){i.pendingWrites++;try{yield t()}finally{i.pendingWrites--}})()}_set(t,i){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(o=>C$(o,t,i)),r.localCache[t]=i,r.notifyServiceWorker(t)}))})()}_get(t){var i=this;return v(function*(){const r=yield i._withRetries(o=>function ige(n,e){return FD.apply(this,arguments)}(o,t));return i.localCache[t]=r,r})()}_remove(t){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(r=>T$(r,t)),delete i.localCache[t],i.notifyServiceWorker(t)}))})()}_poll(){var t=this;return v(function*(){const i=yield t._withRetries(s=>{const a=Jy(s,!1).getAll();return new Bf(a).toPromise()});if(!i)return[];if(0!==t.pendingWrites)return[];const r=[],o=new Set;for(const{fbase_key:s,value:a}of i)o.add(s),JSON.stringify(t.localCache[s])!==JSON.stringify(a)&&(t.notifyListeners(s,a),r.push(s));for(const s of Object.keys(t.localCache))t.localCache[s]&&!o.has(s)&&(t.notifyListeners(s,null),r.push(s));return r})()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const o of Array.from(r))o(i)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();i$("rcb"),new Sf(3e4,6e4);class qD extends l${constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Go(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Go(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Go(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Ege(n){return g$(n.auth,new qD(n),n.bypassAuthState)}function Ige(n){const{auth:e,user:t}=n;return B(t,e,"internal-error"),function m$(n,e){return Qx.apply(this,arguments)}(t,new qD(n),n.bypassAuthState)}function Cge(n){return WD.apply(this,arguments)}function WD(){return(WD=v(function*(n){const{auth:e,user:t}=n;return B(t,e,"internal-error"),function Gx(n,e){return Kx.apply(this,arguments)}(t,new qD(n),n.bypassAuthState)})).apply(this,arguments)}class Tge{constructor(e,t,i,r,o=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=v(function*(i,r){e.pendingPromise={resolve:i,reject:r};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(o){e.reject(o)}});return function(i,r){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return v(function*(){const{urlResponse:i,sessionId:r,postBody:o,tenantId:s,error:a,type:l}=e;if(a)return void t.reject(a);const c={auth:t.auth,requestUri:i,sessionId:r,tenantId:s||void 0,postBody:o||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(l)(c))}catch(u){t.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ege;case"linkViaPopup":case"linkViaRedirect":return Cge;case"reauthViaPopup":case"reauthViaRedirect":return Ige;default:Ti(this.auth,"internal-error")}}resolve(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Sf(2e3,1e4);const xge="pendingRedirect",Uf=new Map;class Dge extends Tge{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}execute(){var e=()=>super.execute,t=this;return v(function*(){let i=Uf.get(t.auth._key());if(!i){try{const o=(yield function Sge(n,e){return XD.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;i=()=>Promise.resolve(o)}catch(r){i=()=>Promise.reject(r)}Uf.set(t.auth._key(),i)}return t.bypassAuthState||Uf.set(t.auth._key(),()=>Promise.resolve(null)),i()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,i=this;return v(function*(){if("signInViaRedirect"===e.type)return t().call(i,e);if("unknown"!==e.type){if(e.eventId){const r=yield i.auth._redirectUserForId(e.eventId);if(r)return i.user=r,t().call(i,e);i.resolve(null)}}else i.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function XD(){return(XD=v(function*(n,e){const t=function S$(n){return $y(xge,n.config.apiKey,n.name)}(e),i=function D$(n){return Wo(n._redirectPersistence)}(n);if(!(yield i._isAvailable()))return!1;const r="true"===(yield i._get(t));return yield i._remove(t),r})).apply(this,arguments)}function Age(n,e){Uf.set(n._key(),e)}function A$(n,e){return rS.apply(this,arguments)}function rS(){return(rS=v(function*(n,e,t=!1){const i=Yt(n),r=function Ja(n,e){return e?Wo(e):(B(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}(i,e),s=yield new Dge(i,r,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield i._persistUserIfCurrent(s.user),yield i._setRedirectUser(null,e)),s})).apply(this,arguments)}class Nge{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Oge(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return P$(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!P$(e)){const r=(null===(i=e.error.code)||void 0===i?void 0:i.split("auth/")[1])||"internal-error";t.onError(Zr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(M$(e))}saveEventToCache(e){this.cachedEventUids.add(M$(e)),this.lastProcessedEventTime=Date.now()}}function M$(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function P$({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function sS(){return(sS=v(function*(n,e={}){return bt(n,"GET","/v1/projects",e)})).apply(this,arguments)}const Lge=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vge=/^https?/;function aS(){return aS=v(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function Fge(n){return sS.apply(this,arguments)}(n);for(const t of e)try{if(Uge(t))return}catch{}Ti(n,"unauthorized-domain")}),aS.apply(this,arguments)}function Uge(n){const e=Df(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const s=new URL(n);return""===s.hostname&&""===i?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&s.hostname===i}if(!Vge.test(t))return!1;if(Lge.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const jge=new Sf(3e4,6e4);function k$(){const n=rn().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let tv=null;const $ge=new Sf(5e3,15e3),qge="__/auth/iframe",Wge="emulator/auth/iframe",Gge={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Kge=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Yge(n){const e=n.config;B(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?rx(e,Wge):`https://${n.config.authDomain}/${qge}`,i={apiKey:e.apiKey,appName:n.name,v:ks},r=Kge.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${t}?${vf(i).slice(1)}`}function lS(){return lS=v(function*(n){const e=yield function zge(n){return tv=tv||function Hge(n){return new Promise((e,t)=>{var i,r,o;function s(){k$(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{k$(),t(Zr(n,"network-request-failed"))},timeout:jge.get()})}if(null!==(r=null===(i=rn().gapi)||void 0===i?void 0:i.iframes)&&void 0!==r&&r.Iframe)e(gapi.iframes.getContext());else{if(null===(o=rn().gapi)||void 0===o||!o.load){const a=i$("iframefcb");return rn()[a]=()=>{gapi.load?s():t(Zr(n,"network-request-failed"))},Ex(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>t(l))}s()}}).catch(e=>{throw tv=null,e})}(n),tv}(n),t=rn().gapi;return B(t,n,"internal-error"),e.open({where:document.body,url:Yge(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Gge,dontclear:!0},i=>new Promise(function(){var r=v(function*(o,s){yield i.restyle({setHideOnLeave:!1});const a=Zr(n,"network-request-failed"),l=rn().setTimeout(()=>{s(a)},$ge.get());function c(){rn().clearTimeout(l),o(i)}i.ping(c).then(c,()=>{s(a)})});return function(o,s){return r.apply(this,arguments)}}()))}),lS.apply(this,arguments)}const Xge={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class N${constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const r_e="__/auth/handler",o_e="emulator/auth/handler",s_e=encodeURIComponent("fac");function O$(n,e,t,i,r,o){return cS.apply(this,arguments)}function cS(){return(cS=v(function*(n,e,t,i,r,o){B(n.config.authDomain,n,"auth-domain-config-required"),B(n.config.apiKey,n,"invalid-api-key");const s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:ks,eventId:r};if(e instanceof Fs){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",jT(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(o||{}))s[u]=d}if(e instanceof Ime){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(s.scopes=u.join(","))}n.tenantId&&(s.tid=n.tenantId);const a=s;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=yield n._getAppCheckToken(),c=l?`#${s_e}=${encodeURIComponent(l)}`:"";return`${function a_e({config:n}){return n.emulator?rx(n,o_e):`https://${n.authDomain}/${r_e}`}(n)}?${vf(a).slice(1)}${c}`})).apply(this,arguments)}const uS="webStorageSupport",c_e=class l_e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w$,this._completeRedirectFn=A$,this._overrideRedirectResult=Age}_openPopup(e,t,i,r){var o=this;return v(function*(){var s;Ns(null===(s=o.eventManagers[e._key()])||void 0===s?void 0:s.manager,"_initialize() not called before _openPopup()");const a=yield O$(e,t,i,Df(),r);return function n_e(n,e,t,i=500,r=600){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),s=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Xge),{width:i.toString(),height:r.toString(),top:o,left:s}),c=vn().toLowerCase();t&&(a=Yz(c)?"_blank":t),Kz(c)&&(e=e||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(function jpe(n=vn()){var e;return qy(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function i_e(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}(e||"",a),new N$(null);const d=window.open(e||"",a,u);B(d,n,"popup-blocked");try{d.focus()}catch{}return new N$(d)}(e,a,MD())})()}_openRedirect(e,t,i,r){var o=this;return v(function*(){return yield o._originValidation(e),function Xme(n){rn().location.href=n}(yield O$(e,t,i,Df(),r)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:r,promise:o}=this.eventManagers[t];return r?Promise.resolve(r):(Ns(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}initAndGetManager(e){var t=this;return v(function*(){const i=yield function Qge(n){return lS.apply(this,arguments)}(e),r=new Nge(e);return i.register("authEvent",o=>(B(o?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=i,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(uS,{type:uS},r=>{var o;const s=null===(o=r?.[0])||void 0===o?void 0:o[uS];void 0!==s&&t(!!s),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Bge(n){return aS.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return e$()||bx()||qy()}};var V$="@firebase/auth";class u_e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return v(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const p_e=pz("authIdTokenMaxAge")||300;let U$=null;const m_e=n=>function(){var e=v(function*(t){const i=t&&(yield t.getIdTokenResult()),r=i&&((new Date).getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>p_e)return;const o=i?.token;U$!==o&&(U$=o,yield fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function iv(n=Ef()){const e=su(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function eme(n,e){const t=su(n,"auth");if(t.isInitialized()){const r=t.getImmediate();if(Ny(t.getOptions(),e??{}))return r;Ti(r,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:c_e,persistence:[sge,Gme,w$]}),i=pz("authTokenSyncURL");if(i){const o=m_e(i);(function Vme(n,e,t){st(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),v$(t,s=>o(s))}const r=hz("auth");return r&&function nme(n,e,t){const i=Yt(n);B(i._canInitEmulator,i,"emulator-config-failed"),B(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!!t?.disableWarnings,o=s$(e),{host:s,port:a}=function ime(n){const e=s$(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:a$(i.substr(o.length+1))}}{const[o,s]=i.split(":");return{host:o,port:a$(s)}}}(e);i.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})}),r||function rme(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${r}`),t}function g_e(n){return new ze(function(e){var t=function Bme(n,e,t,i){return st(n).onAuthStateChanged(e,t,i)}(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}function j$(n){return new ze(function(e){return{unsubscribe:v$(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e))}})}!function h_e(n){Ps(new Ho("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=i.options;B(s&&!s.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t$(n)},c=new Kpe(i,r,o,l);return function tme(n,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Wo);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e?.popupRedirectResolver)}(c,t),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ps(new Ho("auth-internal",e=>{const t=Yt(e.getProvider("auth").getImmediate());return new u_e(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),fn(V$,"1.4.0",function d_e(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),fn(V$,"1.4.0","esm2017")}("Browser");class jf{constructor(e){return e}}class rv{constructor(){return Cf("auth")}}const hS=new S("angularfire2.auth-instances");function y_e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new jf(i)}}const v_e={provide:rv,deps:[[new Tt,hS]]},b_e={provide:jf,useFactory:function __e(n,e){const t=By("auth",n,e);return t&&new jf(t)},deps:[[new Tt,hS],Qa]};let w_e=(()=>{class n{constructor(){fn("angularfire",au.full,"auth")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=De({type:n});static \u0275inj=Ce({providers:[b_e,v_e]})}return n})();function E_e(n,...e){return{ngModule:w_e,providers:[{provide:hS,useFactory:y_e(n),multi:!0,deps:[Q,yt,Tf,xf,[new Tt,Uy],...e]}]}}const I_e=jt(g_e,!0),C_e=jt(j$,!0),T_e=jt(_$,!0),x_e=jt(iv,!0),D_e=jt(Rme,!0);let ov=(()=>{class n{constructor(t){this.auth=t,this.currentUser$=I_e(this.auth)}signUp(t,i){return _t(T_e(this.auth,t,i))}login(t,i){return _t(D_e(this.auth,t,i))}logout(){return _t(this.auth.signOut())}static#e=this.\u0275fac=function(i){return new(i||n)(C(jf))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class z${constructor(e){this.options=e,e.vcr?this.ref=e.vcr.createComponent(e.component,{index:e.vcr.length,injector:e.injector||e.vcr.injector}):(this.ref=function Pie(n,e){const t=Fe(n),i=e.elementInjector||Mg();return new ah(t).create(i,e.projectableNodes,e.hostElement,e.environmentInjector)}(e.component,{elementInjector:e.injector,environmentInjector:e.environmentInjector}),e.appRef.attachView(this.ref.hostView))}setInput(e,t){return this.ref.setInput(e,t),this}setInputs(e){return Object.keys(e).forEach(t=>{this.ref.setInput(t,e[t])}),this}detectChanges(){return this.ref.hostView.detectChanges(),this}updateContext(e){return this.options.contextSignal?.set(e),this}appendTo(e){return e.appendChild(this.getElement()),this}removeFrom(e){return e.removeChild(this.getElement()),this}getRawContent(){return this.getElement().outerHTML}getElement(){return this.ref.location.nativeElement}destroy(){this.ref.destroy(),!this.options.vcr&&this.options.appRef.detachView(this.ref.hostView),this.ref=null}}function fS(n){return n instanceof rr}function Hf(n){return"function"==typeof n}function $$(n){return"string"==typeof n}let S_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["dynamic-view"]],inputs:{content:"content"},decls:1,vars:1,consts:[[3,"innerHTML"]],template:function(i,r){1&i&&Ae(0,"div",0),2&i&&V("innerHTML",r.content,dO)},encapsulation:2})}return n})();class A_e{constructor(e){this.args=e,this.args.vcr?(this.ref=this.args.vcr.createEmbeddedView(this.args.tpl,this.args.context||{},{injector:e.injector}),this.ref.detectChanges()):(this.ref=this.args.tpl.createEmbeddedView(this.args.context||{},e.injector),this.ref.detectChanges(),this.args.appRef.attachView(this.ref))}detectChanges(){return this.ref.detectChanges(),this}getElement(){const e=this.ref.rootNodes;return 1===e.length&&e[0]===Node.ELEMENT_NODE?this.element=e[0]:(this.element=document.createElement("div"),this.element.append(...e)),this.element}destroy(){1!==this.ref.rootNodes[0]&&(this.element?.parentNode.removeChild(this.element),this.element=null),this.args.vcr||this.args.appRef.detachView(this.ref),this.ref.destroy(),this.ref=null}updateContext(e){return this.ref.context=e,this}}class R_e{constructor(e){this.value=e}getElement(){return this.value}detectChanges(){return this}updateContext(){return this}destroy(){}}const q$=new S("Component context");let W$=(()=>{class n{constructor(){this.injector=F(yt),this.appRef=F(Ro),this.environmentInjector=F(Fi)}createComponent(t,i={}){let o,r=i.injector??this.injector;return i.context&&(o=function IK(n,e){const t=Object.create(CK);function i(){return b1(t),t.value}return t.value=n,e?.equal&&(t.equal=e.equal),i.set=R1,i.update=TK,i.mutate=xK,i.asReadonly=DK,i[hs]=t,i}(i.context),r=yt.create({providers:[{provide:q$,useValue:o.asReadonly()}],parent:r})),new z$({component:t,vcr:i.vcr,injector:r,appRef:this.appRef,environmentInjector:i.environmentInjector||this.environmentInjector,contextSignal:o})}createTemplate(t,i={}){return new A_e({vcr:i.vcr,appRef:this.appRef,tpl:t,context:i.context,injector:i.injector})}createView(t,i={}){if(fS(t))return this.createTemplate(t,i);if(Hf(t))return this.createComponent(t,i);if($$(t))return new R_e(t);throw"Type of content is not supported"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M_e=(()=>{class n{constructor(t,i,r){this.defaultTpl=t,this.vcr=i,this.viewService=r}ngOnInit(){this.resolveContentType()}ngOnChanges(t){const i=t.view&&!t.view.isFirstChange(),r=t.context&&!t.context.isFirstChange(),o=t.inputs&&!t.inputs.isFirstChange();i?this.resolveContentType():r?this.viewRef.updateContext(this.context):Hf(this.view)&&o&&this.viewRef.setInputs(this.inputs||{})}resolveContentType(){this.viewRef?.destroy(),$$(this.view)?(this.viewRef=this.viewService.createComponent(S_e,{vcr:this.vcr,injector:this.injector}),this.viewRef.setInput("content",this.view).detectChanges()):Hf(this.view)?(this.viewRef=this.viewService.createComponent(this.view,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context}),this.inputs&&this.viewRef.setInputs(this.inputs)):this.viewRef=this.viewService.createView(this.view||this.defaultTpl,{vcr:this.vcr,injector:this.injector??this.vcr.injector,context:this.context})}ngOnDestroy(){this.viewRef?.destroy()}static#e=this.\u0275fac=function(i){return new(i||n)(y(rr),y(Ii),y(W$))};static#t=this.\u0275dir=z({type:n,selectors:[["","dynamicView",""]],inputs:{view:["dynamicView","view"],injector:["dynamicViewInjector","injector"],context:["dynamicViewContext","context"],inputs:["dynamicViewInputs","inputs"]},features:[ii]})}return n})(),P_e=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();const{isArray:k_e}=Array;const L_e=function(n,e){return{"border-color":n,"border-right-color":e}};function V_e(n,e){if(1&n&&(A(0,"div"),P(1,"\n        "),Ae(2,"hot-toast-error",2),P(3,"\n      "),k()),2&n){const t=ge(3);j(2),V("theme",t.theme)}}function B_e(n,e){if(1&n&&(A(0,"div"),P(1,"\n        "),Ae(2,"hot-toast-checkmark",2),P(3,"\n      "),k()),2&n){const t=ge(3);j(2),V("theme",t.theme)}}function U_e(n,e){if(1&n&&(A(0,"div"),P(1,"\n        "),Ae(2,"hot-toast-warning",2),P(3,"\n      "),k()),2&n){const t=ge(3);j(2),V("theme",t.theme)}}function j_e(n,e){if(1&n&&(A(0,"div"),P(1,"\n        "),Ae(2,"hot-toast-info",2),P(3,"\n      "),k()),2&n){const t=ge(3);j(2),V("theme",t.theme)}}function H_e(n,e){if(1&n&&(A(0,"div",4),P(1,"\n    "),A(2,"div",5),P(3,"\n      "),ne(4,V_e,4,1,"div",6),P(5,"\n      "),ne(6,B_e,4,1,"div",6),P(7,"\n      "),ne(8,U_e,4,1,"div",6),P(9,"\n      "),ne(10,j_e,4,1,"div",6),P(11,"\n    "),k(),P(12,"\n  "),k()),2&n){const t=ge(2);j(2),V("ngSwitch",t.type),j(2),V("ngSwitchCase","error"),j(2),V("ngSwitchCase","success"),j(2),V("ngSwitchCase","warning"),j(2),V("ngSwitchCase","info")}}function z_e(n,e){if(1&n&&(A(0,"div",1),P(1,"\n  "),Ae(2,"hot-toast-loader",2),P(3,"\n  "),ne(4,H_e,13,5,"div",3),P(5,"\n"),k()),2&n){const t=ge();j(2),V("theme",t.theme),j(2),V("ngIf","loading"!==t.type)}}const $_e=["*"],q_e=["hotToastBarBase"];function W_e(n,e){if(1&n&&(Ac(0),P(1,"\n          "),A(2,"hot-toast-animated-icon",10),P(3),k(),P(4,"\n        "),Rc()),2&n){const t=ge(2);j(2),V("iconTheme",t.toast.iconTheme),j(1),Pc(t.toast.icon)}}function G_e(n,e){1&n&&Qg(0)}function K_e(n,e){if(1&n&&(P(0,"\n          "),A(1,"div"),P(2,"\n            "),ne(3,G_e,1,0,"ng-container",11),P(4,"\n          "),k(),P(5,"\n        ")),2&n){const t=ge(2);j(3),V("dynamicView",t.toast.icon)}}function Y_e(n,e){if(1&n&&(Ac(0),P(1,"\n        "),ne(2,W_e,5,2,"ng-container",4),P(3,"\n        "),ne(4,K_e,6,1,"ng-template",null,9,Eh),P(6,"\n      "),Rc()),2&n){const t=_s(5),i=ge();j(2),V("ngIf",i.isIconString)("ngIfElse",t)}}function Q_e(n,e){if(1&n&&(P(0,"\n        "),Ae(1,"hot-toast-indicator",12),P(2,"\n      ")),2&n){const t=ge();j(1),V("theme",t.toast.iconTheme)("type",t.toast.type)}}function X_e(n,e){1&n&&Qg(0)}function Z_e(n,e){if(1&n){const t=So();A(0,"button",13),ue("click",function(){return an(t),ln(ge().close())}),k()}2&n&&V("ngStyle",ge().toast.closeStyle)}function J_e(n,e){if(1&n){const t=So();A(0,"hot-toast",3),ue("height",function(r){const s=an(t).$implicit;return ln(ge().updateHeight(r,s))})("beforeClosed",function(){const o=an(t).$implicit;return ln(ge().beforeClosed(o))})("afterClosed",function(r){return an(t),ln(ge().afterClosed(r))}),k()}if(2&n){const t=e.$implicit,i=e.index,r=ge();V("toast",t)("offset",r.calculateOffset(t.id,t.position))("toastRef",r.toastRefs[i])}}const G$={blank:4e3,error:4e3,success:4e3,loading:3e4,warning:4e3,info:4e3};class Y${constructor(e){this.toast=e,this._onClosed=new te}get data(){return this.toast.data}set dispose(e){this._dispose=e}getToast(){return this.toast}appendTo(e){const{dispose:t,updateMessage:i,updateToast:r,afterClosed:o}=e.addToast(this);return this.dispose=t,this.updateMessage=i,this.updateToast=r,this.afterClosed=function O_e(...n){return 1===(n=function N_e(n){return 1===n.length&&k_e(n[0])?n[0]:n}(n)).length?gn(n[0]):new ze(function F_e(n){return e=>{let t=[];for(let i=0;t&&!e.closed&&i<n.length;i++)t.push(gn(n[i]).subscribe(gt(e,r=>{if(t){for(let o=0;o<t.length;o++)o!==i&&t[o].unsubscribe();t=null}e.next(r)})))}}(n))}(this._onClosed.asObservable(),o),this}close(e={dismissedByAction:!1}){this._dispose(),this._onClosed.next({dismissedByAction:e.dismissedByAction,id:this.toast.id}),this._onClosed.complete()}}let iye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast-loader"]],inputs:{theme:"theme"},standalone:!0,features:[yr],decls:2,vars:4,consts:[[1,"hot-toast-loader-icon",3,"ngStyle"]],template:function(i,r){1&i&&(Ae(0,"div",0),P(1,"\n")),2&i&&V("ngStyle",gV(1,L_e,null==r.theme?null:r.theme.primary,null==r.theme?null:r.theme.secondary))},dependencies:[No,iC],encapsulation:2,changeDetection:0})}return n})(),rye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast-error"]],inputs:{theme:"theme"},standalone:!0,features:[yr],decls:2,vars:4,consts:[[1,"hot-toast-error-icon"]],template:function(i,r){1&i&&(Ae(0,"div",0),P(1,"\n")),2&i&&wi("--error-primary",null==r.theme?null:r.theme.primary)("--error-secondary",null==r.theme?null:r.theme.secondary)},encapsulation:2,changeDetection:0})}return n})(),oye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast-checkmark"]],inputs:{theme:"theme"},standalone:!0,features:[yr],decls:2,vars:4,consts:[[1,"hot-toast-checkmark-icon"]],template:function(i,r){1&i&&(Ae(0,"div",0),P(1,"\n")),2&i&&wi("--check-primary",null==r.theme?null:r.theme.primary)("--check-secondary",null==r.theme?null:r.theme.secondary)},encapsulation:2,changeDetection:0})}return n})(),sye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast-warning"]],inputs:{theme:"theme"},standalone:!0,features:[yr],decls:2,vars:4,consts:[[1,"hot-toast-warning-icon"]],template:function(i,r){1&i&&(Ae(0,"div",0),P(1,"\n")),2&i&&wi("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},encapsulation:2,changeDetection:0})}return n})(),aye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast-info"]],inputs:{theme:"theme"},standalone:!0,features:[yr],decls:2,vars:4,consts:[[1,"hot-toast-info-icon"]],template:function(i,r){1&i&&(Ae(0,"div",0),P(1,"\n")),2&i&&wi("--warn-primary",null==r.theme?null:r.theme.primary)("--warn-secondary",null==r.theme?null:r.theme.secondary)},encapsulation:2,changeDetection:0})}return n})(),lye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast-indicator"]],inputs:{theme:"theme",type:"type"},standalone:!0,features:[yr],decls:2,vars:1,consts:[["class","hot-toast-indicator-wrapper",4,"ngIf"],[1,"hot-toast-indicator-wrapper"],[3,"theme"],["class","hot-toast-status-wrapper",4,"ngIf"],[1,"hot-toast-status-wrapper"],[3,"ngSwitch"],[4,"ngSwitchCase"]],template:function(i,r){1&i&&(ne(0,z_e,6,2,"div",0),P(1,"\n")),2&i&&V("ngIf","blank"!==r.type)},dependencies:[No,Wr,Ah,nC,iye,rye,oye,sye,aye],encapsulation:2,changeDetection:0})}return n})(),cye=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast-animated-icon"]],inputs:{iconTheme:"iconTheme"},standalone:!0,features:[yr],ngContentSelectors:$_e,decls:5,vars:2,consts:[[1,"hot-toast-animated-icon"]],template:function(i,r){1&i&&(Vi(),A(0,"div",0),P(1,"\n  "),qe(2),P(3,"\n"),k(),P(4,"\n")),2&i&&wi("color",null==r.iconTheme?null:r.iconTheme.primary)},encapsulation:2,changeDetection:0})}return n})(),Q$=(()=>{class n{constructor(t,i,r){this.injector=t,this.renderer=i,this.ngZone=r,this.offset=0,this.height=new ve,this.beforeClosed=new ve,this.afterClosed=new ve,this.isManualClose=!1,this.unlisteners=[]}get toastBarBaseHeight(){return this.toastBarBase.nativeElement.offsetHeight}get containerPositionStyle(){const t=this.toast.position.includes("top"),i=t?{top:0}:{bottom:0},r=this.toast.position.includes("left")?{left:0}:this.toast.position.includes("right")?{right:0}:{left:0,right:0,justifyContent:"center"};return{transform:`translateY(${this.offset*(t?1:-1)}px)`,...i,...r}}get toastBarBaseStyles(){const t=this.toast.position.includes("top"),i=`hotToastEnterAnimation${t?"Negative":"Positive"} 350ms cubic-bezier(0.21, 1.02, 0.73, 1) forwards`;return{...this.toast.style,animation:this.toast.autoClose?`${i}, hotToastExitAnimation${t?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1) ${this.toast.duration}ms`:i}}get isIconString(){return"string"==typeof this.toast.icon}ngOnChanges(t){t.toast&&!t.toast.firstChange&&t.toast.currentValue?.message&&requestAnimationFrame(()=>{this.height.emit(this.toastBarBase.nativeElement.offsetHeight)})}ngOnInit(){fS(this.toast.message)&&(this.context={$implicit:this.toastRef}),Hf(this.toast.message)&&(this.toastComponentInjector=yt.create({providers:[{provide:Y$,useValue:this.toastRef}],parent:this.toast.injector||this.injector}))}ngAfterViewInit(){const t=this.toastBarBase.nativeElement;requestAnimationFrame(()=>{this.height.emit(t.offsetHeight)}),this.ngZone.runOutsideAngular(()=>{this.unlisteners.push(this.renderer.listen(t,"animationstart",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.beforeClosed.emit())}),this.renderer.listen(t,"animationend",i=>{this.isExitAnimation(i)&&this.ngZone.run(()=>this.afterClosed.emit({dismissedByAction:this.isManualClose,id:this.toast.id}))}))}),this.setToastAttributes()}close(){this.isManualClose=!0;((n,e)=>{this.toastBarBase.nativeElement.style.animation=e})(0,`hotToastExitAnimation${this.toast.position.includes("top")?"Negative":"Positive"} 800ms forwards cubic-bezier(0.06, 0.71, 0.55, 1)`)}ngOnDestroy(){for(this.close();this.unlisteners.length;)this.unlisteners.pop()()}isExitAnimation(t){return t.animationName.includes("hotToastExitAnimation")}setToastAttributes(){const t=this.toast.attributes;for(const[i,r]of Object.entries(t))this.renderer.setAttribute(this.toastBarBase.nativeElement,i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(y(yt),y(Ur),y(Q))};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast"]],viewQuery:function(i,r){if(1&i&&Nn(q_e,5),2&i){let o;Xe(o=Ze())&&(r.toastBarBase=o.first)}},inputs:{toast:"toast",offset:"offset",defaultConfig:"defaultConfig",toastRef:"toastRef"},outputs:{height:"height",beforeClosed:"beforeClosed",afterClosed:"afterClosed"},standalone:!0,features:[ii,yr],decls:25,vars:14,consts:[[1,"hot-toast-bar-base-container",3,"ngStyle","ngClass"],[1,"hot-toast-bar-base",3,"ngStyle","ngClass"],["hotToastBarBase",""],["aria-hidden","true",1,"hot-toast-icon"],[4,"ngIf","ngIfElse"],["indicator",""],[1,"hot-toast-message"],[4,"dynamicView","dynamicViewContext","dynamicViewInjector"],["type","button","class","hot-toast-close-btn","aria-label","Close",3,"ngStyle","click",4,"ngIf"],["iconTemplateOrComponent",""],[3,"iconTheme"],[4,"dynamicView"],[3,"theme","type"],["type","button","aria-label","Close",1,"hot-toast-close-btn",3,"ngStyle","click"]],template:function(i,r){if(1&i&&(A(0,"div",0),P(1,"\n  "),A(2,"div",1,2),P(4,"\n    "),A(5,"div",3),P(6,"\n      "),ne(7,Y_e,7,2,"ng-container",4),P(8,"\n\n      "),ne(9,Q_e,3,2,"ng-template",null,5,Eh),P(11,"\n    "),k(),P(12,"\n\n    "),A(13,"div",6),P(14,"\n      "),A(15,"div"),P(16,"\n        "),ne(17,X_e,1,0,"ng-container",7),P(18,"\n      "),k(),P(19,"\n    "),k(),P(20,"\n\n    "),ne(21,Z_e,1,1,"button",8),P(22,"\n  "),k(),P(23,"\n"),k(),P(24,"\n")),2&i){const o=_s(10);V("ngStyle",r.containerPositionStyle)("ngClass","hot-toast-theme-"+r.toast.theme),j(2),wi("--hot-toast-animation-state",r.isManualClose?"running":"paused"),V("ngStyle",r.toastBarBaseStyles)("ngClass",r.toast.className),Gt("aria-live",r.toast.ariaLive)("role",r.toast.role),j(5),V("ngIf",void 0!==r.toast.icon)("ngIfElse",o),j(10),V("dynamicView",r.toast.message)("dynamicViewContext",r.context)("dynamicViewInjector",r.toastComponentInjector),j(4),V("ngIf",r.toast.dismissible)}},dependencies:[No,Sh,Wr,iC,P_e,M_e,lye,cye],encapsulation:2,changeDetection:0})}return n})(),uye=(()=>{class n{constructor(t){this.cdr=t,this.toasts=[],this.toastRefs=[],this._onClosed=new te,this.onClosed$=this._onClosed.asObservable()}trackById(t,i){return i.id}calculateOffset(t,i){const r=this.toasts.filter(a=>a.visible&&a.position===i),o=r.findIndex(a=>a.id===t);return-1!==o?r.slice(...this.defaultConfig.reverseOrder?[o+1]:[0,o]).reduce((a,l)=>a+(l.height||0)+8,0):0}updateHeight(t,i){i.height=t,this.cdr.detectChanges()}addToast(t){this.toastRefs.push(t);const i=t.getToast();return this.toasts.push(t.getToast()),this.cdr.detectChanges(),{dispose:()=>{this.closeToast(i.id)},updateMessage:r=>{i.message=r,this.updateToasts(i),this.cdr.detectChanges()},updateToast:r=>{this.updateToasts(i,r),this.cdr.detectChanges()},afterClosed:this.getAfterClosed(i)}}closeToast(t){if(t){const i=this.hotToastComponentList.find(r=>r.toast.id===t);i&&i.close()}else this.hotToastComponentList.forEach(i=>i.close())}beforeClosed(t){t.visible=!1}afterClosed(t){this.toasts.findIndex(r=>r.id===t.id)>-1&&(this._onClosed.next(t),this.toasts=this.toasts.filter(r=>r.id!==t.id),this.toastRefs=this.toastRefs.filter(r=>r.getToast().id!==t.id),this.cdr.detectChanges())}hasToast(t){return this.toasts.findIndex(i=>i.id===t)>-1}getAfterClosed(t){return this.onClosed$.pipe(hn(i=>i.id===t.id))}updateToasts(t,i){this.toasts=this.toasts.map(r=>({...r,...r.id===t.id&&{...t,...i}}))}static#e=this.\u0275fac=function(i){return new(i||n)(y(or))};static#t=this.\u0275cmp=$e({type:n,selectors:[["hot-toast-container"]],viewQuery:function(i,r){if(1&i&&Nn(Q$,5),2&i){let o;Xe(o=Ze())&&(r.hotToastComponentList=o)}},inputs:{defaultConfig:"defaultConfig"},standalone:!0,features:[yr],decls:8,vars:2,consts:[[2,"position","fixed","z-index","9999","top","0","right","0","bottom","0","left","0","pointer-events","none"],[2,"position","relative","height","100%"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed",4,"ngFor","ngForOf","ngForTrackBy"],[3,"toast","offset","toastRef","height","beforeClosed","afterClosed"]],template:function(i,r){1&i&&(A(0,"div",0),P(1,"\n  "),A(2,"div",1),P(3,"\n    "),ne(4,J_e,1,3,"hot-toast",2),P(5,"\n  "),k(),P(6,"\n"),k(),P(7,"\n")),2&i&&(j(4),V("ngForOf",r.toasts)("ngForTrackBy",r.trackById))},dependencies:[No,eC,Q$],encapsulation:2,changeDetection:0})}return n})();class sv{constructor(){this.reverseOrder=!1,this.ariaLive="polite",this.role="status",this.position="top-center",this.autoClose=!0,this.theme="toast",this.attributes={},this.info={content:""},this.success={content:""},this.error={content:""},this.loading={content:""},this.blank={content:""},this.warning={content:""}}}class fye{constructor(){this.storage="local",this.key="ngneat/hototast-${id}",this.count=1,this.enabled=!1}}let pS=(()=>{class n{constructor(t,i,r){this._viewService=t,this.platformId=i,this._isInitialized=!1,this._defaultConfig=new sv,this._defaultPersistConfig=new fye,r&&(this._defaultConfig={...this._defaultConfig,...r})}get defaultConfig(){return this._defaultConfig}set defaultConfig(t){this._defaultConfig={...this._defaultConfig,...t},this._componentRef&&this._componentRef.setInput("defaultConfig",this._defaultConfig)}show(t,i){return this.createToast(t||this._defaultConfig.blank.content,"blank",{...this._defaultConfig,...i})}error(t,i){return this.createToast(t||this._defaultConfig.error.content,"error",{...this._defaultConfig,...this._defaultConfig?.error,...i})}success(t,i){return this.createToast(t||this._defaultConfig.success.content,"success",{...this._defaultConfig,...this._defaultConfig?.success,...i})}loading(t,i){return this.createToast(t||this._defaultConfig.loading.content,"loading",{...this._defaultConfig,...this._defaultConfig?.loading,...i})}warning(t,i){return this.createToast(t||this._defaultConfig.warning.content,"warning",{...this._defaultConfig,...this._defaultConfig?.warning,...i})}info(t,i){return this.createToast(t||this._defaultConfig.info.content,"info",{...this._defaultConfig,...this._defaultConfig?.info,...i})}observe(t){return i=>{let r,o=0;const s=t.loading??this._defaultConfig.loading?.content,a=t.success??this._defaultConfig.success?.content,l=t.error??this._defaultConfig.error?.content;return fT(()=>(s&&(r=this.createLoadingToast(s),o=Date.now()),i.pipe(Pt({...a&&{next:c=>{r=this.createOrUpdateToast(t,c,r,"success",0===o?o:Date.now()-o)}},...l&&{error:c=>{r=this.createOrUpdateToast(t,c,r,"error",0===o?o:Date.now()-o)}}}))))}}close(t){this._componentRef&&this._componentRef.ref.instance.closeToast(t)}init(){sC(this.platformId)||(this._componentRef=this._viewService.createComponent(uye).setInput("defaultConfig",this._defaultConfig).appendTo(document.body))}createOrUpdateToast(t,i,r,o,s){let a=null,l={};if(({content:a,options:l}=this.getContentAndOptions(o,t[o]||(this._defaultConfig[o]?this._defaultConfig[o].content:""))),a=((n,e)=>(n=>"function"==typeof n)(n)?n(e):n)(a,i),r){r.updateMessage(a);const c={type:o,duration:s+G$[o],...l,...l.duration&&{duration:s+l.duration}};r.updateToast(c)}else this.createToast(a,o,l);return r}createToast(t,i,r,o){this._isInitialized||(this._isInitialized=!0,this.init());const s=Date.now(),a=r?.id??s.toString();if(!this.isDuplicate(a)&&(!r.persist?.enabled||r.persist?.enabled&&this.handleStorageValue(a,r))){const l={ariaLive:r?.ariaLive??"polite",createdAt:s,duration:r?.duration??G$[i],id:a,message:t,role:r?.role??"status",type:i,visible:!0,observableMessages:o??void 0,...r};return new Y$(l).appendTo(this._componentRef.ref.instance)}}isDuplicate(t){return this._componentRef.ref.instance.hasToast(t)}handleStorageValue(t,i){let r=1;const o={...this._defaultPersistConfig,...i.persist},s="local"===o.storage?localStorage:sessionStorage,a=o.key.replace(/\${id}/g,t);let l=s.getItem(a);return l?(l=parseInt(l,10),r=l>0?l-1:l):r=o.count,s.setItem(a,r.toString()),r}getContentAndOptions(t,i){let r,o={...this._defaultConfig,...this._defaultConfig[t]};if("string"==typeof i||fS(i)||Hf(i))r=i;else{let s;({content:r,...s}=i),o={...o,...s}}return{content:r,options:o}}createLoadingToast(t){let i=null,r={};return({content:i,options:r}=this.getContentAndOptions("loading",t)),this.loading(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(C(W$),C(To),C(sv,8))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),pye=(()=>{class n{static forRoot(t){return{ngModule:n,providers:[{provide:sv,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();class mye extends te{constructor(e=1/0,t=1/0,i=qC){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=i,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:i,_infiniteTimeWindow:r,_timestampProvider:o,_windowTime:s}=this;t||(i.push(e),!r&&i.push(o.now()+s)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:i,_buffer:r}=this,o=r.slice();for(let s=0;s<o.length&&!e.closed;s+=i?1:2)e.next(o[s]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:i,_infiniteTimeWindow:r}=this,o=(r?1:2)*e;if(e<1/0&&o<i.length&&i.splice(0,i.length-o),!r){const s=t.now();let a=0;for(let l=1;l<i.length&&i[l]<=s;l+=2)a=l;a&&i.splice(0,a+1)}}}class _ye{constructor(e){this._box=e,this._destroyed=new te,this._resizeSubject=new te,this._elementObservables=new Map,typeof ResizeObserver<"u"&&(this._resizeObserver=new ResizeObserver(t=>this._resizeSubject.next(t)))}observe(e){return this._elementObservables.has(e)||this._elementObservables.set(e,new ze(t=>{const i=this._resizeSubject.subscribe(t);return this._resizeObserver?.observe(e,{box:this._box}),()=>{this._resizeObserver?.unobserve(e),i.unsubscribe(),this._elementObservables.delete(e)}}).pipe(hn(t=>t.some(i=>i.target===e)),function gye(n,e,t){let i,r=!1;return n&&"object"==typeof n?({bufferSize:i=1/0,windowTime:e=1/0,refCount:r=!1,scheduler:t}=n):i=n??1/0,Um({connector:()=>new mye(i,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}({bufferSize:1,refCount:!0}),tn(this._destroyed))),this._elementObservables.get(e)}destroy(){this._destroyed.next(),this._destroyed.complete(),this._resizeSubject.complete(),this._elementObservables.clear()}}let yye=(()=>{class n{constructor(){this._observers=new Map,this._ngZone=F(Q)}ngOnDestroy(){for(const[,t]of this._observers)t.destroy();this._observers.clear()}observe(t,i){const r=i?.box||"content-box";return this._observers.has(r)||this._observers.set(r,new _ye(r)),this._observers.get(r).observe(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const vye=["notch"],bye=["matFormFieldNotchedOutline",""],wye=["*"],Eye=["textField"],Iye=["iconPrefixContainer"],Cye=["textPrefixContainer"];function Tye(n,e){1&n&&Ae(0,"span",19)}function xye(n,e){if(1&n&&(A(0,"label",17),qe(1,1),ne(2,Tye,1,0,"span",18),k()),2&n){const t=ge(2);V("floating",t._shouldLabelFloat())("monitorResize",t._hasOutline())("id",t._labelId),Gt("for",t._control.id),j(2),V("ngIf",!t.hideRequiredMarker&&t._control.required)}}function Dye(n,e){1&n&&ne(0,xye,3,5,"label",16),2&n&&V("ngIf",ge()._hasFloatingLabel())}function Sye(n,e){1&n&&Ae(0,"div",20)}function Aye(n,e){}function Rye(n,e){1&n&&ne(0,Aye,0,0,"ng-template",22),2&n&&(ge(2),V("ngTemplateOutlet",_s(1)))}function Mye(n,e){if(1&n&&(A(0,"div",21),ne(1,Rye,1,1,"ng-template",9),k()),2&n){const t=ge();V("matFormFieldNotchedOutlineOpen",t._shouldLabelFloat()),j(1),V("ngIf",!t._forceDisplayInfixLabel())}}function Pye(n,e){1&n&&(A(0,"div",23,24),qe(2,2),k())}function kye(n,e){1&n&&(A(0,"div",25,26),qe(2,3),k())}function Nye(n,e){}function Oye(n,e){1&n&&ne(0,Nye,0,0,"ng-template",22),2&n&&(ge(),V("ngTemplateOutlet",_s(1)))}function Fye(n,e){1&n&&(A(0,"div",27),qe(1,4),k())}function Lye(n,e){1&n&&(A(0,"div",28),qe(1,5),k())}function Vye(n,e){1&n&&Ae(0,"div",29)}function Bye(n,e){1&n&&(A(0,"div",30),qe(1,6),k()),2&n&&V("@transitionMessages",ge()._subscriptAnimationState)}function Uye(n,e){if(1&n&&(A(0,"mat-hint",34),P(1),k()),2&n){const t=ge(2);V("id",t._hintLabelId),j(1),Pc(t.hintLabel)}}function jye(n,e){if(1&n&&(A(0,"div",31),ne(1,Uye,2,2,"mat-hint",32),qe(2,7),Ae(3,"div",33),qe(4,8),k()),2&n){const t=ge();V("@transitionMessages",t._subscriptAnimationState),j(1),V("ngIf",t.hintLabel)}}const Hye=["*",[["mat-label"]],[["","matPrefix",""],["","matIconPrefix",""]],[["","matTextPrefix",""]],[["","matTextSuffix",""]],[["","matSuffix",""],["","matIconSuffix",""]],[["mat-error"],["","matError",""]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],zye=["*","mat-label","[matPrefix], [matIconPrefix]","[matTextPrefix]","[matTextSuffix]","[matSuffix], [matIconSuffix]","mat-error, [matError]","mat-hint:not([align='end'])","mat-hint[align='end']"];let X$=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=z({type:n,selectors:[["mat-label"]]})}return n})(),$ye=0;const Z$=new S("MatError");let J$=(()=>{class n{constructor(t,i){this.id="mat-mdc-error-"+$ye++,t||i.nativeElement.setAttribute("aria-live","polite")}static#e=this.\u0275fac=function(i){return new(i||n)(Jl("aria-live"),y(Oe))};static#t=this.\u0275dir=z({type:n,selectors:[["mat-error"],["","matError",""]],hostAttrs:["aria-atomic","true",1,"mat-mdc-form-field-error","mat-mdc-form-field-bottom-align"],hostVars:1,hostBindings:function(i,r){2&i&&ph("id",r.id)},inputs:{id:"id"},features:[nt([{provide:Z$,useExisting:n}])]})}return n})(),qye=0,e4=(()=>{class n{constructor(){this.align="start",this.id="mat-mdc-hint-"+qye++}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=z({type:n,selectors:[["mat-hint"]],hostAttrs:[1,"mat-mdc-form-field-hint","mat-mdc-form-field-bottom-align"],hostVars:4,hostBindings:function(i,r){2&i&&(ph("id",r.id),Gt("align",null),Mt("mat-mdc-form-field-hint-end","end"===r.align))},inputs:{align:"align",id:"id"}})}return n})();const Wye=new S("MatPrefix"),Gye=new S("MatSuffix"),t4=new S("FloatingLabelParent");let n4=(()=>{class n{get floating(){return this._floating}set floating(t){this._floating=t,this.monitorResize&&this._handleResize()}get monitorResize(){return this._monitorResize}set monitorResize(t){this._monitorResize=t,this._monitorResize?this._subscribeToResize():this._resizeSubscription.unsubscribe()}constructor(t){this._elementRef=t,this._floating=!1,this._monitorResize=!1,this._resizeObserver=F(yye),this._ngZone=F(Q),this._parent=F(t4),this._resizeSubscription=new It}ngOnDestroy(){this._resizeSubscription.unsubscribe()}getWidth(){return function Kye(n){if(null!==n.offsetParent)return n.scrollWidth;const t=n.cloneNode(!0);t.style.setProperty("position","absolute"),t.style.setProperty("transform","translate(-9999px, -9999px)"),document.documentElement.appendChild(t);const i=t.scrollWidth;return t.remove(),i}(this._elementRef.nativeElement)}get element(){return this._elementRef.nativeElement}_handleResize(){setTimeout(()=>this._parent._handleLabelResized())}_subscribeToResize(){this._resizeSubscription.unsubscribe(),this._ngZone.runOutsideAngular(()=>{this._resizeSubscription=this._resizeObserver.observe(this._elementRef.nativeElement,{box:"border-box"}).subscribe(()=>this._handleResize())})}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe))};static#t=this.\u0275dir=z({type:n,selectors:[["label","matFormFieldFloatingLabel",""]],hostAttrs:[1,"mdc-floating-label","mat-mdc-floating-label"],hostVars:2,hostBindings:function(i,r){2&i&&Mt("mdc-floating-label--float-above",r.floating)},inputs:{floating:"floating",monitorResize:"monitorResize"}})}return n})();const i4="mdc-line-ripple--active",av="mdc-line-ripple--deactivating";let r4=(()=>{class n{constructor(t,i){this._elementRef=t,this._handleTransitionEnd=r=>{const o=this._elementRef.nativeElement.classList,s=o.contains(av);"opacity"===r.propertyName&&s&&o.remove(i4,av)},i.runOutsideAngular(()=>{t.nativeElement.addEventListener("transitionend",this._handleTransitionEnd)})}activate(){const t=this._elementRef.nativeElement.classList;t.remove(av),t.add(i4)}deactivate(){this._elementRef.nativeElement.classList.add(av)}ngOnDestroy(){this._elementRef.nativeElement.removeEventListener("transitionend",this._handleTransitionEnd)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(Q))};static#t=this.\u0275dir=z({type:n,selectors:[["div","matFormFieldLineRipple",""]],hostAttrs:[1,"mdc-line-ripple"]})}return n})(),o4=(()=>{class n{constructor(t,i){this._elementRef=t,this._ngZone=i,this.open=!1}ngAfterViewInit(){const t=this._elementRef.nativeElement.querySelector(".mdc-floating-label");t?(this._elementRef.nativeElement.classList.add("mdc-notched-outline--upgraded"),"function"==typeof requestAnimationFrame&&(t.style.transitionDuration="0s",this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>t.style.transitionDuration="")}))):this._elementRef.nativeElement.classList.add("mdc-notched-outline--no-label")}_setNotchWidth(t){this._notch.nativeElement.style.width=this.open&&t?`calc(${t}px * var(--mat-mdc-form-field-floating-label-scale, 0.75) + 9px)`:""}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(Q))};static#t=this.\u0275cmp=$e({type:n,selectors:[["div","matFormFieldNotchedOutline",""]],viewQuery:function(i,r){if(1&i&&Nn(vye,5),2&i){let o;Xe(o=Ze())&&(r._notch=o.first)}},hostAttrs:[1,"mdc-notched-outline"],hostVars:2,hostBindings:function(i,r){2&i&&Mt("mdc-notched-outline--notched",r.open)},inputs:{open:["matFormFieldNotchedOutlineOpen","open"]},attrs:bye,ngContentSelectors:wye,decls:5,vars:0,consts:[[1,"mdc-notched-outline__leading"],[1,"mdc-notched-outline__notch"],["notch",""],[1,"mdc-notched-outline__trailing"]],template:function(i,r){1&i&&(Vi(),Ae(0,"div",0),A(1,"div",1,2),qe(3),k(),Ae(4,"div",3))},encapsulation:2,changeDetection:0})}return n})();const Yye={transitionMessages:cy("transitionMessages",[Zh("enter",wr({opacity:1,transform:"translateY(0%)"})),Gc("void => enter",[wr({opacity:0,transform:"translateY(-5px)"}),Wc("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let s4=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=z({type:n})}return n})();const a4=new S("MatFormField"),Qye=new S("MAT_FORM_FIELD_DEFAULT_OPTIONS");let l4=0,mS=(()=>{class n{get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=ji(t)}get floatLabel(){return this._floatLabel||this._defaults?.floatLabel||"auto"}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t,this._changeDetectorRef.markForCheck())}get appearance(){return this._appearance}set appearance(t){const i=this._appearance;this._appearance=t||this._defaults?.appearance||"fill","outline"===this._appearance&&this._appearance!==i&&(this._needsOutlineLabelOffsetUpdateOnStable=!0)}get subscriptSizing(){return this._subscriptSizing||this._defaults?.subscriptSizing||"fixed"}set subscriptSizing(t){this._subscriptSizing=t||this._defaults?.subscriptSizing||"fixed"}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get _control(){return this._explicitFormFieldControl||this._formFieldControl}set _control(t){this._explicitFormFieldControl=t}constructor(t,i,r,o,s,a,l,c){this._elementRef=t,this._changeDetectorRef=i,this._ngZone=r,this._dir=o,this._platform=s,this._defaults=a,this._animationMode=l,this._hideRequiredMarker=!1,this.color="primary",this._appearance="fill",this._subscriptSizing=null,this._hintLabel="",this._hasIconPrefix=!1,this._hasTextPrefix=!1,this._hasIconSuffix=!1,this._hasTextSuffix=!1,this._labelId="mat-mdc-form-field-label-"+l4++,this._hintLabelId="mat-mdc-hint-"+l4++,this._subscriptAnimationState="",this._destroyed=new te,this._isFocused=null,this._needsOutlineLabelOffsetUpdateOnStable=!1,a&&(a.appearance&&(this.appearance=a.appearance),this._hideRequiredMarker=!!a?.hideRequiredMarker,a.color&&(this.color=a.color))}ngAfterViewInit(){this._updateFocusState(),this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngAfterContentInit(){this._assertFormFieldControl(),this._initializeControl(),this._initializeSubscript(),this._initializePrefixAndSuffix(),this._initializeOutlineLabelOffsetSubscriptions()}ngAfterContentChecked(){this._assertFormFieldControl()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._textField||this._elementRef}_animateAndLockLabel(){this._hasFloatingLabel()&&(this.floatLabel="always")}_initializeControl(){const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-mdc-form-field-type-${t.controlType}`),t.stateChanges.subscribe(()=>{this._updateFocusState(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(tn(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck())}_checkPrefixAndSuffixTypes(){this._hasIconPrefix=!!this._prefixChildren.find(t=>!t._isText),this._hasTextPrefix=!!this._prefixChildren.find(t=>t._isText),this._hasIconSuffix=!!this._suffixChildren.find(t=>!t._isText),this._hasTextSuffix=!!this._suffixChildren.find(t=>t._isText)}_initializePrefixAndSuffix(){this._checkPrefixAndSuffixTypes(),Ul(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._checkPrefixAndSuffixTypes(),this._changeDetectorRef.markForCheck()})}_initializeSubscript(){this._hintChildren.changes.subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._validateHints(),this._syncDescribedByIds()}_assertFormFieldControl(){}_updateFocusState(){this._control.focused&&!this._isFocused?(this._isFocused=!0,this._lineRipple?.activate()):!this._control.focused&&(this._isFocused||null===this._isFocused)&&(this._isFocused=!1,this._lineRipple?.deactivate()),this._textField?.nativeElement.classList.toggle("mdc-text-field--focused",this._control.focused)}_initializeOutlineLabelOffsetSubscriptions(){this._prefixChildren.changes.subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(tn(this._destroyed)).subscribe(()=>{this._needsOutlineLabelOffsetUpdateOnStable&&(this._needsOutlineLabelOffsetUpdateOnStable=!1,this._updateOutlineLabelOffset())})}),this._dir.change.pipe(tn(this._destroyed)).subscribe(()=>this._needsOutlineLabelOffsetUpdateOnStable=!0)}_shouldAlwaysFloat(){return"always"===this.floatLabel}_hasOutline(){return"outline"===this.appearance}_forceDisplayInfixLabel(){return!this._platform.isBrowser&&this._prefixChildren.length&&!this._shouldLabelFloat()}_hasFloatingLabel(){return!!this._labelChildNonStatic||!!this._labelChildStatic}_shouldLabelFloat(){return this._control.shouldLabelFloat||this._shouldAlwaysFloat()}_shouldForward(t){const i=this._control?this._control.ngControl:null;return i&&i[t]}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_handleLabelResized(){this._refreshOutlineNotchWidth()}_refreshOutlineNotchWidth(){this._hasOutline()&&this._floatingLabel&&this._shouldLabelFloat()?this._notchedOutline?._setNotchWidth(this._floatingLabel.getWidth()):this._notchedOutline?._setNotchWidth(0)}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const i=this._hintChildren?this._hintChildren.find(o=>"start"===o.align):null,r=this._hintChildren?this._hintChildren.find(o=>"end"===o.align):null;i?t.push(i.id):this._hintLabel&&t.push(this._hintLabelId),r&&t.push(r.id)}else this._errorChildren&&t.push(...this._errorChildren.map(i=>i.id));this._control.setDescribedByIds(t)}}_updateOutlineLabelOffset(){if(!this._platform.isBrowser||!this._hasOutline()||!this._floatingLabel)return;const t=this._floatingLabel.element;if(!this._iconPrefixContainer&&!this._textPrefixContainer)return void(t.style.transform="");if(!this._isAttachedToDom())return void(this._needsOutlineLabelOffsetUpdateOnStable=!0);const i=this._iconPrefixContainer?.nativeElement,r=this._textPrefixContainer?.nativeElement,o=i?.getBoundingClientRect().width??0,s=r?.getBoundingClientRect().width??0;t.style.transform=`var(\n        --mat-mdc-form-field-label-transform,\n        translateY(-50%) translateX(calc(${"rtl"===this._dir.value?"-1":"1"} * (${o+s}px + var(--mat-mdc-form-field-label-offset-x, 0px))))\n    )`}_isAttachedToDom(){const t=this._elementRef.nativeElement;if(t.getRootNode){const i=t.getRootNode();return i&&i!==t}return document.documentElement.contains(t)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(or),y(Q),y(Q_),y(dn),y(Qye,8),y(Br,8),y(we))};static#t=this.\u0275cmp=$e({type:n,selectors:[["mat-form-field"]],contentQueries:function(i,r,o){if(1&i&&(Bi(o,X$,5),Bi(o,X$,7),Bi(o,s4,5),Bi(o,Wye,5),Bi(o,Gye,5),Bi(o,Z$,5),Bi(o,e4,5)),2&i){let s;Xe(s=Ze())&&(r._labelChildNonStatic=s.first),Xe(s=Ze())&&(r._labelChildStatic=s.first),Xe(s=Ze())&&(r._formFieldControl=s.first),Xe(s=Ze())&&(r._prefixChildren=s),Xe(s=Ze())&&(r._suffixChildren=s),Xe(s=Ze())&&(r._errorChildren=s),Xe(s=Ze())&&(r._hintChildren=s)}},viewQuery:function(i,r){if(1&i&&(Nn(Eye,5),Nn(Iye,5),Nn(Cye,5),Nn(n4,5),Nn(o4,5),Nn(r4,5)),2&i){let o;Xe(o=Ze())&&(r._textField=o.first),Xe(o=Ze())&&(r._iconPrefixContainer=o.first),Xe(o=Ze())&&(r._textPrefixContainer=o.first),Xe(o=Ze())&&(r._floatingLabel=o.first),Xe(o=Ze())&&(r._notchedOutline=o.first),Xe(o=Ze())&&(r._lineRipple=o.first)}},hostAttrs:[1,"mat-mdc-form-field"],hostVars:42,hostBindings:function(i,r){2&i&&Mt("mat-mdc-form-field-label-always-float",r._shouldAlwaysFloat())("mat-mdc-form-field-has-icon-prefix",r._hasIconPrefix)("mat-mdc-form-field-has-icon-suffix",r._hasIconSuffix)("mat-form-field-invalid",r._control.errorState)("mat-form-field-disabled",r._control.disabled)("mat-form-field-autofilled",r._control.autofilled)("mat-form-field-no-animations","NoopAnimations"===r._animationMode)("mat-form-field-appearance-fill","fill"==r.appearance)("mat-form-field-appearance-outline","outline"==r.appearance)("mat-form-field-hide-placeholder",r._hasFloatingLabel()&&!r._shouldLabelFloat())("mat-focused",r._control.focused)("mat-primary","accent"!==r.color&&"warn"!==r.color)("mat-accent","accent"===r.color)("mat-warn","warn"===r.color)("ng-untouched",r._shouldForward("untouched"))("ng-touched",r._shouldForward("touched"))("ng-pristine",r._shouldForward("pristine"))("ng-dirty",r._shouldForward("dirty"))("ng-valid",r._shouldForward("valid"))("ng-invalid",r._shouldForward("invalid"))("ng-pending",r._shouldForward("pending"))},inputs:{hideRequiredMarker:"hideRequiredMarker",color:"color",floatLabel:"floatLabel",appearance:"appearance",subscriptSizing:"subscriptSizing",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[nt([{provide:a4,useExisting:n},{provide:t4,useExisting:n}])],ngContentSelectors:zye,decls:18,vars:23,consts:[["labelTemplate",""],[1,"mat-mdc-text-field-wrapper","mdc-text-field",3,"click"],["textField",""],["class","mat-mdc-form-field-focus-overlay",4,"ngIf"],[1,"mat-mdc-form-field-flex"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen",4,"ngIf"],["class","mat-mdc-form-field-icon-prefix",4,"ngIf"],["class","mat-mdc-form-field-text-prefix",4,"ngIf"],[1,"mat-mdc-form-field-infix"],[3,"ngIf"],["class","mat-mdc-form-field-text-suffix",4,"ngIf"],["class","mat-mdc-form-field-icon-suffix",4,"ngIf"],["matFormFieldLineRipple","",4,"ngIf"],[1,"mat-mdc-form-field-subscript-wrapper","mat-mdc-form-field-bottom-align",3,"ngSwitch"],["class","mat-mdc-form-field-error-wrapper",4,"ngSwitchCase"],["class","mat-mdc-form-field-hint-wrapper",4,"ngSwitchCase"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id",4,"ngIf"],["matFormFieldFloatingLabel","",3,"floating","monitorResize","id"],["aria-hidden","true","class","mat-mdc-form-field-required-marker mdc-floating-label--required",4,"ngIf"],["aria-hidden","true",1,"mat-mdc-form-field-required-marker","mdc-floating-label--required"],[1,"mat-mdc-form-field-focus-overlay"],["matFormFieldNotchedOutline","",3,"matFormFieldNotchedOutlineOpen"],[3,"ngTemplateOutlet"],[1,"mat-mdc-form-field-icon-prefix"],["iconPrefixContainer",""],[1,"mat-mdc-form-field-text-prefix"],["textPrefixContainer",""],[1,"mat-mdc-form-field-text-suffix"],[1,"mat-mdc-form-field-icon-suffix"],["matFormFieldLineRipple",""],[1,"mat-mdc-form-field-error-wrapper"],[1,"mat-mdc-form-field-hint-wrapper"],[3,"id",4,"ngIf"],[1,"mat-mdc-form-field-hint-spacer"],[3,"id"]],template:function(i,r){1&i&&(Vi(Hye),ne(0,Dye,1,1,"ng-template",null,0,Eh),A(2,"div",1,2),ue("click",function(s){return r._control.onContainerClick(s)}),ne(4,Sye,1,0,"div",3),A(5,"div",4),ne(6,Mye,2,2,"div",5),ne(7,Pye,3,0,"div",6),ne(8,kye,3,0,"div",7),A(9,"div",8),ne(10,Oye,1,1,"ng-template",9),qe(11),k(),ne(12,Fye,2,0,"div",10),ne(13,Lye,2,0,"div",11),k(),ne(14,Vye,1,0,"div",12),k(),A(15,"div",13),ne(16,Bye,2,1,"div",14),ne(17,jye,5,2,"div",15),k()),2&i&&(j(2),Mt("mdc-text-field--filled",!r._hasOutline())("mdc-text-field--outlined",r._hasOutline())("mdc-text-field--no-label",!r._hasFloatingLabel())("mdc-text-field--disabled",r._control.disabled)("mdc-text-field--invalid",r._control.errorState),j(2),V("ngIf",!r._hasOutline()&&!r._control.disabled),j(2),V("ngIf",r._hasOutline()),j(1),V("ngIf",r._hasIconPrefix),j(1),V("ngIf",r._hasTextPrefix),j(2),V("ngIf",!r._hasOutline()||r._forceDisplayInfixLabel()),j(2),V("ngIf",r._hasTextSuffix),j(1),V("ngIf",r._hasIconSuffix),j(1),V("ngIf",!r._hasOutline()),j(1),Mt("mat-mdc-form-field-subscript-dynamic-size","dynamic"===r.subscriptSizing),V("ngSwitch",r._getDisplayedMessages()),j(1),V("ngSwitchCase","error"),j(1),V("ngSwitchCase","hint"))},dependencies:[Wr,J2,Ah,nC,e4,n4,o4,r4],styles:['.mdc-text-field{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:0;border-bottom-left-radius:0;display:inline-flex;align-items:baseline;padding:0 16px;position:relative;box-sizing:border-box;overflow:hidden;will-change:opacity,transform,color}.mdc-text-field .mdc-floating-label{top:50%;transform:translateY(-50%);pointer-events:none}.mdc-text-field__input{height:28px;width:100%;min-width:0;border:none;border-radius:0;background:none;appearance:none;padding:0}.mdc-text-field__input::-ms-clear{display:none}.mdc-text-field__input::-webkit-calendar-picker-indicator{display:none}.mdc-text-field__input:focus{outline:none}.mdc-text-field__input:invalid{box-shadow:none}@media all{.mdc-text-field__input::placeholder{opacity:0}}@media all{.mdc-text-field__input:-ms-input-placeholder{opacity:0}}@media all{.mdc-text-field--no-label .mdc-text-field__input::placeholder,.mdc-text-field--focused .mdc-text-field__input::placeholder{opacity:1}}@media all{.mdc-text-field--no-label .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mdc-text-field__input:-ms-input-placeholder{opacity:1}}.mdc-text-field__affix{height:28px;opacity:0;white-space:nowrap}.mdc-text-field--label-floating .mdc-text-field__affix,.mdc-text-field--no-label .mdc-text-field__affix{opacity:1}@supports(-webkit-hyphens: none){.mdc-text-field--outlined .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field__affix--prefix,.mdc-text-field__affix--prefix[dir=rtl]{padding-left:2px;padding-right:0}.mdc-text-field--end-aligned .mdc-text-field__affix--prefix{padding-left:0;padding-right:12px}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--end-aligned .mdc-text-field__affix--prefix[dir=rtl]{padding-left:12px;padding-right:0}.mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field__affix--suffix,.mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:12px}.mdc-text-field--end-aligned .mdc-text-field__affix--suffix{padding-left:2px;padding-right:0}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--end-aligned .mdc-text-field__affix--suffix[dir=rtl]{padding-left:0;padding-right:2px}.mdc-text-field--filled{height:56px}.mdc-text-field--filled::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}.mdc-text-field--filled .mdc-floating-label{left:16px;right:initial}[dir=rtl] .mdc-text-field--filled .mdc-floating-label,.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:16px}.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{height:100%}.mdc-text-field--filled.mdc-text-field--no-label .mdc-floating-label{display:none}.mdc-text-field--filled.mdc-text-field--no-label::before{display:none}@supports(-webkit-hyphens: none){.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__affix{align-items:center;align-self:center;display:inline-flex;height:100%}}.mdc-text-field--outlined{height:56px;overflow:visible}.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) scale(1)}.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) scale(0.75)}.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--outlined .mdc-text-field__input{height:100%}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-shape-small, 4px))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:4px;border-top-right-radius:var(--mdc-shape-small, 4px);border-bottom-right-radius:4px;border-bottom-right-radius:var(--mdc-shape-small, 4px);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:4px;border-top-left-radius:var(--mdc-shape-small, 4px);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:4px;border-bottom-left-radius:var(--mdc-shape-small, 4px)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-shape-small, 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-shape-small, 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-shape-small, 4px))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-shape-small, 4px) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:1px}.mdc-text-field--outlined .mdc-floating-label{left:4px;right:initial}[dir=rtl] .mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:4px}.mdc-text-field--outlined .mdc-text-field__input{display:flex;border:none !important;background-color:rgba(0,0,0,0)}.mdc-text-field--outlined .mdc-notched-outline{z-index:1}.mdc-text-field--textarea{flex-direction:column;align-items:center;width:auto;height:auto;padding:0}.mdc-text-field--textarea .mdc-floating-label{top:19px}.mdc-text-field--textarea .mdc-floating-label:not(.mdc-floating-label--float-above){transform:none}.mdc-text-field--textarea .mdc-text-field__input{flex-grow:1;height:auto;min-height:1.5rem;overflow-x:hidden;overflow-y:auto;box-sizing:border-box;resize:none;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--filled::before{display:none}.mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--float-above{transform:translateY(-10.25px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--filled .mdc-text-field__input{margin-top:23px;margin-bottom:9px}.mdc-text-field--textarea.mdc-text-field--filled.mdc-text-field--no-label .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-27.25px) scale(1)}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-24.75px) scale(0.75)}.mdc-text-field--textarea.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--textarea.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-text-field__input{margin-top:16px;margin-bottom:16px}.mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label{top:18px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field__input{margin-bottom:2px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter{align-self:flex-end;padding:0 16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::after{display:inline-block;width:0;height:16px;content:"";vertical-align:-16px}.mdc-text-field--textarea.mdc-text-field--with-internal-counter .mdc-text-field-character-counter::before{display:none}.mdc-text-field__resizer{align-self:stretch;display:inline-flex;flex-direction:column;flex-grow:1;max-height:100%;max-width:100%;min-height:56px;min-width:fit-content;min-width:-moz-available;min-width:-webkit-fill-available;overflow:hidden;resize:both}.mdc-text-field--filled .mdc-text-field__resizer{transform:translateY(-1px)}.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--filled .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateY(1px)}.mdc-text-field--outlined .mdc-text-field__resizer{transform:translateX(-1px) translateY(-1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer,.mdc-text-field--outlined .mdc-text-field__resizer[dir=rtl]{transform:translateX(1px) translateY(-1px)}.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter{transform:translateX(1px) translateY(1px)}[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input,[dir=rtl] .mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter,.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field__input[dir=rtl],.mdc-text-field--outlined .mdc-text-field__resizer .mdc-text-field-character-counter[dir=rtl]{transform:translateX(-1px) translateY(1px)}.mdc-text-field--with-leading-icon{padding-left:0;padding-right:16px}[dir=rtl] .mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:16px;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px);left:48px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label[dir=rtl]{left:initial;right:48px}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label{left:36px;right:initial}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label[dir=rtl]{left:initial;right:36px}.mdc-text-field--with-leading-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{transform:translateY(-37.25px) translateX(-32px) scale(1)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-37.25px) translateX(32px) scale(1)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--float-above{font-size:.75rem}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{transform:translateY(-34.75px) translateX(-32px) scale(0.75)}[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,[dir=rtl] .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl],.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above[dir=rtl]{transform:translateY(-34.75px) translateX(32px) scale(0.75)}.mdc-text-field--with-leading-icon.mdc-text-field--outlined.mdc-notched-outline--upgraded .mdc-floating-label--float-above,.mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:1rem}.mdc-text-field--with-trailing-icon{padding-left:16px;padding-right:0}[dir=rtl] .mdc-text-field--with-trailing-icon,.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0;padding-right:16px}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 64px)}.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 64px / 0.75)}.mdc-text-field--with-trailing-icon.mdc-text-field--outlined :not(.mdc-notched-outline--notched) .mdc-notched-outline__notch{max-width:calc(100% - 60px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 96px)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon.mdc-text-field--filled .mdc-floating-label--float-above{max-width:calc(100% / 0.75 - 96px / 0.75)}.mdc-text-field-helper-line{display:flex;justify-content:space-between;box-sizing:border-box}.mdc-text-field+.mdc-text-field-helper-line{padding-right:16px;padding-left:16px}.mdc-form-field>.mdc-text-field+label{align-self:flex-start}.mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--focused .mdc-notched-outline__trailing{border-width:2px}.mdc-text-field--focused+.mdc-text-field-helper-line .mdc-text-field-helper-text:not(.mdc-text-field-helper-text--validation-msg){opacity:1}.mdc-text-field--focused.mdc-text-field--outlined .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:2px}.mdc-text-field--focused.mdc-text-field--outlined.mdc-text-field--textarea .mdc-notched-outline--notched .mdc-notched-outline__notch{padding-top:0}.mdc-text-field--invalid+.mdc-text-field-helper-line .mdc-text-field-helper-text--validation-msg{opacity:1}.mdc-text-field--disabled{pointer-events:none}@media screen and (forced-colors: active){.mdc-text-field--disabled .mdc-text-field__input{background-color:Window}.mdc-text-field--disabled .mdc-floating-label{z-index:1}}.mdc-text-field--disabled .mdc-floating-label{cursor:default}.mdc-text-field--disabled.mdc-text-field--filled .mdc-text-field__ripple{display:none}.mdc-text-field--disabled .mdc-text-field__input{pointer-events:auto}.mdc-text-field--end-aligned .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--end-aligned .mdc-text-field__input[dir=rtl]{text-align:left}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix{direction:ltr}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{padding-left:0;padding-right:2px}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{padding-left:12px;padding-right:0}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--leading,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--leading{order:1}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--suffix{order:2}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__input,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__input{order:3}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__affix--prefix{order:4}[dir=rtl] .mdc-text-field--ltr-text .mdc-text-field__icon--trailing,.mdc-text-field--ltr-text[dir=rtl] .mdc-text-field__icon--trailing{order:5}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__input,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__input{text-align:right}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--prefix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--prefix{padding-right:12px}[dir=rtl] .mdc-text-field--ltr-text.mdc-text-field--end-aligned .mdc-text-field__affix--suffix,.mdc-text-field--ltr-text.mdc-text-field--end-aligned[dir=rtl] .mdc-text-field__affix--suffix{padding-left:2px}.mdc-floating-label{position:absolute;left:0;-webkit-transform-origin:left top;transform-origin:left top;line-height:1.15rem;text-align:left;text-overflow:ellipsis;white-space:nowrap;cursor:text;overflow:hidden;will-change:transform}[dir=rtl] .mdc-floating-label,.mdc-floating-label[dir=rtl]{right:0;left:auto;-webkit-transform-origin:right top;transform-origin:right top;text-align:right}.mdc-floating-label--float-above{cursor:auto}.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after{margin-left:1px;margin-right:0px;content:"*"}[dir=rtl] .mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)::after,.mdc-floating-label--required:not(.mdc-floating-label--hide-required-marker)[dir=rtl]::after{margin-left:0;margin-right:1px}.mdc-notched-outline{display:flex;position:absolute;top:0;right:0;left:0;box-sizing:border-box;width:100%;max-width:100%;height:100%;text-align:left;pointer-events:none}[dir=rtl] .mdc-notched-outline,.mdc-notched-outline[dir=rtl]{text-align:right}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{box-sizing:border-box;height:100%;pointer-events:none}.mdc-notched-outline__trailing{flex-grow:1}.mdc-notched-outline__notch{flex:0 0 auto;width:auto}.mdc-notched-outline .mdc-floating-label{display:inline-block;position:relative;max-width:100%}.mdc-notched-outline .mdc-floating-label--float-above{text-overflow:clip}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:133.3333333333%}.mdc-notched-outline--notched .mdc-notched-outline__notch{padding-left:0;padding-right:8px;border-top:none}[dir=rtl] .mdc-notched-outline--notched .mdc-notched-outline__notch,.mdc-notched-outline--notched .mdc-notched-outline__notch[dir=rtl]{padding-left:8px;padding-right:0}.mdc-notched-outline--no-label .mdc-notched-outline__notch{display:none}.mdc-line-ripple::before,.mdc-line-ripple::after{position:absolute;bottom:0;left:0;width:100%;border-bottom-style:solid;content:""}.mdc-line-ripple::before{z-index:1}.mdc-line-ripple::after{transform:scaleX(0);opacity:0;z-index:2}.mdc-line-ripple--active::after{transform:scaleX(1);opacity:1}.mdc-line-ripple--deactivating::after{opacity:0}.mdc-floating-label--float-above{transform:translateY(-106%) scale(0.75)}.mdc-notched-outline__leading,.mdc-notched-outline__notch,.mdc-notched-outline__trailing{border-top:1px solid;border-bottom:1px solid}.mdc-notched-outline__leading{border-left:1px solid;border-right:none;width:12px}[dir=rtl] .mdc-notched-outline__leading,.mdc-notched-outline__leading[dir=rtl]{border-left:none;border-right:1px solid}.mdc-notched-outline__trailing{border-left:none;border-right:1px solid}[dir=rtl] .mdc-notched-outline__trailing,.mdc-notched-outline__trailing[dir=rtl]{border-left:1px solid;border-right:none}.mdc-notched-outline__notch{max-width:calc(100% - 12px * 2)}.mdc-line-ripple::before{border-bottom-width:1px}.mdc-line-ripple::after{border-bottom-width:2px}.mdc-text-field--filled{--mdc-filled-text-field-active-indicator-height:1px;--mdc-filled-text-field-focus-active-indicator-height:2px;--mdc-filled-text-field-container-shape:4px;border-top-left-radius:var(--mdc-filled-text-field-container-shape);border-top-right-radius:var(--mdc-filled-text-field-container-shape);border-bottom-right-radius:0;border-bottom-left-radius:0}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-caret-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-filled-text-field-error-caret-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-filled-text-field-input-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-filled-text-field-disabled-input-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-label-text-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-focus-label-text-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-disabled-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-label-text-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-filled-text-field-error-focus-label-text-color)}.mdc-text-field--filled .mdc-floating-label{font-family:var(--mdc-filled-text-field-label-text-font);font-size:var(--mdc-filled-text-field-label-text-size);font-weight:var(--mdc-filled-text-field-label-text-weight);letter-spacing:var(--mdc-filled-text-field-label-text-tracking)}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-filled-text-field-input-text-placeholder-color)}}.mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color)}.mdc-text-field--filled.mdc-text-field--disabled{background-color:var(--mdc-filled-text-field-disabled-container-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-hover-active-indicator-color)}.mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-focus-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--disabled .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-disabled-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-line-ripple::before{border-bottom-color:var(--mdc-filled-text-field-error-hover-active-indicator-color)}.mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple::after{border-bottom-color:var(--mdc-filled-text-field-error-focus-active-indicator-color)}.mdc-text-field--filled .mdc-line-ripple::before{border-bottom-width:var(--mdc-filled-text-field-active-indicator-height)}.mdc-text-field--filled .mdc-line-ripple::after{border-bottom-width:var(--mdc-filled-text-field-focus-active-indicator-height)}.mdc-text-field--outlined{--mdc-outlined-text-field-outline-width:1px;--mdc-outlined-text-field-focus-outline-width:2px;--mdc-outlined-text-field-container-shape:4px}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-caret-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-text-field__input{caret-color:var(--mdc-outlined-text-field-error-caret-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input{color:var(--mdc-outlined-text-field-input-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-text-field__input{color:var(--mdc-outlined-text-field-disabled-input-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-label-text-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-focus-label-text-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-disabled-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-label-text-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-floating-label--float-above{color:var(--mdc-outlined-text-field-error-focus-label-text-color)}.mdc-text-field--outlined .mdc-floating-label{font-family:var(--mdc-outlined-text-field-label-text-font);font-size:var(--mdc-outlined-text-field-label-text-size);font-weight:var(--mdc-outlined-text-field-label-text-weight);letter-spacing:var(--mdc-outlined-text-field-label-text-tracking)}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input::placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}@media all{.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-text-field__input:-ms-input-placeholder{color:var(--mdc-outlined-text-field-input-text-placeholder-color)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading[dir=rtl]{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__leading{width:max(12px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__notch{max-width:calc(100% - max(12px, var(--mdc-outlined-text-field-container-shape))*2)}}.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing{border-top-left-radius:0;border-top-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-right-radius:var(--mdc-outlined-text-field-container-shape);border-bottom-left-radius:0}[dir=rtl] .mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing,.mdc-text-field--outlined .mdc-notched-outline .mdc-notched-outline__trailing[dir=rtl]{border-top-left-radius:var(--mdc-outlined-text-field-container-shape);border-top-right-radius:0;border-bottom-right-radius:0;border-bottom-left-radius:var(--mdc-outlined-text-field-container-shape)}@supports(top: max(0%)){.mdc-text-field--outlined{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}@supports(top: max(0%)){.mdc-text-field--outlined+.mdc-text-field-helper-line{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-left:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-leading-icon{padding-right:max(16px, var(--mdc-outlined-text-field-container-shape))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-right:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-leading-icon,.mdc-text-field--outlined.mdc-text-field--with-leading-icon[dir=rtl]{padding-left:max(16px, var(--mdc-outlined-text-field-container-shape))}}.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-right:0}@supports(top: max(0%)){.mdc-text-field--outlined.mdc-text-field--with-trailing-icon{padding-left:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-left:0}@supports(top: max(0%)){[dir=rtl] .mdc-text-field--outlined.mdc-text-field--with-trailing-icon,.mdc-text-field--outlined.mdc-text-field--with-trailing-icon[dir=rtl]{padding-right:max(16px, calc(var(--mdc-outlined-text-field-container-shape) + 4px))}}.mdc-text-field--outlined.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:0;padding-right:0}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-hover-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-focus-outline-color)}.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--disabled .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-disabled-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled):not(.mdc-text-field--focused):hover .mdc-notched-outline .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-hover-outline-color)}.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__leading,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__notch,.mdc-text-field--outlined.mdc-text-field--invalid:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline__trailing{border-color:var(--mdc-outlined-text-field-error-focus-outline-color)}.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled) .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-outline-width)}.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__leading,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__notch,.mdc-text-field--outlined:not(.mdc-text-field--disabled).mdc-text-field--focused .mdc-notched-outline .mdc-notched-outline__trailing{border-width:var(--mdc-outlined-text-field-focus-outline-width)}.mat-mdc-form-field-textarea-control{vertical-align:middle;resize:vertical;box-sizing:border-box;height:auto;margin:0;padding:0;border:none;overflow:auto}.mat-mdc-form-field-input-control.mat-mdc-form-field-input-control{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font:inherit;letter-spacing:inherit;text-decoration:inherit;text-transform:inherit;border:none}.mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all}.mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit}.mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input,.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control{height:auto}.mat-mdc-text-field-wrapper .mat-mdc-form-field-input-control.mdc-text-field__input[type=color]{height:23px}.mat-mdc-text-field-wrapper{height:auto;flex:auto}.mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-left:0;--mat-mdc-form-field-label-offset-x: -16px}.mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-right:0}[dir=rtl] .mat-mdc-text-field-wrapper{padding-left:16px;padding-right:16px}[dir=rtl] .mat-mdc-form-field-has-icon-suffix .mat-mdc-text-field-wrapper{padding-left:0}[dir=rtl] .mat-mdc-form-field-has-icon-prefix .mat-mdc-text-field-wrapper{padding-right:0}.mat-form-field-disabled .mdc-text-field__input::placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-moz-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input::-webkit-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-form-field-disabled .mdc-text-field__input:-ms-input-placeholder{color:var(--mat-form-field-disabled-input-text-placeholder-color)}.mat-mdc-form-field-label-always-float .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms;opacity:1}.mat-mdc-text-field-wrapper .mat-mdc-form-field-infix .mat-mdc-floating-label{left:auto;right:auto}.mat-mdc-text-field-wrapper.mdc-text-field--outlined .mdc-text-field__input{display:inline-block}.mat-mdc-form-field .mat-mdc-text-field-wrapper.mdc-text-field .mdc-notched-outline__notch{padding-top:0}.mat-mdc-text-field-wrapper::before{content:none}.mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative}.mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-error-wrapper{position:absolute;top:0;left:0;right:0;padding:0 16px}.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-hint-wrapper,.mat-mdc-form-field-subscript-dynamic-size .mat-mdc-form-field-error-wrapper{position:static}.mat-mdc-form-field-bottom-align::before{content:"";display:inline-block;height:16px}.mat-mdc-form-field-bottom-align.mat-mdc-form-field-subscript-dynamic-size::before{content:unset}.mat-mdc-form-field-hint-end{order:1}.mat-mdc-form-field-hint-wrapper{display:flex}.mat-mdc-form-field-hint-spacer{flex:1 0 1em}.mat-mdc-form-field-error{display:block}.mat-mdc-form-field-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;opacity:0;pointer-events:none}select.mat-mdc-form-field-input-control{-moz-appearance:none;-webkit-appearance:none;background-color:rgba(0,0,0,0);display:inline-flex;box-sizing:border-box}select.mat-mdc-form-field-input-control:not(:disabled){cursor:pointer}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid rgba(0,0,0,0);border-right:5px solid rgba(0,0,0,0);border-top:5px solid;position:absolute;right:0;top:50%;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-infix::after{right:auto;left:0}.mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:15px}[dir=rtl] .mat-mdc-form-field-type-mat-native-select .mat-mdc-form-field-input-control{padding-right:0;padding-left:15px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-mdc-text-field-wrapper{outline:solid 1px}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-form-field-disabled .mat-mdc-text-field-wrapper{outline-color:GrayText}.cdk-high-contrast-active .mat-form-field-appearance-fill.mat-focused .mat-mdc-text-field-wrapper{outline:dashed 3px}.cdk-high-contrast-active .mat-mdc-form-field.mat-focused .mdc-notched-outline{border:dashed 3px}.mat-mdc-form-field-input-control[type=date],.mat-mdc-form-field-input-control[type=datetime],.mat-mdc-form-field-input-control[type=datetime-local],.mat-mdc-form-field-input-control[type=month],.mat-mdc-form-field-input-control[type=week],.mat-mdc-form-field-input-control[type=time]{line-height:1}.mat-mdc-form-field-input-control::-webkit-datetime-edit{line-height:1;padding:0;margin-bottom:-2px}.mat-mdc-form-field{--mat-mdc-form-field-floating-label-scale: 0.75;display:inline-flex;flex-direction:column;min-width:0;text-align:left;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-form-field-container-text-font);line-height:var(--mat-form-field-container-text-line-height);font-size:var(--mat-form-field-container-text-size);letter-spacing:var(--mat-form-field-container-text-tracking);font-weight:var(--mat-form-field-container-text-weight)}[dir=rtl] .mat-mdc-form-field{text-align:right}.mat-mdc-form-field .mdc-text-field--outlined .mdc-floating-label--float-above{font-size:calc(var(--mat-form-field-outlined-label-text-populated-size) * var(--mat-mdc-form-field-floating-label-scale))}.mat-mdc-form-field .mdc-text-field--outlined .mdc-notched-outline--upgraded .mdc-floating-label--float-above{font-size:var(--mat-form-field-outlined-label-text-populated-size)}.mat-mdc-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-mdc-text-field-wrapper{width:100%}.mat-mdc-form-field-icon-prefix,.mat-mdc-form-field-icon-suffix{align-self:center;line-height:0;pointer-events:auto;position:relative;z-index:1}.mat-mdc-form-field-icon-prefix,[dir=rtl] .mat-mdc-form-field-icon-suffix{padding:0 4px 0 0}.mat-mdc-form-field-icon-suffix,[dir=rtl] .mat-mdc-form-field-icon-prefix{padding:0 0 0 4px}.mat-mdc-form-field-icon-prefix>.mat-icon,.mat-mdc-form-field-icon-suffix>.mat-icon{padding:12px;box-sizing:content-box}.mat-mdc-form-field-subscript-wrapper .mat-icon,.mat-mdc-form-field label .mat-icon{width:1em;height:1em;font-size:inherit}.mat-mdc-form-field-infix{flex:auto;min-width:0;width:180px;position:relative;box-sizing:border-box}.mat-mdc-form-field .mdc-notched-outline__notch{margin-left:-1px;-webkit-clip-path:inset(-9em -999em -9em 1px);clip-path:inset(-9em -999em -9em 1px)}[dir=rtl] .mat-mdc-form-field .mdc-notched-outline__notch{margin-left:0;margin-right:-1px;-webkit-clip-path:inset(-9em 1px -9em -999em);clip-path:inset(-9em 1px -9em -999em)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition:opacity 67ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input::placeholder{transition-delay:40ms;transition-duration:110ms}}@media all{.mdc-text-field--no-label .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder,.mdc-text-field--focused .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input:-ms-input-placeholder{transition-delay:40ms;transition-duration:110ms}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__affix{transition:opacity 150ms 0ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled.mdc-ripple-upgraded--background-focused .mdc-text-field__ripple::before,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--filled:not(.mdc-ripple-upgraded):focus .mdc-text-field__ripple::before{transition-duration:75ms}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea{transition:none}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--filled .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-filled 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-filled{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 10.25px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--textarea.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-textarea-outlined 250ms 1}@keyframes mdc-floating-label-shake-float-above-textarea-outlined{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 24.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon{0%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - 32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}[dir=rtl] .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined .mdc-floating-label--shake,.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field--with-leading-icon.mdc-text-field--outlined[dir=rtl] .mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-text-field-outlined-leading-icon 250ms 1}@keyframes mdc-floating-label-shake-float-above-text-field-outlined-leading-icon-rtl{0%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}100%{transform:translateX(calc(0% - -32px)) translateY(calc(0% - 34.75px)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-floating-label{transition:transform 150ms cubic-bezier(0.4, 0, 0.2, 1),color 150ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-floating-label--shake{animation:mdc-floating-label-shake-float-above-standard 250ms 1}@keyframes mdc-floating-label-shake-float-above-standard{0%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}33%{animation-timing-function:cubic-bezier(0.5, 0, 0.701732, 0.495819);transform:translateX(calc(4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}66%{animation-timing-function:cubic-bezier(0.302435, 0.381352, 0.55, 0.956352);transform:translateX(calc(-4% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}100%{transform:translateX(calc(0% - 0%)) translateY(calc(0% - 106%)) scale(0.75)}}.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-line-ripple::after{transition:transform 180ms cubic-bezier(0.4, 0, 0.2, 1),opacity 180ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-notched-outline .mdc-floating-label{max-width:calc(100% + 1px)}.mdc-notched-outline--upgraded .mdc-floating-label--float-above{max-width:calc(133.3333333333% + 1px)}'],encapsulation:2,data:{animation:[Yye.transitionMessages]},changeDetection:0})}return n})(),gS=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[yn,No,VU,yn]})}return n})();const d4=Fa({passive:!0});let Jye=(()=>{class n{constructor(t,i){this._platform=t,this._ngZone=i,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return Xi;const i=Ts(t),r=this._monitoredElements.get(i);if(r)return r.subject;const o=new te,s="cdk-text-field-autofilled",a=l=>{"cdk-text-field-autofill-start"!==l.animationName||i.classList.contains(s)?"cdk-text-field-autofill-end"===l.animationName&&i.classList.contains(s)&&(i.classList.remove(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!1}))):(i.classList.add(s),this._ngZone.run(()=>o.next({target:l.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{i.addEventListener("animationstart",a,d4),i.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(i,{subject:o,unlisten:()=>{i.removeEventListener("animationstart",a,d4)}}),o}stopMonitoring(t){const i=Ts(t),r=this._monitoredElements.get(i);r&&(r.unlisten(),r.subject.complete(),i.classList.remove("cdk-text-field-autofill-monitored"),i.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(i))}ngOnDestroy(){this._monitoredElements.forEach((t,i)=>this.stopMonitoring(i))}static#e=this.\u0275fac=function(i){return new(i||n)(C(dn),C(Q))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),eve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({})}return n})();const tve=new S("MAT_INPUT_VALUE_ACCESSOR"),nve=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let ive=0;const rve=ile(class{constructor(n,e,t,i){this._defaultErrorStateMatcher=n,this._parentForm=e,this._parentFormGroup=t,this.ngControl=i,this.stateChanges=new te}});let _S=(()=>{class n extends rve{get disabled(){return this._disabled}set disabled(t){this._disabled=ji(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required??this.ngControl?.control?.hasValidator(Oo.required)??!1}set required(t){this._required=ji(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&MU().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=ji(t)}constructor(t,i,r,o,s,a,l,c,u,d){super(a,o,s,r),this._elementRef=t,this._platform=i,this._autofillMonitor=c,this._formField=d,this._uid="mat-input-"+ive++,this.focused=!1,this.stateChanges=new te,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(p=>MU().has(p)),this._iOSKeyupListener=p=>{const m=p.target;!m.value&&0===m.selectionStart&&0===m.selectionEnd&&(m.setSelectionRange(1,1),m.setSelectionRange(0,0))};const h=this._elementRef.nativeElement,f=h.nodeName.toLowerCase();this._inputValueAccessor=l||h,this._previousNativeValue=this.value,this.id=this.id,i.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",this._iOSKeyupListener)}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===f,this._isTextarea="textarea"===f,this._isInFormField=!!d,this._isNativeSelect&&(this.controlType=h.multiple?"mat-native-select-multiple":"mat-native-select")}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement),this._platform.IOS&&this._elementRef.nativeElement.removeEventListener("keyup",this._iOSKeyupListener)}ngDoCheck(){this.ngControl&&(this.updateErrorState(),null!==this.ngControl.disabled&&this.ngControl.disabled!==this.disabled&&(this.disabled=this.ngControl.disabled,this.stateChanges.next())),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t!==this.focused&&(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_dirtyCheckPlaceholder(){const t=this._getPlaceholder();if(t!==this._previousPlaceholder){const i=this._elementRef.nativeElement;this._previousPlaceholder=t,t?i.setAttribute("placeholder",t):i.removeAttribute("placeholder")}}_getPlaceholder(){return this.placeholder||null}_validateType(){nve.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,i=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&i&&i.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}_isInlineSelect(){const t=this._elementRef.nativeElement;return this._isNativeSelect&&(t.multiple||t.size>1)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(dn),y(Fo,10),y(V_,8),y(Na,8),y(ole),y(tve,10),y(Jye),y(Q),y(a4,8))};static#t=this.\u0275dir=z({type:n,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-mdc-input-element"],hostVars:18,hostBindings:function(i,r){1&i&&ue("focus",function(){return r._focusChanged(!0)})("blur",function(){return r._focusChanged(!1)})("input",function(){return r._onInput()}),2&i&&(ph("id",r.id)("disabled",r.disabled)("required",r.required),Gt("name",r.name||null)("readonly",r.readonly&&!r._isNativeSelect||null)("aria-invalid",r.empty&&r.required?null:r.errorState)("aria-required",r.required)("id",r.id),Mt("mat-input-server",r._isServer)("mat-mdc-form-field-textarea-control",r._isInFormField&&r._isTextarea)("mat-mdc-form-field-input-control",r._isInFormField)("mdc-text-field__input",r._isInFormField)("mat-mdc-native-select-inline",r._isInlineSelect()))},inputs:{disabled:"disabled",id:"id",placeholder:"placeholder",name:"name",required:"required",type:"type",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"],value:"value",readonly:"readonly"},exportAs:["matInput"],features:[nt([{provide:s4,useExisting:n}]),be,ii]})}return n})(),ove=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[yn,gS,gS,eve,yn]})}return n})();const sve=["mat-button",""],h4=[[["",8,"material-icons",3,"iconPositionEnd",""],["mat-icon",3,"iconPositionEnd",""],["","matButtonIcon","",3,"iconPositionEnd",""]],"*",[["","iconPositionEnd","",8,"material-icons"],["mat-icon","iconPositionEnd",""],["","matButtonIcon","","iconPositionEnd",""]]],f4=[".material-icons:not([iconPositionEnd]), mat-icon:not([iconPositionEnd]), [matButtonIcon]:not([iconPositionEnd])","*",".material-icons[iconPositionEnd], mat-icon[iconPositionEnd], [matButtonIcon][iconPositionEnd]"],ave=["mat-mini-fab",""],cve=[{selector:"mat-button",mdcClasses:["mdc-button","mat-mdc-button"]},{selector:"mat-flat-button",mdcClasses:["mdc-button","mdc-button--unelevated","mat-mdc-unelevated-button"]},{selector:"mat-raised-button",mdcClasses:["mdc-button","mdc-button--raised","mat-mdc-raised-button"]},{selector:"mat-stroked-button",mdcClasses:["mdc-button","mdc-button--outlined","mat-mdc-outlined-button"]},{selector:"mat-fab",mdcClasses:["mdc-fab","mat-mdc-fab"]},{selector:"mat-mini-fab",mdcClasses:["mdc-fab","mdc-fab--mini","mat-mdc-mini-fab"]},{selector:"mat-icon-button",mdcClasses:["mdc-icon-button","mat-mdc-icon-button"]}],uve=XC(ZU(JU(class{constructor(n){this._elementRef=n}})));let p4=(()=>{class n extends uve{get ripple(){return this._rippleLoader?.getRipple(this._elementRef.nativeElement)}set ripple(t){this._rippleLoader?.attachRipple(this._elementRef.nativeElement,t)}get disableRipple(){return this._disableRipple}set disableRipple(t){this._disableRipple=ji(t),this._updateRippleDisabled()}get disabled(){return this._disabled}set disabled(t){this._disabled=ji(t),this._updateRippleDisabled()}constructor(t,i,r,o){super(t),this._platform=i,this._ngZone=r,this._animationMode=o,this._focusMonitor=F(Y_),this._rippleLoader=F(ule),this._isFab=!1,this._disableRipple=!1,this._disabled=!1,this._rippleLoader?.configureRipple(this._elementRef.nativeElement,{className:"mat-mdc-button-ripple"});const s=t.nativeElement.classList;for(const a of cve)this._hasHostAttributes(a.selector)&&a.mdcClasses.forEach(l=>{s.add(l)})}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(t="program",i){t?this._focusMonitor.focusVia(this._elementRef.nativeElement,t,i):this._elementRef.nativeElement.focus(i)}_hasHostAttributes(...t){return t.some(i=>this._elementRef.nativeElement.hasAttribute(i))}_updateRippleDisabled(){this._rippleLoader?.setDisabled(this._elementRef.nativeElement,this.disableRipple||this.disabled)}static#e=this.\u0275fac=function(i){Bg()};static#t=this.\u0275dir=z({type:n,features:[be]})}return n})(),lv=(()=>{class n extends p4{constructor(t,i,r,o){super(t,i,r,o)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(dn),y(Q),y(Br,8))};static#t=this.\u0275cmp=$e({type:n,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-flat-button",""],["button","mat-stroked-button",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Gt("disabled",r.disabled||null),Mt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[be],attrs:sve,ngContentSelectors:f4,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Vi(h4),Ae(0,"span",0),qe(1),A(2,"span",1),qe(3,1),k(),qe(4,2),Ae(5,"span",2)(6,"span",3)),2&i&&Mt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity, 0);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button{position:relative;display:inline-flex;align-items:center;justify-content:center;box-sizing:border-box;min-width:64px;border:none;outline:none;line-height:inherit;user-select:none;-webkit-appearance:none;overflow:visible;vertical-align:middle;background:rgba(0,0,0,0)}.mdc-button .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-button::-moz-focus-inner{padding:0;border:0}.mdc-button:active{outline:none}.mdc-button:hover{cursor:pointer}.mdc-button:disabled{cursor:default;pointer-events:none}.mdc-button[hidden]{display:none}.mdc-button .mdc-button__icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top}[dir=rtl] .mdc-button .mdc-button__icon,.mdc-button .mdc-button__icon[dir=rtl]{margin-left:8px;margin-right:0}.mdc-button .mdc-button__progress-indicator{font-size:0;position:absolute;transform:translate(-50%, -50%);top:50%;left:50%;line-height:initial}.mdc-button .mdc-button__label{position:relative}.mdc-button .mdc-button__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    );display:none}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring{border-color:CanvasText}}.mdc-button .mdc-button__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-button .mdc-button__focus-ring::after{border-color:CanvasText}}@media screen and (forced-colors: active){.mdc-button.mdc-ripple-upgraded--background-focused .mdc-button__focus-ring,.mdc-button:not(.mdc-ripple-upgraded):focus .mdc-button__focus-ring{display:block}}.mdc-button .mdc-button__touch{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mdc-button__label+.mdc-button__icon{margin-left:8px;margin-right:0}[dir=rtl] .mdc-button__label+.mdc-button__icon,.mdc-button__label+.mdc-button__icon[dir=rtl]{margin-left:0;margin-right:8px}svg.mdc-button__icon{fill:currentColor}.mdc-button--touch{margin-top:6px;margin-bottom:6px}.mdc-button{padding:0 8px 0 8px}.mdc-button--unelevated{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--unelevated.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--unelevated.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--raised{transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);padding:0 16px 0 16px}.mdc-button--raised.mdc-button--icon-trailing{padding:0 12px 0 16px}.mdc-button--raised.mdc-button--icon-leading{padding:0 16px 0 12px}.mdc-button--outlined{border-style:solid;transition:border 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mdc-button--outlined .mdc-button__ripple{border-style:solid;border-color:rgba(0,0,0,0)}.mat-mdc-button{height:var(--mdc-text-button-container-height, 36px);border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-button:not(:disabled){color:var(--mdc-text-button-label-text-color, inherit)}.mat-mdc-button:disabled{color:var(--mdc-text-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-button .mdc-button__ripple{border-radius:var(--mdc-text-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button{height:var(--mdc-filled-button-container-height, 36px);border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-unelevated-button:not(:disabled){background-color:var(--mdc-filled-button-container-color, transparent)}.mat-mdc-unelevated-button:disabled{background-color:var(--mdc-filled-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-unelevated-button:not(:disabled){color:var(--mdc-filled-button-label-text-color, inherit)}.mat-mdc-unelevated-button:disabled{color:var(--mdc-filled-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-unelevated-button .mdc-button__ripple{border-radius:var(--mdc-filled-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button{height:var(--mdc-protected-button-container-height, 36px);border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px));box-shadow:var(--mdc-protected-button-container-elevation, 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14), 0px 1px 5px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){background-color:var(--mdc-protected-button-container-color, transparent)}.mat-mdc-raised-button:disabled{background-color:var(--mdc-protected-button-disabled-container-color, rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled){color:var(--mdc-protected-button-label-text-color, inherit)}.mat-mdc-raised-button:disabled{color:var(--mdc-protected-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-raised-button .mdc-button__ripple{border-radius:var(--mdc-protected-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-raised-button.mdc-ripple-upgraded--background-focused,.mat-mdc-raised-button:not(.mdc-ripple-upgraded):focus{box-shadow:var(--mdc-protected-button-focus-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:hover{box-shadow:var(--mdc-protected-button-hover-container-elevation, 0px 2px 4px -1px rgba(0, 0, 0, 0.2), 0px 4px 5px 0px rgba(0, 0, 0, 0.14), 0px 1px 10px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:not(:disabled):active{box-shadow:var(--mdc-protected-button-pressed-container-elevation, 0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12))}.mat-mdc-raised-button:disabled{box-shadow:var(--mdc-protected-button-disabled-container-elevation, 0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button{height:var(--mdc-outlined-button-container-height, 36px);border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px));padding:0 15px 0 15px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button:not(:disabled){color:var(--mdc-outlined-button-label-text-color, inherit)}.mat-mdc-outlined-button:disabled{color:var(--mdc-outlined-button-disabled-label-text-color, rgba(0, 0, 0, 0.38))}.mat-mdc-outlined-button .mdc-button__ripple{border-radius:var(--mdc-outlined-button-container-shape, var(--mdc-shape-small, 4px))}.mat-mdc-outlined-button:not(:disabled){border-color:var(--mdc-outlined-button-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button:disabled{border-color:var(--mdc-outlined-button-disabled-outline-color, rgba(0, 0, 0, 0.12))}.mat-mdc-outlined-button.mdc-button--icon-trailing{padding:0 11px 0 15px}.mat-mdc-outlined-button.mdc-button--icon-leading{padding:0 15px 0 11px}.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:var(--mdc-outlined-button-outline-width, 1px)}.mat-mdc-outlined-button .mdc-button__touch{left:calc(-1 * var(--mdc-outlined-button-outline-width, 1px));width:calc(100% + 2 * var(--mdc-outlined-button-outline-width, 1px))}.mat-mdc-button,.mat-mdc-unelevated-button,.mat-mdc-raised-button,.mat-mdc-outlined-button{-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple,.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-button .mat-mdc-button-ripple,.mat-mdc-unelevated-button .mat-mdc-button-ripple,.mat-mdc-raised-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-unelevated-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-raised-button .mat-mdc-button-persistent-ripple::before,.mat-mdc-outlined-button .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-button .mat-ripple-element,.mat-mdc-unelevated-button .mat-ripple-element,.mat-mdc-raised-button .mat-ripple-element,.mat-mdc-outlined-button .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-button .mdc-button__label,.mat-mdc-unelevated-button .mdc-button__label,.mat-mdc-raised-button .mdc-button__label,.mat-mdc-outlined-button .mdc-button__label{z-index:1}.mat-mdc-button .mat-mdc-focus-indicator,.mat-mdc-unelevated-button .mat-mdc-focus-indicator,.mat-mdc-raised-button .mat-mdc-focus-indicator,.mat-mdc-outlined-button .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-unelevated-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-raised-button:focus .mat-mdc-focus-indicator::before,.mat-mdc-outlined-button:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-button[disabled],.mat-mdc-unelevated-button[disabled],.mat-mdc-raised-button[disabled],.mat-mdc-outlined-button[disabled]{cursor:default;pointer-events:none}.mat-mdc-button .mat-mdc-button-touch-target,.mat-mdc-unelevated-button .mat-mdc-button-touch-target,.mat-mdc-raised-button .mat-mdc-button-touch-target,.mat-mdc-outlined-button .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:0;right:0;transform:translateY(-50%)}.mat-mdc-button._mat-animation-noopable,.mat-mdc-unelevated-button._mat-animation-noopable,.mat-mdc-raised-button._mat-animation-noopable,.mat-mdc-outlined-button._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem}[dir=rtl] .mat-mdc-button>.mat-icon,.mat-mdc-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}.mat-mdc-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-button .mdc-button__label+.mat-icon,.mat-mdc-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:0;margin-right:8px}.mat-mdc-unelevated-button>.mat-icon,.mat-mdc-raised-button>.mat-icon,.mat-mdc-outlined-button>.mat-icon{margin-left:0;margin-right:8px;display:inline-block;position:relative;vertical-align:top;font-size:1.125rem;height:1.125rem;width:1.125rem;margin-left:-4px;margin-right:8px}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:0}[dir=rtl] .mat-mdc-unelevated-button>.mat-icon,[dir=rtl] .mat-mdc-raised-button>.mat-icon,[dir=rtl] .mat-mdc-outlined-button>.mat-icon,.mat-mdc-unelevated-button>.mat-icon[dir=rtl],.mat-mdc-raised-button>.mat-icon[dir=rtl],.mat-mdc-outlined-button>.mat-icon[dir=rtl]{margin-left:8px;margin-right:-4px}.mat-mdc-unelevated-button .mdc-button__label+.mat-icon,.mat-mdc-raised-button .mdc-button__label+.mat-icon,.mat-mdc-outlined-button .mdc-button__label+.mat-icon{margin-left:8px;margin-right:-4px}[dir=rtl] .mat-mdc-unelevated-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-raised-button .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-outlined-button .mdc-button__label+.mat-icon,.mat-mdc-unelevated-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-raised-button .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-outlined-button .mdc-button__label+.mat-icon[dir=rtl]{margin-left:-4px;margin-right:8px}.mat-mdc-outlined-button .mat-mdc-button-ripple,.mat-mdc-outlined-button .mdc-button__ripple{top:-1px;left:-1px;bottom:-1px;right:-1px;border-width:-1px}.mat-mdc-unelevated-button .mat-mdc-focus-indicator::before,.mat-mdc-raised-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-outlined-button .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 3px) * -1)}',".cdk-high-contrast-active .mat-mdc-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-unelevated-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-raised-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-outlined-button:not(.mdc-button--outlined),.cdk-high-contrast-active .mat-mdc-icon-button{outline:solid 1px}"],encapsulation:2,changeDetection:0})}return n})();const hve=new S("mat-mdc-fab-default-options",{providedIn:"root",factory:m4});function m4(){return{color:"accent"}}const g4=m4();let fve=(()=>{class n extends p4{constructor(t,i,r,o,s){super(t,i,r,o),this._options=s,this._isFab=!0,this._options=this._options||g4,this.color=this.defaultColor=this._options.color||g4.color}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(dn),y(Q),y(Br,8),y(hve,8))};static#t=this.\u0275cmp=$e({type:n,selectors:[["button","mat-mini-fab",""]],hostVars:7,hostBindings:function(i,r){2&i&&(Gt("disabled",r.disabled||null),Mt("_mat-animation-noopable","NoopAnimations"===r._animationMode)("mat-unthemed",!r.color)("mat-mdc-button-base",!0))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[be],attrs:ave,ngContentSelectors:f4,decls:7,vars:4,consts:[[1,"mat-mdc-button-persistent-ripple"],[1,"mdc-button__label"],[1,"mat-mdc-focus-indicator"],[1,"mat-mdc-button-touch-target"]],template:function(i,r){1&i&&(Vi(h4),Ae(0,"span",0),qe(1),A(2,"span",1),qe(3,1),k(),qe(4,2),Ae(5,"span",2)(6,"span",3)),2&i&&Mt("mdc-button__ripple",!r._isFab)("mdc-fab__ripple",r._isFab)},styles:['.mdc-touch-target-wrapper{display:inline}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-fab{position:relative;display:inline-flex;position:relative;align-items:center;justify-content:center;box-sizing:border-box;width:56px;height:56px;padding:0;border:none;fill:currentColor;text-decoration:none;cursor:pointer;user-select:none;-moz-appearance:none;-webkit-appearance:none;overflow:visible;transition:box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1),opacity 15ms linear 30ms,transform 270ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mdc-fab .mdc-elevation-overlay{width:100%;height:100%;top:0;left:0}.mdc-fab[hidden]{display:none}.mdc-fab::-moz-focus-inner{padding:0;border:0}.mdc-fab:hover{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab.mdc-ripple-upgraded--background-focused,.mdc-fab:not(.mdc-ripple-upgraded):focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mdc-fab .mdc-fab__focus-ring{position:absolute}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{pointer-events:none;border:2px solid rgba(0,0,0,0);border-radius:6px;box-sizing:content-box;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(\n      100% + 4px\n    );width:calc(\n      100% + 4px\n    )}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring{border-color:CanvasText}}.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{content:"";border:2px solid rgba(0,0,0,0);border-radius:8px;display:block;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);height:calc(100% + 4px);width:calc(100% + 4px)}@media screen and (forced-colors: active){.mdc-fab.mdc-ripple-upgraded--background-focused .mdc-fab__focus-ring::after,.mdc-fab:not(.mdc-ripple-upgraded):focus .mdc-fab__focus-ring::after{border-color:CanvasText}}.mdc-fab:active,.mdc-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mdc-fab:active,.mdc-fab:focus{outline:none}.mdc-fab:hover{cursor:pointer}.mdc-fab>svg{width:100%}.mdc-fab--mini{width:40px;height:40px}.mdc-fab--extended{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mdc-typography-button-font-family);font-size:var(--mdc-typography-button-font-size);line-height:var(--mdc-typography-button-line-height);font-weight:var(--mdc-typography-button-font-weight);letter-spacing:var(--mdc-typography-button-letter-spacing);text-decoration:var(--mdc-typography-button-text-decoration);text-transform:var(--mdc-typography-button-text-transform);border-radius:24px;padding-left:20px;padding-right:20px;width:auto;max-width:100%;height:48px;line-height:normal}.mdc-fab--extended .mdc-fab__ripple{border-radius:24px}.mdc-fab--extended .mdc-fab__icon{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mdc-fab--extended .mdc-fab__icon,.mdc-fab--extended .mdc-fab__icon[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mdc-fab--extended .mdc-fab__label+.mdc-fab__icon,.mdc-fab--extended .mdc-fab__label+.mdc-fab__icon[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mdc-fab--touch{margin-top:4px;margin-bottom:4px;margin-right:4px;margin-left:4px}.mdc-fab--touch .mdc-fab__touch{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mdc-fab::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:1px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}@media screen and (forced-colors: active){.mdc-fab::before{border-color:CanvasText}}.mdc-fab__label{justify-content:flex-start;text-overflow:ellipsis;white-space:nowrap;overflow-x:hidden;overflow-y:visible}.mdc-fab__icon{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mdc-fab .mdc-fab__icon{display:inline-flex;align-items:center;justify-content:center}.mdc-fab--exited{transform:scale(0);opacity:0;transition:opacity 15ms linear 150ms,transform 180ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-fab--exited .mdc-fab__icon{transform:scale(0);transition:transform 135ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mat-mdc-fab,.mat-mdc-mini-fab{background-color:var(--mdc-fab-container-color);--mdc-fab-container-shape:50%;--mdc-fab-icon-size:24px}.mat-mdc-fab .mdc-fab__icon,.mat-mdc-mini-fab .mdc-fab__icon{width:var(--mdc-fab-icon-size);height:var(--mdc-fab-icon-size);font-size:var(--mdc-fab-icon-size)}.mat-mdc-fab:not(:disabled) .mdc-fab__icon,.mat-mdc-mini-fab:not(:disabled) .mdc-fab__icon{color:var(--mdc-fab-icon-color)}.mat-mdc-fab:not(.mdc-fab--extended),.mat-mdc-mini-fab:not(.mdc-fab--extended){border-radius:var(--mdc-fab-container-shape)}.mat-mdc-fab:not(.mdc-fab--extended) .mdc-fab__ripple,.mat-mdc-mini-fab:not(.mdc-fab--extended) .mdc-fab__ripple{border-radius:var(--mdc-fab-container-shape)}.mat-mdc-extended-fab{font-family:var(--mdc-extended-fab-label-text-font);font-size:var(--mdc-extended-fab-label-text-size);font-weight:var(--mdc-extended-fab-label-text-weight);letter-spacing:var(--mdc-extended-fab-label-text-tracking)}.mat-mdc-fab,.mat-mdc-mini-fab{-webkit-tap-highlight-color:rgba(0,0,0,0);box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);color:var(--mat-mdc-fab-color, inherit);flex-shrink:0}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple,.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-mdc-fab .mat-mdc-button-ripple,.mat-mdc-mini-fab .mat-mdc-button-ripple{overflow:hidden}.mat-mdc-fab .mat-mdc-button-persistent-ripple::before,.mat-mdc-mini-fab .mat-mdc-button-persistent-ripple::before{content:"";opacity:0;background-color:var(--mat-mdc-button-persistent-ripple-color)}.mat-mdc-fab .mat-ripple-element,.mat-mdc-mini-fab .mat-ripple-element{background-color:var(--mat-mdc-button-ripple-color)}.mat-mdc-fab .mdc-button__label,.mat-mdc-mini-fab .mdc-button__label{z-index:1}.mat-mdc-fab .mat-mdc-focus-indicator,.mat-mdc-mini-fab .mat-mdc-focus-indicator{top:0;left:0;right:0;bottom:0;position:absolute}.mat-mdc-fab:focus .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab:focus .mat-mdc-focus-indicator::before{content:""}.mat-mdc-fab .mat-mdc-button-touch-target,.mat-mdc-mini-fab .mat-mdc-button-touch-target{position:absolute;top:50%;height:48px;left:50%;width:48px;transform:translate(-50%, -50%)}.mat-mdc-fab._mat-animation-noopable,.mat-mdc-mini-fab._mat-animation-noopable{transition:none !important;animation:none !important}.mat-mdc-fab:hover,.mat-mdc-fab:focus,.mat-mdc-mini-fab:hover,.mat-mdc-mini-fab:focus{box-shadow:0px 5px 5px -3px rgba(0, 0, 0, 0.2), 0px 8px 10px 1px rgba(0, 0, 0, 0.14), 0px 3px 14px 2px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:active,.mat-mdc-fab:focus:active,.mat-mdc-mini-fab:active,.mat-mdc-mini-fab:focus:active{box-shadow:0px 7px 8px -4px rgba(0, 0, 0, 0.2), 0px 12px 17px 2px rgba(0, 0, 0, 0.14), 0px 5px 22px 4px rgba(0, 0, 0, 0.12)}.mat-mdc-fab[disabled],.mat-mdc-mini-fab[disabled]{cursor:default;pointer-events:none;box-shadow:0px 0px 0px 0px rgba(0, 0, 0, 0.2), 0px 0px 0px 0px rgba(0, 0, 0, 0.14), 0px 0px 0px 0px rgba(0, 0, 0, 0.12)}.mat-mdc-fab:not(.mdc-ripple-upgraded):focus::before,.mat-mdc-mini-fab:not(.mdc-ripple-upgraded):focus::before{background:rgba(0,0,0,0);opacity:1}.mat-mdc-fab .mat-icon,.mat-mdc-fab .material-icons,.mat-mdc-mini-fab .mat-icon,.mat-mdc-mini-fab .material-icons{transition:transform 180ms 90ms cubic-bezier(0, 0, 0.2, 1);fill:currentColor;will-change:transform}.mat-mdc-fab .mat-mdc-focus-indicator::before,.mat-mdc-mini-fab .mat-mdc-focus-indicator::before{margin:calc(calc(var(--mat-mdc-focus-indicator-border-width, 3px) + 2px) * -1)}.mat-mdc-extended-fab>.mat-icon,.mat-mdc-extended-fab>.material-icons{margin-left:calc(12px - 20px);margin-right:12px}[dir=rtl] .mat-mdc-extended-fab>.mat-icon,[dir=rtl] .mat-mdc-extended-fab>.material-icons,.mat-mdc-extended-fab>.mat-icon[dir=rtl],.mat-mdc-extended-fab>.material-icons[dir=rtl]{margin-left:12px;margin-right:calc(12px - 20px)}.mat-mdc-extended-fab .mdc-button__label+.mat-icon,.mat-mdc-extended-fab .mdc-button__label+.material-icons{margin-left:12px;margin-right:calc(12px - 20px)}[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.mat-icon,[dir=rtl] .mat-mdc-extended-fab .mdc-button__label+.material-icons,.mat-mdc-extended-fab .mdc-button__label+.mat-icon[dir=rtl],.mat-mdc-extended-fab .mdc-button__label+.material-icons[dir=rtl]{margin-left:calc(12px - 20px);margin-right:12px}.mat-mdc-extended-fab .mat-mdc-button-touch-target{width:100%}'],encapsulation:2,changeDetection:0})}return n})(),pve=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[yn,aj,yn]})}return n})();function mve(n,e){1&n&&(A(0,"mat-error"),P(1," Email address is required "),k())}function gve(n,e){1&n&&(A(0,"mat-error"),P(1," Please enter a valid email address "),k())}function _ve(n,e){1&n&&(A(0,"mat-error"),P(1," Password is required "),k())}let cv=(()=>{class n{constructor(t,i,r,o){this.authService=t,this.toast=i,this.router=r,this.fb=o,this.loginForm=this.fb.group({email:["",[Oo.required,Oo.email]],password:["",Oo.required]}),this.showListScreenCall=new ve,this.showSignUpScreenCall=new ve,this.noteListClicked=new ve,this.emailId=""}ngOnInit(){}get email(){return this.loginForm.get("email")}get password(){return this.loginForm.get("password")}submit(){const{email:t,password:i}=this.loginForm.value;!this.loginForm.valid||!t||!i||this.authService.login(t,i).pipe(this.toast.observe({success:"Logged in successfully",loading:"Logging in...",error:({message:r})=>`There was an error: ${r} `})).subscribe(()=>{localStorage.setItem("email",t),this.router.navigate(["/note-list"]),this.showListScreenCall.emit(!0)})}signUp(){this.showSignUpScreenCall.emit(!0)}static#e=this.\u0275fac=function(i){return new(i||n)(y(ov),y(pS),y(On),y(VC))};static#t=this.\u0275cmp=$e({type:n,selectors:[["app-login"]],outputs:{showListScreenCall:"showListScreenCall",showSignUpScreenCall:"showSignUpScreenCall",noteListClicked:"noteListClicked"},decls:16,vars:4,consts:[[1,"form-container","mat-elevation-z5",2,"text-align","center","margin-top","150px","background-color","black","color","white","border-radius","30px"],[3,"formGroup"],["matInput","","placeholder","Email address","formControlName","email",2,"border-radius","30px"],[4,"ngIf"],[2,"margin-left","10px"],["matInput","","type","password","placeholder","Password","formControlName","password",2,"border-radius","30px"],[1,"center","margin-top",2,"margin-top","10px"],["type","submit","mat-raised-button","",2,"background-color","rgb(57, 55, 55)","color","white",3,"click"],["type","submit","mat-raised-button","",2,"margin-left","10px","background-color","rgb(57, 55, 55)","color","white",3,"click"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"h1"),P(2,"Login"),k(),A(3,"form",1)(4,"mat-form-field"),Ae(5,"input",2),ne(6,mve,2,0,"mat-error",3),ne(7,gve,2,0,"mat-error",3),k(),A(8,"mat-form-field",4),Ae(9,"input",5),ne(10,_ve,2,0,"mat-error",3),k(),A(11,"div",6)(12,"button",7),ue("click",function(){return r.submit()}),P(13,"Login"),k(),A(14,"button",8),ue("click",function(){return r.signUp()}),P(15,"Sign up"),k()()()()),2&i&&(j(3),V("formGroup",r.loginForm),j(3),V("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),j(1),V("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),j(3),V("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required))},dependencies:[Wr,B_,Pa,Ph,A_,mS,J$,_S,Na,Uh,lv]})}return n})();var $,yve=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ir={},yS=yS||{},de=yve||self;function uv(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zf(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var vS="closure_uid_"+(1e9*Math.random()>>>0),bve=0;function wve(n,e,t){return n.call.apply(n.bind,arguments)}function Eve(n,e,t){if(!n)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,i),n.apply(e,r)}}return function(){return n.apply(e,arguments)}}function Wn(n,e,t){return(Wn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?wve:Eve).apply(null,arguments)}function dv(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var i=t.slice();return i.push.apply(i,arguments),n.apply(this,i)}}function wn(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(i,r,o){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[r].apply(i,s)}}function Ls(){this.s=this.s,this.o=this.o}Ls.prototype.s=!1,Ls.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function vve(n){Object.prototype.hasOwnProperty.call(n,vS)&&n[vS]||(n[vS]=++bve)}(this)},Ls.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const _4=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function bS(n){const e=n.length;if(0<e){const t=Array(e);for(let i=0;i<e;i++)t[i]=n[i];return t}return[]}function y4(n,e){for(let t=1;t<arguments.length;t++){const i=arguments[t];if(uv(i)){const r=n.length||0,o=i.length||0;n.length=r+o;for(let s=0;s<o;s++)n[r+s]=i[s]}else n.push(i)}}function Gn(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Gn.prototype.h=function(){this.defaultPrevented=!0};var Cve=function(){if(!de.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{de.addEventListener("test",()=>{},e),de.removeEventListener("test",()=>{},e)}catch{}return n}();function $f(n){return/^[\s\xa0]*$/.test(n)}function hv(){var n=de.navigator;return n&&(n=n.userAgent)?n:""}function eo(n){return-1!=hv().indexOf(n)}function wS(n){return wS[" "](n),n}wS[" "]=function(){};var IS,n,xve=eo("Opera"),hu=eo("Trident")||eo("MSIE"),v4=eo("Edge"),ES=v4||hu,b4=eo("Gecko")&&!(-1!=hv().toLowerCase().indexOf("webkit")&&!eo("Edge"))&&!(eo("Trident")||eo("MSIE"))&&!eo("Edge"),Dve=-1!=hv().toLowerCase().indexOf("webkit")&&!eo("Edge");function w4(){var n=de.document;return n?n.documentMode:void 0}e:{var CS="",TS=(n=hv(),b4?/rv:([^\);]+)(\)|;)/.exec(n):v4?/Edge\/([\d\.]+)/.exec(n):hu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Dve?/WebKit\/(\S+)/.exec(n):xve?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(TS&&(CS=TS?TS[1]:""),hu){var xS=w4();if(null!=xS&&xS>parseFloat(CS)){IS=String(xS);break e}}IS=CS}var Sve=de.document&&hu&&(w4()||parseInt(IS,10))||void 0;function qf(n,e){if(Gn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,i=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(b4){e:{try{wS(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,i?(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Ave[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&qf.$.h.call(this)}}wn(qf,Gn);var Ave={2:"touch",3:"pen",4:"mouse"};qf.prototype.h=function(){qf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Wf="closure_listenable_"+(1e6*Math.random()|0),Rve=0;function Mve(n,e,t,i,r){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!i,this.la=r,this.key=++Rve,this.fa=this.ia=!1}function fv(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function SS(n,e,t){for(const i in n)e.call(t,n[i],i,n)}function I4(n){const e={};for(const t in n)e[t]=n[t];return e}const C4="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T4(n,e){let t,i;for(let r=1;r<arguments.length;r++){for(t in i=arguments[r],i)n[t]=i[t];for(let o=0;o<C4.length;o++)t=C4[o],Object.prototype.hasOwnProperty.call(i,t)&&(n[t]=i[t])}}function pv(n){this.src=n,this.g={},this.h=0}function AS(n,e){var t=e.type;if(t in n.g){var o,i=n.g[t],r=_4(i,e);(o=0<=r)&&Array.prototype.splice.call(i,r,1),o&&(fv(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function RS(n,e,t,i){for(var r=0;r<n.length;++r){var o=n[r];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==i)return r}return-1}pv.prototype.add=function(n,e,t,i,r){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var s=RS(n,e,i,r);return-1<s?(e=n[s],t||(e.ia=!1)):((e=new Mve(e,this.src,o,!!i,r)).ia=t,n.push(e)),e};var MS="closure_lm_"+(1e6*Math.random()|0),PS={};function x4(n,e,t,i,r){if(i&&i.once)return S4(n,e,t,i,r);if(Array.isArray(e)){for(var o=0;o<e.length;o++)x4(n,e[o],t,i,r);return null}return t=FS(t),n&&n[Wf]?n.O(e,t,zf(i)?!!i.capture:!!i,r):D4(n,e,t,!1,i,r)}function D4(n,e,t,i,r,o){if(!e)throw Error("Invalid event type");var s=zf(r)?!!r.capture:!!r,a=NS(n);if(a||(n[MS]=a=new pv(n)),(t=a.add(e,t,i,s,o)).proxy)return t;if(i=function kve(){const e=Nve;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=i,i.src=n,i.listener=t,n.addEventListener)Cve||(r=s),void 0===r&&(r=!1),n.addEventListener(e.toString(),i,r);else if(n.attachEvent)n.attachEvent(R4(e.toString()),i);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(i)}return t}function S4(n,e,t,i,r){if(Array.isArray(e)){for(var o=0;o<e.length;o++)S4(n,e[o],t,i,r);return null}return t=FS(t),n&&n[Wf]?n.P(e,t,zf(i)?!!i.capture:!!i,r):D4(n,e,t,!0,i,r)}function A4(n,e,t,i,r){if(Array.isArray(e))for(var o=0;o<e.length;o++)A4(n,e[o],t,i,r);else i=zf(i)?!!i.capture:!!i,t=FS(t),n&&n[Wf]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=RS(o=n.g[e],t,i,r))&&(fv(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=NS(n))&&(e=n.g[e.toString()],n=-1,e&&(n=RS(e,t,i,r)),(t=-1<n?e[n]:null)&&kS(t))}function kS(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Wf])AS(e.i,n);else{var t=n.type,i=n.proxy;e.removeEventListener?e.removeEventListener(t,i,n.capture):e.detachEvent?e.detachEvent(R4(t),i):e.addListener&&e.removeListener&&e.removeListener(i),(t=NS(e))?(AS(t,n),0==t.h&&(t.src=null,e[MS]=null)):fv(n)}}}function R4(n){return n in PS?PS[n]:PS[n]="on"+n}function Nve(n,e){if(n.fa)n=!0;else{e=new qf(e,this);var t=n.listener,i=n.la||n.src;n.ia&&kS(n),n=t.call(i,e)}return n}function NS(n){return(n=n[MS])instanceof pv?n:null}var OS="__closure_events_fn_"+(1e9*Math.random()>>>0);function FS(n){return"function"==typeof n?n:(n[OS]||(n[OS]=function(e){return n.handleEvent(e)}),n[OS])}function En(){Ls.call(this),this.i=new pv(this),this.S=this,this.J=null}function Fn(n,e){var t,i=n.J;if(i)for(t=[];i;i=i.J)t.push(i);if(n=n.S,i=e.type||e,"string"==typeof e)e=new Gn(e,n);else if(e instanceof Gn)e.target=e.target||n;else{var r=e;T4(e=new Gn(i,n),r)}if(r=!0,t)for(var o=t.length-1;0<=o;o--){var s=e.g=t[o];r=mv(s,i,!0,e)&&r}if(r=mv(s=e.g=n,i,!0,e)&&r,r=mv(s,i,!1,e)&&r,t)for(o=0;o<t.length;o++)r=mv(s=e.g=t[o],i,!1,e)&&r}function mv(n,e,t,i){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.fa&&s.capture==t){var a=s.listener,l=s.la||s.src;s.ia&&AS(n.i,s),r=!1!==a.call(l,i)&&r}}return r&&!i.defaultPrevented}wn(En,Ls),En.prototype[Wf]=!0,En.prototype.removeEventListener=function(n,e,t,i){A4(this,n,e,t,i)},En.prototype.N=function(){if(En.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],i=0;i<t.length;i++)fv(t[i]);delete n.g[e],n.h--}}this.J=null},En.prototype.O=function(n,e,t,i){return this.i.add(String(n),e,!1,t,i)},En.prototype.P=function(n,e,t,i){return this.i.add(String(n),e,!0,t,i)};var LS=de.JSON.stringify;function Fve(){var n=VS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var M4=new class Ove{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Vve,n=>n.reset());class Vve{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Bve(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function Uve(n){de.setTimeout(()=>{throw n},0)}let Gf,Kf=!1,VS=new class Lve{constructor(){this.h=this.g=null}add(e,t){const i=M4.get();i.set(e,t),this.h?this.h.next=i:this.g=i,this.h=i}},P4=()=>{const n=de.Promise.resolve(void 0);Gf=()=>{n.then(jve)}};var jve=()=>{for(var n;n=Fve();){try{n.h.call(n.g)}catch(t){Uve(t)}var e=M4;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Kf=!1};function gv(n,e){En.call(this),this.h=n||1,this.g=e||de,this.j=Wn(this.qb,this),this.l=Date.now()}function BS(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function US(n,e,t){if("function"==typeof n)t&&(n=Wn(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Wn(n.handleEvent,n)}return 2147483647<Number(e)?-1:de.setTimeout(n,e||0)}function k4(n){n.g=US(()=>{n.g=null,n.i&&(n.i=!1,k4(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}wn(gv,En),($=gv.prototype).ga=!1,$.T=null,$.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Fn(this,"tick"),this.ga&&(BS(this),this.start()))}},$.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},$.N=function(){gv.$.N.call(this),BS(this),delete this.g};class Hve extends Ls{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:k4(this)}N(){super.N(),this.g&&(de.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yf(n){Ls.call(this),this.h=n,this.g={}}wn(Yf,Ls);var N4=[];function O4(n,e,t,i){Array.isArray(t)||(t&&(N4[0]=t.toString()),t=N4);for(var r=0;r<t.length;r++){var o=x4(e,t[r],i||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function F4(n){SS(n.g,function(e,t){this.g.hasOwnProperty(t)&&kS(e)},n),n.g={}}function _v(){this.g=!0}function fu(n,e,t,i){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Wve(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var i=t[n];if(!(2>i.length)){var r=i[1];if(Array.isArray(r)&&!(1>r.length)){var o=r[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<r.length;s++)r[s]=""}}}return LS(t)}catch{return e}}(n,t)+(i?" "+i:"")})}Yf.prototype.N=function(){Yf.$.N.call(this),F4(this)},Yf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_v.prototype.Ea=function(){this.g=!1},_v.prototype.info=function(){};var el={},L4=null;function yv(){return L4=L4||new En}function V4(n){Gn.call(this,el.Ta,n)}function Qf(n){const e=yv();Fn(e,new V4(e))}function B4(n,e){Gn.call(this,el.STAT_EVENT,n),this.stat=e}function hi(n){const e=yv();Fn(e,new B4(e,n))}function U4(n,e){Gn.call(this,el.Ua,n),this.size=e}function Xf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return de.setTimeout(function(){n()},e)}el.Ta="serverreachability",wn(V4,Gn),el.STAT_EVENT="statevent",wn(B4,Gn),el.Ua="timingevent",wn(U4,Gn);var vv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},j4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function jS(){}function z4(){}jS.prototype.h=null;var $S,Zf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function HS(){Gn.call(this,"d")}function zS(){Gn.call(this,"c")}function bv(){}function Jf(n,e,t,i){this.l=n,this.j=e,this.m=t,this.W=i||1,this.U=new Yf(this),this.P=Gve,this.V=new gv(n=ES?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new $4}function $4(){this.i=null,this.g="",this.h=!1}wn(HS,Gn),wn(zS,Gn),wn(bv,jS),bv.prototype.g=function(){return new XMLHttpRequest},bv.prototype.i=function(){return{}},$S=new bv;var Gve=45e3,qS={},wv={};function WS(n,e,t){n.L=1,n.v=Tv(Ko(e)),n.s=t,n.S=!0,q4(n,null)}function q4(n,e){n.G=Date.now(),ep(n),n.A=Ko(n.v);var t=n.A,i=n.W;Array.isArray(i)||(i=[String(i)]),t3(t.i,"t",i),n.C=0,t=n.l.J,n.h=new $4,n.g=x3(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Hve(Wn(n.Pa,n,n.g),n.O)),O4(n.U,n.g,"readystatechange",n.nb),e=n.I?I4(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Qf(),function zve(n,e,t,i,r,o){n.info(function(){if(n.g)if(o)for(var s="",a=o.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");s=2<=d.length&&"type"==d[1]?s+(u+"=")+c+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+i+") [attempt "+r+"]: "+e+"\n"+t+"\n"+s})}(n.j,n.u,n.A,n.m,n.W,n.s)}function W4(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function G4(n,e,t){let r,i=!0;for(;!n.J&&n.C<t.length;){if(r=Kve(n,t),r==wv){4==e&&(n.o=4,hi(14),i=!1),fu(n.j,n.m,null,"[Incomplete Response]");break}if(r==qS){n.o=4,hi(15),fu(n.j,n.m,t,"[Invalid Chunk]"),i=!1;break}fu(n.j,n.m,r,null),GS(n,r)}W4(n)&&r!=wv&&r!=qS&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,hi(16),i=!1),n.i=n.i&&i,i?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),eA(e),e.M=!0,hi(11))):(fu(n.j,n.m,t,"[Invalid Chunked Response]"),tl(n),tp(n))}function Kve(n,e){var t=n.C,i=e.indexOf("\n",t);return-1==i?wv:(t=Number(e.substring(t,i)),isNaN(t)?qS:(i+=1)+t>e.length?wv:(e=e.slice(i,i+t),n.C=i+t,e))}function ep(n){n.Y=Date.now()+n.P,K4(n,n.P)}function K4(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Xf(Wn(n.lb,n),e)}function Ev(n){n.B&&(de.clearTimeout(n.B),n.B=null)}function tp(n){0==n.l.H||n.J||E3(n.l,n)}function tl(n){Ev(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,BS(n.V),F4(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function GS(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||KS(t.i,n)))if(!n.K&&KS(t.i,n)&&3==t.H){try{var i=t.Ja.g.parse(e)}catch{i=null}if(Array.isArray(i)&&3==i.length){var r=i;if(0==r[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Mv(t),Av(t)}JS(t),hi(18)}}else t.Fa=r[1],0<t.Fa-t.V&&37500>r[2]&&t.G&&0==t.A&&!t.v&&(t.v=Xf(Wn(t.ib,t),6e3));if(1>=o3(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else il(t,11)}else if((n.K||t.g==n)&&Mv(t),!$f(e))for(r=t.Ja.g.parse(e),e=0;e<r.length;e++){let c=r[e];if(t.V=c[0],c=c[1],2==t.H)if("c"==c[0]){t.K=c[1],t.pa=c[2];const u=c[3];null!=u&&(t.ra=u,t.l.info("VER="+t.ra));const d=c[4];null!=d&&(t.Ga=d,t.l.info("SVER="+t.Ga));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(t.L=i=1.5*h,t.l.info("backChannelRequestTimeoutMs_="+i)),i=t;const f=n.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var o=i.i;o.g||-1==p.indexOf("spdy")&&-1==p.indexOf("quic")&&-1==p.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(YS(o,o.h),o.h=null))}if(i.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(i.Da=m,wt(i.I,i.F,m))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var s=n;if((i=t).wa=T3(i,i.J?i.pa:null,i.Y),s.K){s3(i.i,s);var a=s,l=i.L;l&&a.setTimeout(l),a.B&&(Ev(a),ep(a)),i.g=s}else b3(i);0<t.j.length&&Rv(t)}else"stop"!=c[0]&&"close"!=c[0]||il(t,7);else 3==t.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?il(t,7):ZS(t):"noop"!=c[0]&&t.h&&t.h.Aa(c),t.A=0)}Qf()}catch{}}function Y4(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(uv(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function Qve(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(uv(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const i in n)e[t++]=i;return e}}}(n),i=function Yve(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(uv(n)){for(var e=[],t=n.length,i=0;i<t;i++)e.push(n[i]);return e}for(i in e=[],t=0,n)e[t++]=n[i];return e}(n),r=i.length,o=0;o<r;o++)e.call(void 0,i[o],t&&t[o],n)}($=Jf.prototype).setTimeout=function(n){this.P=n},$.nb=function(n){n=n.target;const e=this.M;e&&3==to(n)?e.l():this.Pa(n)},$.Pa=function(n){try{if(n==this.g)e:{const u=to(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||ES||this.g&&(this.h.h||this.g.ja()||p3(this.g)))){this.J||4!=u||7==e||Qf(),Ev(this);var t=this.g.da();this.ca=t;t:if(W4(this)){var i=p3(this.g);n="";var r=i.length,o=4==to(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){tl(this),tp(this);var s="";break t}this.h.i=new de.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,n+=this.h.i.decode(i[e],{stream:o&&e==r-1});i.splice(0,r),this.h.g+=n,this.C=0,s=this.h.g}else s=this.g.ja();if(this.i=200==t,function $ve(n,e,t,i,r,o,s){n.info(function(){return"XMLHTTP RESP ("+i+") [ attempt "+r+"]: "+e+"\n"+t+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.W,u,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$f(a)){var c=a;break t}}c=null}if(!(t=c)){this.i=!1,this.o=3,hi(12),tl(this),tp(this);break e}fu(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,GS(this,t)}this.S?(G4(this,u,s),ES&&this.i&&3==u&&(O4(this.U,this.V,"tick",this.mb),this.V.start())):(fu(this.j,this.m,s,null),GS(this,s)),4==u&&tl(this),this.i&&!this.J&&(4==u?E3(this.l,this):(this.i=!1,ep(this)))}else(function pbe(n){const e={};n=(n.g&&2<=to(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let i=0;i<n.length;i++){if($f(n[i]))continue;var t=Bve(n[i]);const r=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const o=e[r]||[];e[r]=o,o.push(t)}!function Pve(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(i){return i.join(", ")})})(this.g),400==t&&0<s.indexOf("Unknown SID")?(this.o=3,hi(12)):(this.o=0,hi(13)),tl(this),tp(this)}}}catch{}},$.mb=function(){if(this.g){var n=to(this.g),e=this.g.ja();this.C<e.length&&(Ev(this),G4(this,n,e),this.i&&4!=n&&ep(this))}},$.cancel=function(){this.J=!0,tl(this)},$.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function qve(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Qf(),hi(17)),tl(this),this.o=2,tp(this)):K4(this,this.Y-n)};var Q4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nl(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof nl){this.h=n.h,Iv(this,n.j),this.s=n.s,this.g=n.g,Cv(this,n.m),this.l=n.l;var e=n.i,t=new rp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),X4(this,t),this.o=n.o}else n&&(e=String(n).match(Q4))?(this.h=!1,Iv(this,e[1]||"",!0),this.s=np(e[2]||""),this.g=np(e[3]||"",!0),Cv(this,e[4]),this.l=np(e[5]||"",!0),X4(this,e[6]||"",!0),this.o=np(e[7]||"")):(this.h=!1,this.i=new rp(null,this.h))}function Ko(n){return new nl(n)}function Iv(n,e,t){n.j=t?np(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Cv(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function X4(n,e,t){e instanceof rp?(n.i=e,function ibe(n,e){e&&!n.j&&(Vs(n),n.i=null,n.g.forEach(function(t,i){var r=i.toLowerCase();i!=r&&(J4(this,i),t3(this,r,t))},n)),n.j=e}(n.i,n.h)):(t||(e=ip(e,tbe)),n.i=new rp(e,n.h))}function wt(n,e,t){n.i.set(e,t)}function Tv(n){return wt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function np(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ip(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,Zve),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function Zve(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}nl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ip(e,Z4,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ip(e,Z4,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(ip(t,"/"==t.charAt(0)?ebe:Jve,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ip(t,nbe)),n.join("")};var Z4=/[#\/\?@]/g,Jve=/[#\?:]/g,ebe=/[#\?]/g,tbe=/[#\?@]/g,nbe=/#/g;function rp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Vs(n){n.g||(n.g=new Map,n.h=0,n.i&&function Xve(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var i=n[t].indexOf("="),r=null;if(0<=i){var o=n[t].substring(0,i);r=n[t].substring(i+1)}else o=n[t];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function J4(n,e){Vs(n),e=pu(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function e3(n,e){return Vs(n),e=pu(n,e),n.g.has(e)}function t3(n,e,t){J4(n,e),0<t.length&&(n.i=null,n.g.set(pu(n,e),bS(t)),n.h+=t.length)}function pu(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function n3(n){this.l=n||obe,n=de.PerformanceNavigationTiming?0<(n=de.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(de.g&&de.g.Ka&&de.g.Ka()&&de.g.Ka().dc),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}($=rp.prototype).add=function(n,e){Vs(this),this.i=null,n=pu(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},$.forEach=function(n,e){Vs(this),this.g.forEach(function(t,i){t.forEach(function(r){n.call(e,r,i,this)},this)},this)},$.ta=function(){Vs(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let i=0;i<e.length;i++){const r=n[i];for(let o=0;o<r.length;o++)t.push(e[i])}return t},$.Z=function(n){Vs(this);let e=[];if("string"==typeof n)e3(this,n)&&(e=e.concat(this.g.get(pu(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},$.set=function(n,e){return Vs(this),this.i=null,e3(this,n=pu(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},$.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},$.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var i=e[t];const o=encodeURIComponent(String(i)),s=this.Z(i);for(i=0;i<s.length;i++){var r=o;""!==s[i]&&(r+="="+encodeURIComponent(String(s[i]))),n.push(r)}}return this.i=n.join("&")};var obe=10;function r3(n){return!!n.h||!!n.g&&n.g.size>=n.j}function o3(n){return n.h?1:n.g?n.g.size:0}function KS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function YS(n,e){n.g?n.g.add(e):n.h=e}function s3(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function a3(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return bS(n.i)}n3.prototype.cancel=function(){if(this.i=a3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var sbe=class{stringify(n){return de.JSON.stringify(n,void 0)}parse(n){return de.JSON.parse(n,void 0)}};function abe(){this.g=new sbe}function lbe(n,e,t){const i=t||"";try{Y4(n,function(r,o){let s=r;zf(r)&&(s=LS(r)),e.push(i+o+"="+encodeURIComponent(s))})}catch(r){throw e.push(i+"type="+encodeURIComponent("_badmap")),r}}function xv(n,e,t,i,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(i)}catch{}}function op(n){this.l=n.ec||null,this.j=n.ob||!1}function Dv(n,e){En.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=QS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}wn(op,jS),op.prototype.g=function(){return new Dv(this.l,this.j)},op.prototype.i=function(n){return function(){return n}}({}),wn(Dv,En);var QS=0;function l3(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function sp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,ap(n)}function ap(n){n.onreadystatechange&&n.onreadystatechange.call(n)}($=Dv.prototype).open=function(n,e){if(this.readyState!=QS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,ap(this)},$.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||de).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},$.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,sp(this)),this.readyState=QS},$.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,ap(this)),this.g&&(this.readyState=3,ap(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof de.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;l3(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},$.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?sp(this):ap(this),3==this.readyState&&l3(this)}},$.Za=function(n){this.g&&(this.response=this.responseText=n,sp(this))},$.Ya=function(n){this.g&&(this.response=n,sp(this))},$.ka=function(){this.g&&sp(this)},$.setRequestHeader=function(n,e){this.v.append(n,e)},$.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},$.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Dv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ube=de.JSON.parse;function Ht(n){En.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=c3,this.L=this.M=!1}wn(Ht,En);var c3="",dbe=/^https?$/i,hbe=["POST","PUT"];function u3(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,d3(n),Sv(n)}function d3(n){n.F||(n.F=!0,Fn(n,"complete"),Fn(n,"error"))}function h3(n){if(n.h&&typeof yS<"u"&&(!n.C[1]||4!=to(n)||2!=n.da()))if(n.v&&4==to(n))US(n.La,0,n);else if(Fn(n,"readystatechange"),4==to(n)){n.h=!1;try{const s=n.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var i;if(i=0===s){var r=String(n.I).match(Q4)[1]||null;!r&&de.self&&de.self.location&&(r=de.self.location.protocol.slice(0,-1)),i=!dbe.test(r?r.toLowerCase():"")}t=i}if(t)Fn(n,"complete"),Fn(n,"success");else{n.m=6;try{var o=2<to(n)?n.g.statusText:""}catch{o=""}n.j=o+" ["+n.da()+"]",d3(n)}}finally{Sv(n)}}}function Sv(n,e){if(n.g){f3(n);const t=n.g,i=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||Fn(n,"ready");try{t.onreadystatechange=i}catch{}}}function f3(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(de.clearTimeout(n.A),n.A=null)}function to(n){return n.g?n.g.readyState:0}function p3(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case c3:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function m3(n){let e="";return SS(n,function(t,i){e+=i,e+=":",e+=t,e+="\r\n"}),e}function XS(n,e,t){e:{for(i in t){var i=!1;break e}i=!0}i||(t=m3(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):wt(n,e,t))}function lp(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function g3(n){this.Ga=0,this.j=[],this.l=new _v,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lp("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lp("baseRetryDelayMs",5e3,n),this.hb=lp("retryDelaySeedMs",1e4,n),this.eb=lp("forwardChannelMaxRetries",2,n),this.xa=lp("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.useFetchStreams||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new n3(n&&n.concurrentRequestLimit),this.Ja=new abe,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function ZS(n){if(_3(n),3==n.H){var e=n.W++,t=Ko(n.I);if(wt(t,"SID",n.K),wt(t,"RID",e),wt(t,"TYPE","terminate"),cp(n,t),(e=new Jf(n,n.l,e)).L=2,e.v=Tv(Ko(t)),t=!1,de.navigator&&de.navigator.sendBeacon)try{t=de.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&de.Image&&((new Image).src=e.v,t=!0),t||(e.g=x3(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ep(e)}C3(n)}function Av(n){n.g&&(eA(n),n.g.cancel(),n.g=null)}function _3(n){Av(n),n.u&&(de.clearTimeout(n.u),n.u=null),Mv(n),n.i.cancel(),n.m&&("number"==typeof n.m&&de.clearTimeout(n.m),n.m=null)}function Rv(n){if(!r3(n.i)&&!n.m){n.m=!0;var e=n.Na;Gf||P4(),Kf||(Gf(),Kf=!0),VS.add(e,n),n.C=0}}function y3(n,e){var t;t=e?e.m:n.W++;const i=Ko(n.I);wt(i,"SID",n.K),wt(i,"RID",t),wt(i,"AID",n.V),cp(n,i),n.o&&n.s&&XS(i,n.o,n.s),t=new Jf(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=v3(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),YS(n.i,t),WS(t,i,e)}function cp(n,e){n.na&&SS(n.na,function(t,i){wt(e,i,t)}),n.h&&Y4({},function(t,i){wt(e,i,t)})}function v3(n,e,t){t=Math.min(n.j.length,t);var i=n.h?Wn(n.h.Va,n.h,n):null;e:{var r=n.j;let o=-1;for(;;){const s=["count="+t];-1==o?0<t?(o=r[0].g,s.push("ofs="+o)):o=0:s.push("ofs="+o);let a=!0;for(let l=0;l<t;l++){let c=r[l].g;const u=r[l].map;if(c-=o,0>c)o=Math.max(0,r[l].g-100),a=!1;else try{lbe(u,s,"req"+c+"_")}catch{i&&i(u)}}if(a){i=s.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,i}function b3(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;Gf||P4(),Kf||(Gf(),Kf=!0),VS.add(e,n),n.A=0}}function JS(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Xf(Wn(n.Ma,n),I3(n,n.A)),n.A++,0))}function eA(n){null!=n.B&&(de.clearTimeout(n.B),n.B=null)}function w3(n){n.g=new Jf(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ko(n.wa);wt(e,"RID","rpc"),wt(e,"SID",n.K),wt(e,"AID",n.V),wt(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&wt(e,"TO",n.qa),wt(e,"TYPE","xmlhttp"),cp(n,e),n.o&&n.s&&XS(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Tv(Ko(e)),t.s=null,t.S=!0,q4(t,n)}function Mv(n){null!=n.v&&(de.clearTimeout(n.v),n.v=null)}function E3(n,e){var t=null;if(n.g==e){Mv(n),eA(n),n.g=null;var i=2}else{if(!KS(n.i,e))return;t=e.F,s3(n.i,e),i=1}if(0!=n.H)if(e.i)if(1==i){t=e.s?e.s.length:0,e=Date.now()-e.G;var r=n.C;Fn(i=yv(),new U4(i,t)),Rv(n)}else b3(n);else if(3==(r=e.o)||0==r&&0<e.ca||!(1==i&&function mbe(n,e){return!(o3(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Xf(Wn(n.Na,n,e),I3(n,n.C)),n.C++,0)))}(n,e)||2==i&&JS(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),r){case 1:il(n,5);break;case 4:il(n,10);break;case 3:il(n,6);break;default:il(n,2)}}function I3(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function il(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var i=Wn(n.pb,n);t||(t=new nl("//www.google.com/images/cleardot.gif"),de.location&&"http"==de.location.protocol||Iv(t,"https"),Tv(t)),function cbe(n,e){const t=new _v;if(de.Image){const i=new Image;i.onload=dv(xv,t,i,"TestLoadImage: loaded",!0,e),i.onerror=dv(xv,t,i,"TestLoadImage: error",!1,e),i.onabort=dv(xv,t,i,"TestLoadImage: abort",!1,e),i.ontimeout=dv(xv,t,i,"TestLoadImage: timeout",!1,e),de.setTimeout(function(){i.ontimeout&&i.ontimeout()},1e4),i.src=n}else e(!1)}(t.toString(),i)}else hi(2);n.H=0,n.h&&n.h.za(e),C3(n),_3(n)}function C3(n){if(n.H=0,n.ma=[],n.h){const e=a3(n.i);(0!=e.length||0!=n.j.length)&&(y4(n.ma,e),y4(n.ma,n.j),n.i.i.length=0,bS(n.j),n.j.length=0),n.h.ya()}}function T3(n,e,t){var i=t instanceof nl?Ko(t):new nl(t);if(""!=i.g)e&&(i.g=e+"."+i.g),Cv(i,i.m);else{var r=de.location;i=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var o=new nl(null);i&&Iv(o,i),e&&(o.g=e),r&&Cv(o,r),t&&(o.l=t),i=o}return e=n.Da,(t=n.F)&&e&&wt(i,t,e),wt(i,"VER",n.ra),cp(n,i),i}function x3(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ht(t&&n.Ha&&!n.va?new op({ob:!0}):n.va)).Oa(n.J),e}function D3(){}function Pv(){if(hu&&!(10<=Number(Sve)))throw Error("Environmental error: no available transport.")}function Hi(n,e){En.call(this),this.g=new g3(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!$f(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!$f(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new mu(this)}function S3(n){HS.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function A3(){zS.call(this),this.status=1}function mu(n){this.g=n}function Cr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function tA(n,e,t){t||(t=0);var i=Array(16);if("string"==typeof e)for(var r=0;16>r;++r)i[r]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(r=0;16>r;++r)i[r]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],s=(e=n.g[0])+(o^(t=n.g[1])&((r=n.g[2])^o))+i[0]+3614090360&4294967295;s=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=(t=(r=(o=(e=t+(s<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[1]+3905402710&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[2]+606105819&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[3]+3250441966&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[4]+4118548399&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[5]+1200080426&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[6]+2821735955&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[7]+4249261313&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[8]+1770035416&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[9]+2336552879&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[10]+4294925233&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[11]+2304563134&4294967295)<<22&4294967295|s>>>10))+((s=e+(o^t&(r^o))+i[12]+1804603682&4294967295)<<7&4294967295|s>>>25))+((s=o+(r^e&(t^r))+i[13]+4254626195&4294967295)<<12&4294967295|s>>>20))+((s=r+(t^o&(e^t))+i[14]+2792965006&4294967295)<<17&4294967295|s>>>15))+((s=t+(e^r&(o^e))+i[15]+1236535329&4294967295)<<22&4294967295|s>>>10))+((s=e+(r^o&(t^r))+i[1]+4129170786&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[6]+3225465664&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[11]+643717713&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[0]+3921069994&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[5]+3593408605&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[10]+38016083&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[15]+3634488961&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[4]+3889429448&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[9]+568446438&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[14]+3275163606&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[3]+4107603335&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[8]+1163531501&4294967295)<<20&4294967295|s>>>12))+((s=e+(r^o&(t^r))+i[13]+2850285829&4294967295)<<5&4294967295|s>>>27))+((s=o+(t^r&(e^t))+i[2]+4243563512&4294967295)<<9&4294967295|s>>>23))+((s=r+(e^t&(o^e))+i[7]+1735328473&4294967295)<<14&4294967295|s>>>18))+((s=t+(o^e&(r^o))+i[12]+2368359562&4294967295)<<20&4294967295|s>>>12))+((s=e+(t^r^o)+i[5]+4294588738&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[8]+2272392833&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[11]+1839030562&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[14]+4259657740&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[1]+2763975236&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[4]+1272893353&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[7]+4139469664&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[10]+3200236656&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[13]+681279174&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[0]+3936430074&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[3]+3572445317&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[6]+76029189&4294967295)<<23&4294967295|s>>>9))+((s=e+(t^r^o)+i[9]+3654602809&4294967295)<<4&4294967295|s>>>28))+((s=o+(e^t^r)+i[12]+3873151461&4294967295)<<11&4294967295|s>>>21))+((s=r+(o^e^t)+i[15]+530742520&4294967295)<<16&4294967295|s>>>16))+((s=t+(r^o^e)+i[2]+3299628645&4294967295)<<23&4294967295|s>>>9))+((s=e+(r^(t|~o))+i[0]+4096336452&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[7]+1126891415&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[14]+2878612391&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[5]+4237533241&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[12]+1700485571&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[3]+2399980690&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[10]+4293915773&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[1]+2240044497&4294967295)<<21&4294967295|s>>>11))+((s=e+(r^(t|~o))+i[8]+1873313359&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[15]+4264355552&4294967295)<<10&4294967295|s>>>22))+((s=r+(e^(o|~t))+i[6]+2734768916&4294967295)<<15&4294967295|s>>>17))+((s=t+(o^(r|~e))+i[13]+1309151649&4294967295)<<21&4294967295|s>>>11))+((o=(e=t+((s=e+(r^(t|~o))+i[4]+4149444226&4294967295)<<6&4294967295|s>>>26))+((s=o+(t^(e|~r))+i[11]+3174756917&4294967295)<<10&4294967295|s>>>22))^((r=o+((s=r+(e^(o|~t))+i[2]+718787259&4294967295)<<15&4294967295|s>>>17))|~e))+i[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(r+(s<<21&4294967295|s>>>11))&4294967295,n.g[2]=n.g[2]+r&4294967295,n.g[3]=n.g[3]+o&4294967295}function et(n,e){this.h=e;for(var t=[],i=!0,r=n.length-1;0<=r;r--){var o=0|n[r];i&&o==e||(t[r]=o,i=!1)}this.g=t}($=Ht.prototype).Oa=function(n){this.M=n},$.ha=function(n,e,t,i){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$S.g(),this.C=function H4(n){return n.h||(n.h=n.i())}(this.u?this.u:$S),this.g.onreadystatechange=Wn(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void u3(this,o)}if(n=t||"",t=new Map(this.headers),i)if(Object.getPrototypeOf(i)===Object.prototype)for(var r in i)t.set(r,i[r]);else{if("function"!=typeof i.keys||"function"!=typeof i.get)throw Error("Unknown input type for opt_headers: "+String(i));for(const o of i.keys())t.set(o,i.get(o))}i=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),r=de.FormData&&n instanceof de.FormData,!(0<=_4(hbe,e))||i||r||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,s]of t)this.g.setRequestHeader(o,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{f3(this),0<this.B&&((this.L=function fbe(n){return hu&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wn(this.ua,this)):this.A=US(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){u3(this,o)}},$.ua=function(){typeof yS<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Fn(this,"timeout"),this.abort(8))},$.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Fn(this,"complete"),Fn(this,"abort"),Sv(this))},$.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sv(this,!0)),Ht.$.N.call(this)},$.La=function(){this.s||(this.G||this.v||this.l?h3(this):this.kb())},$.kb=function(){h3(this)},$.isActive=function(){return!!this.g},$.da=function(){try{return 2<to(this)?this.g.status:-1}catch{return-1}},$.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},$.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ube(e)}},$.Ia=function(){return this.m},$.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},($=g3.prototype).ra=8,$.H=1,$.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const r=new Jf(this,this.l,n);let o=this.s;if(this.U&&(o?(o=I4(o),T4(o,this.U)):o=this.U),null!==this.o||this.O||(r.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var i=this.j[t];if(void 0===(i="__data__"in i.map&&"string"==typeof(i=i.map.__data__)?i.length:void 0))break;if(4096<(e+=i)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=v3(this,r,e),wt(t=Ko(this.I),"RID",n),wt(t,"CVER",22),this.F&&wt(t,"X-HTTP-Session-Id",this.F),cp(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(m3(o)))+"&"+e:this.o&&XS(t,this.o,o)),YS(this.i,r),this.bb&&wt(t,"TYPE","init"),this.P?(wt(t,"$req",e),wt(t,"SID","null"),r.aa=!0,WS(r,t,null)):WS(r,t,e),this.H=2}}else 3==this.H&&(n?y3(this,n):0==this.j.length||r3(this.i)||y3(this))},$.Ma=function(){if(this.u=null,w3(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Xf(Wn(this.jb,this),n)}},$.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,hi(10),Av(this),w3(this))},$.ib=function(){null!=this.v&&(this.v=null,Av(this),JS(this),hi(19))},$.pb=function(n){n?(this.l.info("Successfully pinged google.com"),hi(2)):(this.l.info("Failed to ping google.com"),hi(1))},$.isActive=function(){return!!this.h&&this.h.isActive(this)},($=D3.prototype).Ba=function(){},$.Aa=function(){},$.za=function(){},$.ya=function(){},$.isActive=function(){return!0},$.Va=function(){},Pv.prototype.g=function(n,e){return new Hi(n,e)},wn(Hi,En),Hi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;hi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=T3(n,null,n.Y),Rv(n)},Hi.prototype.close=function(){ZS(this.g)},Hi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=LS(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Rv(e)},Hi.prototype.N=function(){this.g.h=null,delete this.j,ZS(this.g),delete this.g,Hi.$.N.call(this)},wn(S3,HS),wn(A3,zS),wn(mu,D3),mu.prototype.Ba=function(){Fn(this.g,"a")},mu.prototype.Aa=function(n){Fn(this.g,new S3(n))},mu.prototype.za=function(n){Fn(this.g,new A3)},mu.prototype.ya=function(){Fn(this.g,"b")},wn(Cr,function gbe(){this.blockSize=-1}),Cr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Cr.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,i=this.m,r=this.h,o=0;o<e;){if(0==r)for(;o<=t;)tA(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(i[r++]=n.charCodeAt(o++),r==this.blockSize){tA(this,i),r=0;break}}else for(;o<e;)if(i[r++]=n[o++],r==this.blockSize){tA(this,i),r=0;break}}this.h=r,this.i+=e},Cr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var i=0;32>i;i+=8)n[t++]=this.g[e]>>>i&255;return n};var _be={};function nA(n){return-128<=n&&128>n?function Tve(n,e){var t=_be;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new et([0|e],0>e?-1:0)}):new et([0|n],0>n?-1:0)}function no(n){if(isNaN(n)||!isFinite(n))return gu;if(0>n)return Ln(no(-n));for(var e=[],t=1,i=0;n>=t;i++)e[i]=n/t|0,t*=iA;return new et(e,0)}var iA=4294967296,gu=nA(0),rA=nA(1),M3=nA(16777216);function Yo(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function cr(n){return-1==n.h}function Ln(n){for(var e=n.g.length,t=[],i=0;i<e;i++)t[i]=~n.g[i];return new et(t,~n.h).add(rA)}function kv(n,e){return n.add(Ln(e))}function Nv(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function up(n,e){this.g=n,this.h=e}function Ov(n,e){if(Yo(e))throw Error("division by zero");if(Yo(n))return new up(gu,gu);if(cr(n))return e=Ov(Ln(n),e),new up(Ln(e.g),Ln(e.h));if(cr(e))return e=Ov(n,Ln(e)),new up(Ln(e.g),e.h);if(30<n.g.length){if(cr(n)||cr(e))throw Error("slowDivide_ only works with positive integers.");for(var t=rA,i=e;0>=i.X(n);)t=P3(t),i=P3(i);var r=_u(t,1),o=_u(i,1);for(i=_u(i,2),t=_u(t,2);!Yo(i);){var s=o.add(i);0>=s.X(n)&&(r=r.add(t),o=s),i=_u(i,1),t=_u(t,1)}return e=kv(n,r.R(e)),new up(r,e)}for(r=gu;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),i=48>=(i=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,i-48),s=(o=no(t)).R(e);cr(s)||0<s.X(n);)s=(o=no(t-=i)).R(e);Yo(o)&&(o=rA),r=r.add(o),n=kv(n,s)}return new up(r,n)}function P3(n){for(var e=n.g.length+1,t=[],i=0;i<e;i++)t[i]=n.D(i)<<1|n.D(i-1)>>>31;return new et(t,n.h)}function _u(n,e){var t=e>>5;e%=32;for(var i=n.g.length-t,r=[],o=0;o<i;o++)r[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new et(r,n.h)}($=et.prototype).ea=function(){if(cr(this))return-Ln(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var i=this.D(t);n+=(0<=i?i:iA+i)*e,e*=iA}return n},$.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Yo(this))return"0";if(cr(this))return"-"+Ln(this).toString(n);for(var e=no(Math.pow(n,6)),t=this,i="";;){var r=Ov(t,e).g,o=((0<(t=kv(t,r.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Yo(t=r))return o+i;for(;6>o.length;)o="0"+o;i=o+i}},$.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},$.X=function(n){return cr(n=kv(this,n))?-1:Yo(n)?0:1},$.abs=function(){return cr(this)?Ln(this):this},$.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0,r=0;r<=e;r++){var o=i+(65535&this.D(r))+(65535&n.D(r)),s=(o>>>16)+(this.D(r)>>>16)+(n.D(r)>>>16);i=s>>>16,t[r]=(s&=65535)<<16|(o&=65535)}return new et(t,-2147483648&t[t.length-1]?-1:0)},$.R=function(n){if(Yo(this)||Yo(n))return gu;if(cr(this))return cr(n)?Ln(this).R(Ln(n)):Ln(Ln(this).R(n));if(cr(n))return Ln(this.R(Ln(n)));if(0>this.X(M3)&&0>n.X(M3))return no(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],i=0;i<2*e;i++)t[i]=0;for(i=0;i<this.g.length;i++)for(var r=0;r<n.g.length;r++){var o=this.D(i)>>>16,s=65535&this.D(i),a=n.D(r)>>>16,l=65535&n.D(r);t[2*i+2*r]+=s*l,Nv(t,2*i+2*r),t[2*i+2*r+1]+=o*l,Nv(t,2*i+2*r+1),t[2*i+2*r+1]+=s*a,Nv(t,2*i+2*r+1),t[2*i+2*r+2]+=o*a,Nv(t,2*i+2*r+2)}for(i=0;i<e;i++)t[i]=t[2*i+1]<<16|t[2*i];for(i=e;i<2*e;i++)t[i]=0;return new et(t,0)},$.gb=function(n){return Ov(this,n).h},$.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)&n.D(i);return new et(t,this.h&n.h)},$.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)|n.D(i);return new et(t,this.h|n.h)},$.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],i=0;i<e;i++)t[i]=this.D(i)^n.D(i);return new et(t,this.h^n.h)},Pv.prototype.createWebChannel=Pv.prototype.g,Hi.prototype.send=Hi.prototype.u,Hi.prototype.open=Hi.prototype.m,Hi.prototype.close=Hi.prototype.close,vv.NO_ERROR=0,vv.TIMEOUT=8,vv.HTTP_ERROR=6,j4.COMPLETE="complete",z4.EventType=Zf,Zf.OPEN="a",Zf.CLOSE="b",Zf.ERROR="c",Zf.MESSAGE="d",En.prototype.listen=En.prototype.O,Ht.prototype.listenOnce=Ht.prototype.P,Ht.prototype.getLastError=Ht.prototype.Sa,Ht.prototype.getLastErrorCode=Ht.prototype.Ia,Ht.prototype.getStatus=Ht.prototype.da,Ht.prototype.getResponseJson=Ht.prototype.Wa,Ht.prototype.getResponseText=Ht.prototype.ja,Ht.prototype.send=Ht.prototype.ha,Ht.prototype.setWithCredentials=Ht.prototype.Oa,Cr.prototype.digest=Cr.prototype.l,Cr.prototype.reset=Cr.prototype.reset,Cr.prototype.update=Cr.prototype.j,et.prototype.add=et.prototype.add,et.prototype.multiply=et.prototype.R,et.prototype.modulo=et.prototype.gb,et.prototype.compare=et.prototype.X,et.prototype.toNumber=et.prototype.ea,et.prototype.toString=et.prototype.toString,et.prototype.getBits=et.prototype.D,et.fromNumber=no,et.fromString=function R3(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return Ln(R3(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=no(Math.pow(e,8)),i=gu,r=0;r<n.length;r+=8){var o=Math.min(8,n.length-r),s=parseInt(n.substring(r,r+o),e);8>o?(o=no(Math.pow(e,o)),i=i.R(o).add(no(s))):i=(i=i.R(t)).add(no(s))}return i};var ybe=Ir.createWebChannelTransport=function(){return new Pv},vbe=Ir.getStatEventTarget=function(){return yv()},oA=Ir.ErrorCode=vv,bbe=Ir.EventType=j4,wbe=Ir.Event=el,k3=Ir.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ebe=Ir.FetchXmlHttpFactory=op,Fv=Ir.WebChannel=z4,Ibe=Ir.XhrIo=Ht,Cbe=Ir.Md5=Cr,yu=Ir.Integer=et;const N3="@firebase/firestore";class In{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");let vu="10.5.2";const Bs=new Fy("@firebase/firestore");function bu(){return Bs.logLevel}function R(n,...e){if(Bs.logLevel<=Re.DEBUG){const t=e.map(sA);Bs.debug(`Firestore (${vu}): ${n}`,...t)}}function Qt(n,...e){if(Bs.logLevel<=Re.ERROR){const t=e.map(sA);Bs.error(`Firestore (${vu}): ${n}`,...t)}}function zi(n,...e){if(Bs.logLevel<=Re.WARN){const t=e.map(sA);Bs.warn(`Firestore (${vu}): ${n}`,...t)}}function sA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function G(n="Unexpected state"){const e=`FIRESTORE (${vu}) INTERNAL ASSERTION FAILED: `+n;throw Qt(e),new Error(e)}function Y(n,e){n||G()}function U(n,e){return n}const I={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class M extends Qr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class pn{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class O3{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Tbe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(In.UNAUTHENTICATED))}shutdown(){}}class xbe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Dbe{constructor(e){this.t=e,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var i=this;let r=this.i;const o=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve();let s=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pn,e.enqueueRetryable(()=>o(this.currentUser))};const a=()=>{const c=s;e.enqueueRetryable(v(function*(){yield c.promise,yield o(i.currentUser)}))},l=c=>{R("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(R("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pn)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(R("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Y("string"==typeof i.accessToken),new O3(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Y(null===e||"string"==typeof e),new In(e)}}class Sbe{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Abe{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Sbe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class F3{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rbe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const i=o=>{null!=o.error&&R("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,R("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>i(o))};const r=o=>{R("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>r(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?r(o):R("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Y("string"==typeof t.token),this.R=t.token,new F3(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Mbe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}class L3{static newId(){const t=62*Math.floor(256/62);let i="";for(;i.length<20;){const r=Mbe(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<t&&(i+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(r[o]%62))}return i}}function ae(n,e){return n<e?-1:n>e?1:0}function wu(n,e,t){return n.length===e.length&&n.every((i,r)=>t(i,e[r]))}class kt{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new M(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new M(I.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new M(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new M(I.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return kt.fromMillis(Date.now())}static fromDate(e){return kt.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new kt(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class X{constructor(e){this.timestamp=e}static fromTimestamp(e){return new X(e)}static min(){return new X(new kt(0,0))}static max(){return new X(new kt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dp{constructor(e,t,i){void 0===t?t=0:t>e.length&&G(),void 0===i?i=e.length-t:i>e.length-t&&G(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return 0===dp.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dp?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let r=0;r<i;r++){const o=e.get(r),s=t.get(r);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ve extends dp{construct(e,t,i){return new Ve(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new M(I.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(r=>r.length>0))}return new Ve(t)}static emptyPath(){return new Ve([])}}const Pbe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class xt extends dp{construct(e,t,i){return new xt(e,t,i)}static isValidIdentifier(e){return Pbe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),xt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new xt(["__name__"])}static fromServerFormat(e){const t=[];let i="",r=0;const o=()=>{if(0===i.length)throw new M(I.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let s=!1;for(;r<e.length;){const a=e[r];if("\\"===a){if(r+1===e.length)throw new M(I.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new M(I.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else"`"===a?(s=!s,r++):"."!==a||s?(i+=a,r++):(o(),r++)}if(o(),s)throw new M(I.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new xt(t)}static emptyPath(){return new xt([])}}class H{constructor(e){this.path=e}static fromPath(e){return new H(Ve.fromString(e))}static fromName(e){return new H(Ve.fromString(e).popFirst(5))}static empty(){return new H(Ve.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ve.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ve.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new H(new Ve(e.slice()))}}function U3(n){return new $i(n.readTime,n.key,-1)}class $i{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new $i(X.min(),H.empty(),-1)}static max(){return new $i(X.max(),H.empty(),-1)}}function lA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=H.comparator(n.documentKey,e.documentKey),0!==t?t:ae(n.largestBatchId,e.largestBatchId))}const j3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Obe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Us(n){return cA.apply(this,arguments)}function cA(){return cA=v(function*(n){if(n.code!==I.FAILED_PRECONDITION||n.message!==j3)throw n;R("LocalStore","Unexpectedly lost primary lease")}),cA.apply(this,arguments)}class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new w((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(t,o).next(i,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof w?t:w.resolve(t)}catch(t){return w.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):w.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):w.reject(t)}static resolve(e){return new w((t,i)=>{t(e)})}static reject(e){return new w((t,i)=>{i(e)})}static waitFor(e){return new w((t,i)=>{let r=0,o=0,s=!1;e.forEach(a=>{++r,a.next(()=>{++o,s&&o===r&&t()},l=>i(l))}),s=!0,o===r&&t()})}static or(e){let t=w.resolve(!1);for(const i of e)t=t.next(r=>r?w.resolve(r):i());return t}static forEach(e,t){const i=[];return e.forEach((r,o)=>{i.push(t.call(this,r,o))}),this.waitFor(i)}static mapArray(e,t){return new w((i,r)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const c=l;t(e[c]).next(u=>{s[c]=u,++a,a===o&&i(s)},u=>r(u))}})}static doWhile(e,t){return new w((i,r)=>{const o=()=>{!0===e()?t().next(()=>{o()},r):i()};o()})}}function js(n){return"IndexedDbTransactionError"===n.name}let qi=(()=>{class n{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.se(r),this.oe=r=>i.writeSequenceNumber(r))}se(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.oe&&this.oe(t),t}}return n._e=-1,n})();function fp(n){return null==n}function pp(n){return 0===n&&1/n==-1/0}function Q3(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function X3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ht{constructor(e,t){this.comparator=e,this.root=t||Vn.EMPTY}insert(e,t){return new ht(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(0===i)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(0===r)return t+i.left.size;r<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bv(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bv(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bv(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bv(this.root,e,this.comparator,!0)}}class Bv{constructor(e,t,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?i(e.key,t):1,t&&r&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,t,i,r,o){this.key=e,this.value=t,this.color=i??Vn.RED,this.left=r??Vn.EMPTY,this.right=o??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,r,o){return new Vn(e??this.key,t??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let r=this;const o=i(e,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(e,t,i),null):0===o?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Vn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1,Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,t,i,r,o){return this}insert(e,t,i){return new Vn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class it{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let i;for(i=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Z3(this.data.getIterator())}getIteratorFrom(e){return new Z3(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof it)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(0!==this.comparator(r,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new it(this.comparator);return t.data=e,t}}class Z3{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class xi{constructor(e){this.fields=e,e.sort(xt.comparator)}static empty(){return new xi([])}unionWith(e){let t=new it(xt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new xi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return wu(this.fields,e.fields,(t,i)=>t.isEqual(i))}}class J3 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class mn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new J3("Invalid base64 string: "+o):o}}(e);return new mn(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new mn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}mn.EMPTY_BYTE_STRING=new mn("");const rwe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(Y(!!n),"string"==typeof n){let e=0;const t=rwe.exec(n);if(Y(!!t),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:zt(n.seconds),nanos:zt(n.nanos)}}function zt(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Qo(n){return"string"==typeof n?mn.fromBase64String(n):mn.fromUint8Array(n)}function Uv(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function jv(n){const e=n.mapValue.fields.__previous_value__;return Uv(e)?jv(e):e}function mp(n){const e=zs(n.mapValue.fields.__local_write_time__.timestampValue);return new kt(e.seconds,e.nanos)}class owe{constructor(e,t,i,r,o,s,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c}}class al{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new al("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof al&&e.projectId===this.projectId&&e.database===this.database}}const $s={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Uv(n)?4:r5(n)?9007199254740991:10:G()}function ro(n,e){if(n===e)return!0;const t=qs(n);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return mp(n).isEqual(mp(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=zs(r.timestampValue),a=zs(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Qo(n.bytesValue).isEqual(Qo(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return zt(r.geoPointValue.latitude)===zt(o.geoPointValue.latitude)&&zt(r.geoPointValue.longitude)===zt(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return zt(r.integerValue)===zt(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=zt(r.doubleValue),a=zt(o.doubleValue);return s===a?pp(s)===pp(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return wu(n.arrayValue.values||[],e.arrayValue.values||[],ro);case 10:return function(r,o){const s=r.mapValue.fields||{},a=o.mapValue.fields||{};if(Q3(s)!==Q3(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(void 0===a[l]||!ro(s[l],a[l])))return!1;return!0}(n,e);default:return G()}var o}function gp(n,e){return void 0!==(n.values||[]).find(t=>ro(t,e))}function Ws(n,e){if(n===e)return 0;const t=qs(n),i=qs(e);if(t!==i)return ae(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ae(n.booleanValue,e.booleanValue);case 2:return function(o,s){const a=zt(o.integerValue||o.doubleValue),l=zt(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(n,e);case 3:return e5(n.timestampValue,e.timestampValue);case 4:return e5(mp(n),mp(e));case 5:return ae(n.stringValue,e.stringValue);case 6:return function(o,s){const a=Qo(o),l=Qo(s);return a.compareTo(l)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let c=0;c<a.length&&c<l.length;c++){const u=ae(a[c],l[c]);if(0!==u)return u}return ae(a.length,l.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const a=ae(zt(o.latitude),zt(s.latitude));return 0!==a?a:ae(zt(o.longitude),zt(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const a=o.values||[],l=s.values||[];for(let c=0;c<a.length&&c<l.length;++c){const u=Ws(a[c],l[c]);if(u)return u}return ae(a.length,l.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){if(o===$s.mapValue&&s===$s.mapValue)return 0;if(o===$s.mapValue)return 1;if(s===$s.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),c=s.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let d=0;d<l.length&&d<u.length;++d){const h=ae(l[d],u[d]);if(0!==h)return h;const f=Ws(a[l[d]],c[u[d]]);if(0!==f)return f}return ae(l.length,u.length)}(n.mapValue,e.mapValue);default:throw G()}}function e5(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return ae(n,e);const t=zs(n),i=zs(e),r=ae(t.seconds,i.seconds);return 0!==r?r:ae(t.nanos,i.nanos)}function Tu(n){return hA(n)}function hA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=zs(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Qo(n.bytesValue).toBase64():"referenceValue"in n?H.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",r=!0;for(const o of t.values||[])r?r=!1:i+=",",i+=hA(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let r="{",o=!0;for(const s of i)o?o=!1:r+=",",r+=`${s}:${hA(t.fields[s])}`;return r+"}"}(n.mapValue):G()}function fA(n){return!!n&&"integerValue"in n}function _p(n){return!!n&&"arrayValue"in n}function t5(n){return!!n&&"nullValue"in n}function n5(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $v(n){return!!n&&"mapValue"in n}function yp(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hs(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=yp(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=yp(n.arrayValue.values[t]);return e}return Object.assign({},n)}function r5(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$v(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=yp(t)}setAll(e){let t=xt.emptyPath(),i={},r=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){const l=this.getFieldsMap(t);this.applyChanges(l,i,r),i={},r=[],t=a.popLast()}s?i[a.lastSegment()]=yp(s):r.push(a.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,i,r)}delete(e){const t=this.field(e.popLast());$v(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ro(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=t.mapValue.fields[e.get(i)];$v(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,i){Hs(t,(r,o)=>e[r]=o);for(const r of i)delete e[r]}clone(){return new Bn(yp(this.value))}}function a5(n){const e=[];return Hs(n.fields,(t,i)=>{const r=new xt([t]);if($v(i)){const o=a5(i.mapValue).fields;if(0===o.length)e.push(r);else for(const s of o)e.push(r.child(s))}else e.push(r)}),new xi(e)}class Et{constructor(e,t,i,r,o,s,a){this.key=e,this.documentType=t,this.version=i,this.readTime=r,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Et(e,0,X.min(),X.min(),X.min(),Bn.empty(),0)}static newFoundDocument(e,t,i,r){return new Et(e,1,t,X.min(),i,r,0)}static newNoDocument(e,t){return new Et(e,2,t,X.min(),X.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new Et(e,3,t,X.min(),X.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(X.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=X.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gs{constructor(e,t){this.position=e,this.inclusive=t}}function l5(n,e,t){let i=0;for(let r=0;r<n.position.length;r++){const o=e[r],s=n.position[r];if(i=o.field.isKeyField()?H.comparator(H.fromName(s.referenceValue),t.key):Ws(s,t.data.field(o.field)),"desc"===o.dir&&(i*=-1),0!==i)break}return i}function c5(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ro(n.position[t],e.position[t]))return!1;return!0}class vp{constructor(e,t="asc"){this.field=e,this.dir=t}}function lwe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class u5{}class Me extends u5{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,i):new cwe(e,t,i):"array-contains"===t?new hwe(e,i):"in"===t?new g5(e,i):"not-in"===t?new fwe(e,i):"array-contains-any"===t?new pwe(e,i):new Me(e,t,i)}static createKeyFieldInFilter(e,t,i){return"in"===t?new uwe(e,i):new dwe(e,i)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ws(t,this.value)):null!==t&&qs(this.value)===qs(t)&&this.matchesComparison(Ws(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class tt extends u5{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new tt(e,t)}matches(e){return xu(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function xu(n){return"and"===n.op}function mA(n){return function d5(n){for(const e of n.filters)if(e instanceof tt)return!1;return!0}(n)&&xu(n)}function gA(n){if(n instanceof Me)return n.field.canonicalString()+n.op.toString()+Tu(n.value);if(mA(n))return n.filters.map(e=>gA(e)).join(",");{const e=n.filters.map(t=>gA(t)).join(",");return`${n.op}(${e})`}}function h5(n,e){return n instanceof Me?(i=n,(r=e)instanceof Me&&i.op===r.op&&i.field.isEqual(r.field)&&ro(i.value,r.value)):n instanceof tt?function(i,r){return r instanceof tt&&i.op===r.op&&i.filters.length===r.filters.length&&i.filters.reduce((o,s,a)=>o&&h5(s,r.filters[a]),!0)}(n,e):void G();var i,r}function p5(n){return n instanceof Me?`${(t=n).field.canonicalString()} ${t.op} ${Tu(t.value)}`:n instanceof tt?function(t){return t.op.toString()+" {"+t.getFilters().map(p5).join(" ,")+"}"}(n):"Filter";var t}class cwe extends Me{constructor(e,t,i){super(e,t,i),this.key=H.fromName(i.referenceValue)}matches(e){const t=H.comparator(e.key,this.key);return this.matchesComparison(t)}}class uwe extends Me{constructor(e,t){super(e,"in",t),this.keys=m5(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dwe extends Me{constructor(e,t){super(e,"not-in",t),this.keys=m5(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function m5(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(i=>H.fromName(i.referenceValue))}class hwe extends Me{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return _p(t)&&gp(t.arrayValue,this.value)}}class g5 extends Me{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gp(this.value.arrayValue,t)}}class fwe extends Me{constructor(e,t){super(e,"not-in",t)}matches(e){if(gp(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gp(this.value.arrayValue,t)}}class pwe extends Me{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!_p(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>gp(this.value.arrayValue,i))}}class mwe{constructor(e,t=null,i=[],r=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=s,this.endAt=a,this.ce=null}}function _A(n,e=null,t=[],i=[],r=null,o=null,s=null){return new mwe(n,e,t,i,r,o,s)}function cl(n){const e=U(n);if(null===e.ce){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>gA(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>{return(o=i).field.canonicalString()+o.dir;var o}).join(","),fp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Tu(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Tu(i)).join(",")),e.ce=t}return e.ce}function bp(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lwe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!h5(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!c5(n.startAt,e.startAt)&&c5(n.endAt,e.endAt)}function qv(n){return H.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Xo{constructor(e,t=null,i=[],r=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null}}function Du(n){return new Xo(n)}function b5(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Su(n){const e=U(n);if(null===e.le){e.le=[];const t=new Set;for(const o of e.explicitOrderBy)e.le.push(o),t.add(o.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new it(xt.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.le.push(new vp(o,i))}),t.has(xt.keyField().canonicalString())||e.le.push(new vp(xt.keyField(),i))}return e.le}function fi(n){const e=U(n);return e.he||(e.he=function w5(n,e){if("F"===n.limitType)return _A(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(r=>new vp(r.field,"desc"===r.dir?"asc":"desc"));const t=n.endAt?new Gs(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Gs(n.startAt.position,n.startAt.inclusive):null;return _A(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}(e,Su(n))),e.he}function Gv(n,e,t){return new Xo(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function wp(n,e){return bp(fi(n),fi(e))&&n.limitType===e.limitType}function E5(n){return`${cl(fi(n))}|lt:${n.limitType}`}function Au(n){return`Query(target=${function(t){let i=t.path.canonicalString();return null!==t.collectionGroup&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(r=>p5(r)).join(", ")}]`),fp(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(r=>Tu(r)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(r=>Tu(r)).join(",")),`Target(${i})`}(fi(n))}; limitType=${n.limitType})`}function Ep(n,e){return e.isFoundDocument()&&function(i,r){const o=r.key.path;return null!==i.collectionGroup?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):H.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)}(n,e)&&function(i,r){for(const o of Su(i))if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((i=n).startAt&&!function(s,a,l){const c=l5(s,a,l);return s.inclusive?c<=0:c<0}(i.startAt,Su(i),r)||i.endAt&&!function(s,a,l){const c=l5(s,a,l);return s.inclusive?c>=0:c>0}(i.endAt,Su(i),r)));var i,r}function C5(n){return(e,t)=>{let i=!1;for(const r of Su(n)){const o=gwe(r,e,t);if(0!==o)return o;i=i||r.field.isKeyField()}return 0}}function gwe(n,e,t){const i=n.field.isKeyField()?H.comparator(e.key,t.key):function(o,s,a){const l=s.data.field(o),c=a.data.field(o);return null!==l&&null!==c?Ws(l,c):G()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return G()}}class Zo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0!==i)for(const[r,o]of i)if(this.equalsFn(r,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const i=this.mapKeyFn(e),r=this.inner[i];if(void 0===r)return this.inner[i]=[[e,t]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return void(r[o]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(void 0===i)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return 1===i.length?delete this.inner[t]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(t,i)=>{for(const[r,o]of i)e(r,o)})}isEmpty(){return X3(this.inner)}size(){return this.innerSize}}const _we=new ht(H.comparator);function Di(){return _we}const T5=new ht(H.comparator);function Ip(...n){let e=T5;for(const t of n)e=e.insert(t.key,t);return e}function x5(n){let e=T5;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function oo(){return Cp()}function D5(){return Cp()}function Cp(){return new Zo(n=>n.toString(),(n,e)=>n.isEqual(e))}const ywe=new ht(H.comparator),vwe=new it(H.comparator);function ye(...n){let e=vwe;for(const t of n)e=e.add(t);return e}const bwe=new it(ae);function S5(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pp(e)?"-0":e}}function A5(n){return{integerValue:""+n}}function R5(n,e){return function z3(n){return"number"==typeof n&&Number.isInteger(n)&&!pp(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?A5(e):S5(n,e)}class Kv{constructor(){this._=void 0}}function wwe(n,e,t){return n instanceof Ru?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&Uv(o)&&(o=jv(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof ul?P5(n,e):n instanceof dl?k5(n,e):function(r,o){const s=M5(r,o),a=N5(s)+N5(r.Ie);return fA(s)&&fA(r.Ie)?A5(a):S5(r.serializer,a)}(n,e)}function Ewe(n,e,t){return n instanceof ul?P5(n,e):n instanceof dl?k5(n,e):t}function M5(n,e){return n instanceof Mu?fA(i=e)||(o=i)&&"doubleValue"in o?e:{integerValue:0}:null;var i,o}class Ru extends Kv{}class ul extends Kv{constructor(e){super(),this.elements=e}}function P5(n,e){const t=O5(e);for(const i of n.elements)t.some(r=>ro(r,i))||t.push(i);return{arrayValue:{values:t}}}class dl extends Kv{constructor(e){super(),this.elements=e}}function k5(n,e){let t=O5(e);for(const i of n.elements)t=t.filter(r=>!ro(r,i));return{arrayValue:{values:t}}}class Mu extends Kv{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function N5(n){return zt(n.integerValue||n.doubleValue)}function O5(n){return _p(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Cwe{constructor(e,t){this.version=e,this.transformResults=t}}class Dt{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Dt}static exists(e){return new Dt(void 0,e)}static updateTime(e){return new Dt(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yv(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Qv{}function F5(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new ku(n.key,Dt.none()):new Pu(n.key,n.data,Dt.none());{const t=n.data,i=Bn.empty();let r=new it(xt.comparator);for(let o of e.fields)if(!r.has(o)){let s=t.field(o);null===s&&o.length>1&&(o=o.popLast(),s=t.field(o)),null===s?i.delete(o):i.set(o,s),r=r.add(o)}return new Jo(n.key,i,new xi(r.toArray()),Dt.none())}}function Twe(n,e,t){n instanceof Pu?function(r,o,s){const a=r.value.clone(),l=B5(r.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Jo?function(r,o,s){if(!Yv(r.precondition,o))return void o.convertToUnknownDocument(s.version);const a=B5(r.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(V5(r)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function xp(n,e,t,i){return n instanceof Pu?function(o,s,a,l){if(!Yv(o.precondition,s))return a;const c=o.value.clone(),u=U5(o.fieldTransforms,l,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,i):n instanceof Jo?function(o,s,a,l){if(!Yv(o.precondition,s))return a;const c=U5(o.fieldTransforms,l,s),u=s.data;return u.setAll(V5(o)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null===a?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(d=>d.field))}(n,e,t,i):(a=t,Yv(n.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a);var s,a}function xwe(n,e){let t=null;for(const i of n.fieldTransforms){const r=e.data.field(i.field),o=M5(i.transform,r||null);null!=o&&(null===t&&(t=Bn.empty()),t.set(i.field,o))}return t||null}function L5(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(i=n.fieldTransforms)&&void 0===r||i&&r&&wu(i,r,(o,s)=>function Iwe(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(i=n.transform)instanceof ul&&r instanceof ul||i instanceof dl&&r instanceof dl?wu(i.elements,r.elements,ro):i instanceof Mu&&r instanceof Mu?ro(i.Ie,r.Ie):i instanceof Ru&&r instanceof Ru);var i,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var i,r}class Pu extends Qv{constructor(e,t,i,r=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Jo extends Qv{constructor(e,t,i,r,o=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function V5(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function B5(n,e,t){const i=new Map;Y(n.length===t.length);for(let r=0;r<t.length;r++){const o=n[r],s=o.transform,a=e.data.field(o.field);i.set(o.field,Ewe(s,a,t[r]))}return i}function U5(n,e,t){const i=new Map;for(const r of n){const o=r.transform,s=t.data.field(r.field);i.set(r.field,wwe(o,s,e))}return i}class ku extends Qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wA extends Qv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class EA{constructor(e,t,i,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(e.key)&&Twe(o,e,i[r])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=xp(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=xp(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=D5();return this.mutations.forEach(r=>{const o=e.get(r.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=t.has(r.key)?null:a;const l=F5(s,a);null!==l&&i.set(r.key,l),s.isValidDocument()||s.convertToNoDocument(X.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ye())}isEqual(e){return this.batchId===e.batchId&&wu(this.mutations,e.mutations,(t,i)=>L5(t,i))&&wu(this.baseMutations,e.baseMutations,(t,i)=>L5(t,i))}}class IA{constructor(e,t,i,r){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=r}static from(e,t,i){Y(e.mutations.length===i.length);let r=ywe;const o=e.mutations;for(let s=0;s<o.length;s++)r=r.insert(o[s].key,i[s].version);return new IA(e,t,i,r)}}class CA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Swe{constructor(e,t){this.count=e,this.unchangedNames=t}}var on,Be;function H5(n){if(void 0===n)return Qt("GRPC error has no .code"),I.UNKNOWN;switch(n){case on.OK:return I.OK;case on.CANCELLED:return I.CANCELLED;case on.UNKNOWN:return I.UNKNOWN;case on.DEADLINE_EXCEEDED:return I.DEADLINE_EXCEEDED;case on.RESOURCE_EXHAUSTED:return I.RESOURCE_EXHAUSTED;case on.INTERNAL:return I.INTERNAL;case on.UNAVAILABLE:return I.UNAVAILABLE;case on.UNAUTHENTICATED:return I.UNAUTHENTICATED;case on.INVALID_ARGUMENT:return I.INVALID_ARGUMENT;case on.NOT_FOUND:return I.NOT_FOUND;case on.ALREADY_EXISTS:return I.ALREADY_EXISTS;case on.PERMISSION_DENIED:return I.PERMISSION_DENIED;case on.FAILED_PRECONDITION:return I.FAILED_PRECONDITION;case on.ABORTED:return I.ABORTED;case on.OUT_OF_RANGE:return I.OUT_OF_RANGE;case on.UNIMPLEMENTED:return I.UNIMPLEMENTED;case on.DATA_LOSS:return I.DATA_LOSS;default:return G()}}(Be=on||(on={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";const Awe=new yu([4294967295,4294967295],0);function $5(n){const e=function z5(){return new TextEncoder}().encode(n),t=new Cbe;return t.update(e),new Uint8Array(t.digest())}function q5(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new yu([t,i],0),new yu([r,o],0)]}class TA{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Dp(`Invalid padding: ${t}`);if(i<0)throw new Dp(`Invalid hash count: ${i}`);if(e.length>0&&0===this.hashCount)throw new Dp(`Invalid hash count: ${i}`);if(0===e.length&&0!==t)throw new Dp(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ee=yu.fromNumber(this.Te)}de(e,t,i){let r=e.add(t.multiply(yu.fromNumber(i)));return 1===r.compare(Awe)&&(r=new yu([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=$5(e),[i,r]=q5(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);if(!this.Ae(s))return!1}return!0}static create(e,t,i){const r=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new TA(o,r,t);return i.forEach(a=>s.insert(a)),s}insert(e){if(0===this.Te)return;const t=$5(e),[i,r]=q5(t);for(let o=0;o<this.hashCount;o++){const s=this.de(i,r,o);this.Re(s)}}Re(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Dp extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Sp{constructor(e,t,i,r,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const r=new Map;return r.set(e,Ap.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Sp(X.min(),r,new ht(ae),Di(),ye())}}class Ap{constructor(e,t,i,r,o){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Ap(i,t,ye(),ye(),ye())}}class Zv{constructor(e,t,i,r){this.Ve=e,this.removedTargetIds=t,this.key=i,this.me=r}}class W5{constructor(e,t){this.targetId=e,this.fe=t}}class G5{constructor(e,t,i=mn.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=r}}class K5{constructor(){this.ge=0,this.pe=Q5(),this.ye=mn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=ye(),t=ye(),i=ye();return this.pe.forEach((r,o)=>{switch(o){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:i=i.add(r);break;default:G()}}),new Ap(this.ye,this.we,e,t,i)}Fe(){this.Se=!1,this.pe=Q5()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1}Be(){this.Se=!0,this.we=!0}}class Rwe{constructor(e){this.Le=e,this.ke=new Map,this.qe=Di(),this.Qe=Y5(),this.Ke=new ht(ae)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,t=>{const i=this.ze(t);switch(e.state){case 0:this.je(t)&&i.Ce(e.resumeToken);break;case 1:i.Ne(),i.be||i.Fe(),i.Ce(e.resumeToken);break;case 2:i.Ne(),i.be||this.removeTarget(t);break;case 3:this.je(t)&&(i.Be(),i.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),i.Ce(e.resumeToken));break;default:G()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((i,r)=>{this.je(r)&&t(r)})}Je(e){const t=e.targetId,i=e.fe.count,r=this.Ye(t);if(r){const o=r.target;if(qv(o))if(0===i){const s=new H(o.path);this.We(t,s,Et.newNoDocument(s,X.min()))}else Y(1===i);else{const s=this.Ze(t);if(s!==i){const a=this.Xe(e),l=a?this.et(a,e,s):1;0!==l&&(this.He(t),this.Ke=this.Ke.insert(t,2===l?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=t;let s,a;try{s=Qo(i).toUint8Array()}catch(l){if(l instanceof J3)return zi("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new TA(s,r,o)}catch(l){return zi(l instanceof Dp?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return 0===a.Te?null:a}et(e,t,i){return t.fe.count===i-this.rt(e,t.targetId)?0:2}rt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let r=0;return i.forEach(o=>{const s=this.Le.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.We(t,o,null),r++)}),r}it(e){const t=new Map;this.ke.forEach((o,s)=>{const a=this.Ye(s);if(a){if(o.current&&qv(a.target)){const l=new H(a.target.path);null!==this.qe.get(l)||this.st(s,l)||this.We(s,l,Et.newNoDocument(l,e))}o.De&&(t.set(s,o.ve()),o.Fe())}});let i=ye();this.Qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const c=this.Ye(l);return!c||"TargetPurposeLimboResolution"===c.purpose||(a=!1,!1)}),a&&(i=i.add(o))}),this.qe.forEach((o,s)=>s.setReadTime(e));const r=new Sp(e,t,this.Ke,this.qe,i);return this.qe=Di(),this.Qe=Y5(),this.Ke=new ht(ae),r}Ue(e,t){if(!this.je(e))return;const i=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,i),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,i){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),i&&(this.qe=this.qe.insert(t,i))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new K5,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new it(ae),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||R("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Le._t(e)}He(e){this.ke.set(e,new K5),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}st(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Y5(){return new ht(H.comparator)}function Q5(){return new ht(H.comparator)}const Mwe={asc:"ASCENDING",desc:"DESCENDING"},Pwe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kwe={and:"AND",or:"OR"};class Nwe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function xA(n,e){return n.useProto3Json||fp(e)?e:{value:e}}function Nu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function X5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Owe(n,e){return Nu(n,e.toTimestamp())}function Xt(n){return Y(!!n),X.fromTimestamp(function(t){const i=zs(t);return new kt(i.seconds,i.nanos)}(n))}function DA(n,e){return(i=n,new Ve(["projects",i.projectId,"databases",i.database])).child("documents").child(e).canonicalString();var i}function Z5(n){const e=Ve.fromString(n);return Y(aq(e)),e}function Rp(n,e){return DA(n.databaseId,e.path)}function so(n,e){const t=Z5(e);if(t.get(1)!==n.databaseId.projectId)throw new M(I.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new M(I.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new H(eq(t))}function SA(n,e){return DA(n.databaseId,e)}function Mp(n){return new Ve(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function eq(n){return Y(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function tq(n,e,t){return{name:Rp(n,e),fields:t.value.mapValue.fields}}function iq(n,e){return{documents:[SA(n,e.path)]}}function RA(n,e){const t={structuredQuery:{}},i=e.path;null!==e.collectionGroup?(t.parent=SA(n,i),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=SA(n,i.popLast()),t.structuredQuery.from=[{collectionId:i.lastSegment()}]);const r=function(l){if(0!==l.length)return sq(tt.create(l,"and"))}(e.filters);r&&(t.structuredQuery.where=r);const o=function(l){if(0!==l.length)return l.map(c=>{return{field:Ks((d=c).field),direction:Uwe(d.dir)};var d})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const s=xA(n,e.limit);return null!==s&&(t.structuredQuery.limit=s),e.startAt&&(t.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),t;var l}function rq(n){let e=function J5(n){const e=Z5(n);return 4===e.length?Ve.emptyPath():eq(e)}(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let r=null;if(i>0){Y(1===i);const u=t.from[0];u.allDescendants?r=u.collectionId:e=e.child(u.collectionId)}let o=[];t.where&&(o=function(d){const h=oq(d);return h instanceof tt&&mA(h)?h.getFilters():[h]}(t.where));let s=[];t.orderBy&&(s=t.orderBy.map(h=>{return new vp(Ou((p=h).field),function(g){switch(g){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction));var p}));let a=null;t.limit&&(a=function(d){let h;return h="object"==typeof d?d.value:d,fp(h)?null:h}(t.limit));let l=null;var d;t.startAt&&(l=new Gs((d=t.startAt).values||[],!!d.before));let c=null;return t.endAt&&(c=function(d){return new Gs(d.values||[],!d.before)}(t.endAt)),function v5(n,e,t,i,r,o,s,a){return new Xo(n,e,t,i,r,o,s,a)}(e,r,s,o,a,"F",l,c)}function oq(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ou(t.unaryFilter.field);return Me.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Ou(t.unaryFilter.field);return Me.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Ou(t.unaryFilter.field);return Me.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Ou(t.unaryFilter.field);return Me.create(s,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(n):void 0!==n.fieldFilter?Me.create(Ou((t=n).fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return tt.create(t.compositeFilter.filters.map(i=>oq(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return G()}}(t.compositeFilter.op))}(n):G();var t}function Uwe(n){return Mwe[n]}function jwe(n){return Pwe[n]}function Hwe(n){return kwe[n]}function Ks(n){return{fieldPath:n.canonicalString()}}function Ou(n){return xt.fromServerFormat(n.fieldPath)}function sq(n){return n instanceof Me?function(t){if("=="===t.op){if(n5(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NAN"}};if(t5(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(n5(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NAN"}};if(t5(t.value))return{unaryFilter:{field:Ks(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(t.field),op:jwe(t.op),value:t.value}}}(n):n instanceof tt?function(t){const i=t.getFilters().map(r=>sq(r));return 1===i.length?i[0]:{compositeFilter:{op:Hwe(t.op),filters:i}}}(n):G()}function zwe(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function aq(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class es{constructor(e,t,i,r,o=X.min(),s=X.min(),a=mn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new es(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new es(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class lq{constructor(e){this.ut=e}}function MA(n){const e=rq({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?Gv(e,e.limit,"L"):e}class ml{constructor(){}ht(e,t){this.Pt(e,t),t.It()}Pt(e,t){if("nullValue"in e)this.Tt(t,5);else if("booleanValue"in e)this.Tt(t,10),t.Et(e.booleanValue?1:0);else if("integerValue"in e)this.Tt(t,15),t.Et(zt(e.integerValue));else if("doubleValue"in e){const i=zt(e.doubleValue);isNaN(i)?this.Tt(t,13):(this.Tt(t,15),pp(i)?t.Et(0):t.Et(i))}else if("timestampValue"in e){const i=e.timestampValue;this.Tt(t,20),"string"==typeof i?t.dt(i):(t.dt(`${i.seconds||""}`),t.Et(i.nanos||0))}else if("stringValue"in e)this.At(e.stringValue,t),this.Rt(t);else if("bytesValue"in e)this.Tt(t,30),t.Vt(Qo(e.bytesValue)),this.Rt(t);else if("referenceValue"in e)this.ft(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Tt(t,45),t.Et(i.latitude||0),t.Et(i.longitude||0)}else"mapValue"in e?r5(e)?this.Tt(t,Number.MAX_SAFE_INTEGER):(this.gt(e.mapValue,t),this.Rt(t)):"arrayValue"in e?(this.yt(e.arrayValue,t),this.Rt(t)):G()}At(e,t){this.Tt(t,25),this.wt(e,t)}wt(e,t){t.dt(e)}gt(e,t){const i=e.fields||{};this.Tt(t,55);for(const r of Object.keys(i))this.At(r,t),this.Pt(i[r],t)}yt(e,t){const i=e.values||[];this.Tt(t,50);for(const r of i)this.Pt(r,t)}ft(e,t){this.Tt(t,37),H.fromName(e).path.forEach(i=>{this.Tt(t,60),this.wt(i,t)})}Tt(e,t){e.Et(t)}Rt(e){e.Et(2)}}ml.St=new ml;class Xwe{constructor(){this.on=new LA}addToCollectionParentIndex(e,t){return this.on.add(t),w.resolve()}getCollectionParents(e,t){return w.resolve(this.on.getEntries(t))}addFieldIndex(e,t){return w.resolve()}deleteFieldIndex(e,t){return w.resolve()}deleteAllFieldIndexes(e){return w.resolve()}createTargetIndexes(e,t){return w.resolve()}getDocumentsMatchingTarget(e,t){return w.resolve(null)}getIndexType(e,t){return w.resolve(0)}getFieldIndexes(e,t){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,t){return w.resolve($i.min())}getMinOffsetFromCollectionGroup(e,t){return w.resolve($i.min())}updateCollectionGroup(e,t,i){return w.resolve()}updateIndexEntries(e,t){return w.resolve()}}class LA{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t]||new it(Ve.comparator),o=!r.has(i);return this.index[t]=r.add(i),o}has(e){const t=e.lastSegment(),i=e.popLast(),r=this.index[t];return r&&r.has(i)}getEntries(e){return(this.index[e]||new it(Ve.comparator)).toArray()}}new Uint8Array(0);class Yn{constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(41943040,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class _l{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static On(){return new _l(0)}static Nn(){return new _l(-1)}}class iEe{constructor(){this.changes=new Zo(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return void 0!==i?w.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class sEe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Oq{constructor(e,t,i,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,t))).next(r=>(null!==i&&xp(i.mutation,r,xi.empty(),kt.now()),r))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,ye()).next(()=>i))}getLocalViewOfDocuments(e,t,i=ye()){const r=oo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,i).next(o=>{let s=Ip();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){const i=oo();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,ye()))}populateOverlays(e,t,i){const r=[];return i.forEach(o=>{t.has(o)||r.push(o)}),this.documentOverlayCache.getOverlays(e,r).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,i,r){let o=Di();const s=Cp(),a=Cp();return t.forEach((l,c)=>{const u=i.get(c.key);r.has(c.key)&&(void 0===u||u.mutation instanceof Jo)?o=o.insert(c.key,c):void 0!==u?(s.set(c.key,u.mutation.getFieldMask()),xp(u.mutation,c,u.mutation.getFieldMask(),kt.now())):s.set(c.key,xi.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((c,u)=>s.set(c,u)),t.forEach((c,u)=>{var d;return a.set(c,new sEe(u,null!==(d=s.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,t){const i=Cp();let r=new ht((s,a)=>s-a),o=ye();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(const a of s)a.keys().forEach(l=>{const c=t.get(l);if(null===c)return;let u=i.get(l)||xi.empty();u=a.applyToLocalView(c,u),i.set(l,u);const d=(r.get(a.batchId)||ye()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=D5();u.forEach(h=>{if(!o.has(h)){const f=F5(t.get(h),i.get(h));null!==f&&d.set(h,f),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,c,d))}return w.waitFor(s)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,r){return H.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function yA(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,r):this.getDocumentsMatchingCollectionQuery(e,t,i,r);var s}getNextDocuments(e,t,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,r).next(o=>{const s=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,r-o.size):w.resolve(oo());let a=-1,l=o;return s.next(c=>w.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),o.get(u)?w.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,o)).next(()=>this.computeViews(e,l,c,ye())).next(u=>({batchId:a,changes:x5(u)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new H(t)).next(i=>{let r=Ip();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,t,i,r){const o=t.collectionGroup;let s=Ip();return this.indexManager.getCollectionParents(e,o).next(a=>w.forEach(a,l=>{const c=(d=t,h=l.child(o),new Xo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt));var d,h;return this.getDocumentsMatchingCollectionQuery(e,c,i,r).next(u=>{u.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,o,r))).next(s=>{o.forEach((l,c)=>{const u=c.getKey();null===s.get(u)&&(s=s.insert(u,Et.newInvalidDocument(u)))});let a=Ip();return s.forEach((l,c)=>{const u=o.get(l);void 0!==u&&xp(u.mutation,c,xi.empty(),kt.now()),Ep(t,c)&&(a=a.insert(l,c))}),a})}}class aEe{constructor(e){this.serializer=e,this.ur=new Map,this.cr=new Map}getBundleMetadata(e,t){return w.resolve(this.ur.get(t))}saveBundleMetadata(e,t){return this.ur.set(t.id,{id:(r=t).id,version:r.version,createTime:Xt(r.createTime)}),w.resolve();var r}getNamedQuery(e,t){return w.resolve(this.cr.get(t))}saveNamedQuery(e,t){return this.cr.set(t.name,{name:(r=t).name,query:MA(r.bundledQuery),readTime:Xt(r.readTime)}),w.resolve();var r}}class lEe{constructor(){this.overlays=new ht(H.comparator),this.lr=new Map}getOverlay(e,t){return w.resolve(this.overlays.get(t))}getOverlays(e,t){const i=oo();return w.forEach(t,r=>this.getOverlay(e,r).next(o=>{null!==o&&i.set(r,o)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((r,o)=>{this.lt(e,t,o)}),w.resolve()}removeOverlaysForBatchId(e,t,i){const r=this.lr.get(i);return void 0!==r&&(r.forEach(o=>this.overlays=this.overlays.remove(o)),this.lr.delete(i)),w.resolve()}getOverlaysForCollection(e,t,i){const r=oo(),o=t.length+1,s=new H(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!t.isPrefixOf(c.path))break;c.path.length===o&&l.largestBatchId>i&&r.set(l.getKey(),l)}return w.resolve(r)}getOverlaysForCollectionGroup(e,t,i,r){let o=new ht((c,u)=>c-u);const s=this.overlays.getIterator();for(;s.hasNext();){const c=s.getNext().value;if(c.getKey().getCollectionGroup()===t&&c.largestBatchId>i){let u=o.get(c.largestBatchId);null===u&&(u=oo(),o=o.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=oo(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=r)););return w.resolve(a)}lt(e,t,i){const r=this.overlays.get(i.key);if(null!==r){const s=this.lr.get(r.largestBatchId).delete(i.key);this.lr.set(r.largestBatchId,s)}this.overlays=this.overlays.insert(i.key,new CA(t,i));let o=this.lr.get(t);void 0===o&&(o=ye(),this.lr.set(t,o)),this.lr.set(t,o.add(i.key))}}class VA{constructor(){this.hr=new it(Tn.Pr),this.Ir=new it(Tn.Tr)}isEmpty(){return this.hr.isEmpty()}addReference(e,t){const i=new Tn(e,t);this.hr=this.hr.add(i),this.Ir=this.Ir.add(i)}Er(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.dr(new Tn(e,t))}Ar(e,t){e.forEach(i=>this.removeReference(i,t))}Rr(e){const t=new H(new Ve([])),i=new Tn(t,e),r=new Tn(t,e+1),o=[];return this.Ir.forEachInRange([i,r],s=>{this.dr(s),o.push(s.key)}),o}Vr(){this.hr.forEach(e=>this.dr(e))}dr(e){this.hr=this.hr.delete(e),this.Ir=this.Ir.delete(e)}mr(e){const t=new H(new Ve([])),i=new Tn(t,e),r=new Tn(t,e+1);let o=ye();return this.Ir.forEachInRange([i,r],s=>{o=o.add(s.key)}),o}containsKey(e){const t=new Tn(e,0),i=this.hr.firstAfterOrEqual(t);return null!==i&&e.isEqual(i.key)}}class Tn{constructor(e,t){this.key=e,this.gr=t}static Pr(e,t){return H.comparator(e.key,t.key)||ae(e.gr,t.gr)}static Tr(e,t){return ae(e.gr,t.gr)||H.comparator(e.key,t.key)}}class cEe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.pr=1,this.yr=new it(Tn.Pr)}checkEmpty(e){return w.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,i,r){const o=this.pr;this.pr++;const s=new EA(o,t,i,r);this.mutationQueue.push(s);for(const a of r)this.yr=this.yr.add(new Tn(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(s)}lookupMutationBatch(e,t){return w.resolve(this.wr(t))}getNextMutationBatchAfterBatchId(e,t){const r=this.Sr(t+1),o=r<0?0:r;return w.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(0===this.mutationQueue.length?-1:this.pr-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Tn(t,0),r=new Tn(t,Number.POSITIVE_INFINITY),o=[];return this.yr.forEachInRange([i,r],s=>{const a=this.wr(s.gr);o.push(a)}),w.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new it(ae);return t.forEach(r=>{const o=new Tn(r,0),s=new Tn(r,Number.POSITIVE_INFINITY);this.yr.forEachInRange([o,s],a=>{i=i.add(a.gr)})}),w.resolve(this.br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,r=i.length+1;let o=i;H.isDocumentKey(o)||(o=o.child(""));const s=new Tn(new H(o),0);let a=new it(ae);return this.yr.forEachWhile(l=>{const c=l.key.path;return!!i.isPrefixOf(c)&&(c.length===r&&(a=a.add(l.gr)),!0)},s),w.resolve(this.br(a))}br(e){const t=[];return e.forEach(i=>{const r=this.wr(i);null!==r&&t.push(r)}),t}removeMutationBatch(e,t){Y(0===this.Dr(t.batchId,"removed")),this.mutationQueue.shift();let i=this.yr;return w.forEach(t.mutations,r=>{const o=new Tn(r.key,t.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.yr=i})}Fn(e){}containsKey(e,t){const i=new Tn(t,0),r=this.yr.firstAfterOrEqual(i);return w.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return w.resolve()}Dr(e,t){return this.Sr(e)}Sr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}wr(e){const t=this.Sr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class uEe{constructor(e){this.Cr=e,this.docs=new ht(H.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,r=this.docs.get(i),o=r?r.size:0,s=this.Cr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return w.resolve(i?i.document.mutableCopy():Et.newInvalidDocument(t))}getEntries(e,t){let i=Di();return t.forEach(r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Et.newInvalidDocument(r))}),w.resolve(i)}getDocumentsMatchingQuery(e,t,i,r){let o=Di();const s=t.path,a=new H(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!s.isPrefixOf(c.path))break;c.path.length>s.length+1||lA(U3(u),i)<=0||(r.has(u.key)||Ep(t,u))&&(o=o.insert(u.key,u.mutableCopy()))}return w.resolve(o)}getAllFromCollectionGroup(e,t,i,r){G()}vr(e,t){return w.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new dEe(this)}getSize(e){return w.resolve(this.size)}}class dEe extends iEe{constructor(e){super(),this._r=e}applyChanges(e){const t=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?t.push(this._r.addEntry(e,r)):this._r.removeEntry(i)}),w.waitFor(t)}getFromCache(e,t){return this._r.getEntry(e,t)}getAllFromCache(e,t){return this._r.getEntries(e,t)}}class hEe{constructor(e){this.persistence=e,this.Fr=new Zo(t=>cl(t),bp),this.lastRemoteSnapshotVersion=X.min(),this.highestTargetId=0,this.Mr=0,this.Or=new VA,this.targetCount=0,this.Nr=_l.On()}forEachTarget(e,t){return this.Fr.forEach((i,r)=>t(r)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Mr)}allocateTargetId(e){return this.highestTargetId=this.Nr.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Mr&&(this.Mr=t),w.resolve()}kn(e){this.Fr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Nr=new _l(t),this.highestTargetId=t),e.sequenceNumber>this.Mr&&(this.Mr=e.sequenceNumber)}addTargetData(e,t){return this.kn(t),this.targetCount+=1,w.resolve()}updateTargetData(e,t){return this.kn(t),w.resolve()}removeTargetData(e,t){return this.Fr.delete(t.target),this.Or.Rr(t.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,t,i){let r=0;const o=[];return this.Fr.forEach((s,a)=>{a.sequenceNumber<=t&&null===i.get(a.targetId)&&(this.Fr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),w.waitFor(o).next(()=>r)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,t){const i=this.Fr.get(t)||null;return w.resolve(i)}addMatchingKeys(e,t,i){return this.Or.Er(t,i),w.resolve()}removeMatchingKeys(e,t,i){this.Or.Ar(t,i);const r=this.persistence.referenceDelegate,o=[];return r&&t.forEach(s=>{o.push(r.markPotentiallyOrphaned(e,s))}),w.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Or.Rr(t),w.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Or.mr(t);return w.resolve(i)}containsKey(e,t){return w.resolve(this.Or.containsKey(t))}}class BA{constructor(e,t){this.Br={},this.overlays={},this.Lr=new qi(0),this.kr=!1,this.kr=!0,this.referenceDelegate=e(this),this.qr=new hEe(this),this.indexManager=new Xwe,this.remoteDocumentCache=new uEe(i=>this.referenceDelegate.Qr(i)),this.serializer=new lq(t),this.Kr=new aEe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.kr=!1,Promise.resolve()}get started(){return this.kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new lEe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Br[e.toKey()];return i||(i=new cEe(t,this.referenceDelegate),this.Br[e.toKey()]=i),i}getTargetCache(){return this.qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Kr}runTransaction(e,t,i){R("MemoryPersistence","Starting transaction:",e);const r=new fEe(this.Lr.next());return this.referenceDelegate.$r(),i(r).next(o=>this.referenceDelegate.Ur(r).next(()=>o)).toPromise().then(o=>(r.raiseOnCommittedEvent(),o))}Wr(e,t){return w.or(Object.values(this.Br).map(i=>()=>i.containsKey(e,t)))}}class fEe extends Obe{constructor(e){super(),this.currentSequenceNumber=e}}class sb{constructor(e){this.persistence=e,this.Gr=new VA,this.zr=null}static jr(e){return new sb(e)}get Hr(){if(this.zr)return this.zr;throw G()}addReference(e,t,i){return this.Gr.addReference(i,t),this.Hr.delete(i.toString()),w.resolve()}removeReference(e,t,i){return this.Gr.removeReference(i,t),this.Hr.add(i.toString()),w.resolve()}markPotentiallyOrphaned(e,t){return this.Hr.add(t.toString()),w.resolve()}removeTarget(e,t){this.Gr.Rr(t.targetId).forEach(r=>this.Hr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(r=>{r.forEach(o=>this.Hr.add(o.toString()))}).next(()=>i.removeTargetData(e,t))}$r(){this.zr=new Set}Ur(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Hr,i=>{const r=H.fromPath(i);return this.Jr(e,r).next(o=>{o||t.removeEntry(r,X.min())})}).next(()=>(this.zr=null,t.apply(e)))}updateLimboDocument(e,t){return this.Jr(e,t).next(i=>{i?this.Hr.delete(t.toString()):this.Hr.add(t.toString())})}Qr(e){return 0}Jr(e,t){return w.or([()=>w.resolve(this.Gr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Wr(e,t)])}}class zA{constructor(e,t,i,r){this.targetId=e,this.fromCache=t,this.ki=i,this.qi=r}static Qi(e,t){let i=ye(),r=ye();for(const o of t.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new zA(e,t.fromCache,i,r)}}class mEe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Lq{constructor(){this.Ki=!1,this.$i=!1,this.Ui=100,this.Wi=8}initialize(e,t){this.Gi=e,this.indexManager=t,this.Ki=!0}getDocumentsMatchingQuery(e,t,i,r){const o={result:null};return this.zi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.ji(e,t,r,i).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new mEe;return this.Hi(e,t,s).next(a=>{if(o.result=a,this.$i)return this.Ji(e,t,s,a.size)})}).next(()=>o.result)}Ji(e,t,i,r){return i.documentReadCount<this.Ui?(bu()<=Re.DEBUG&&R("QueryEngine","SDK will not create cache indexes for query:",Au(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ui,"documents"),w.resolve()):(bu()<=Re.DEBUG&&R("QueryEngine","Query:",Au(t),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Wi*r?(bu()<=Re.DEBUG&&R("QueryEngine","The SDK decides to create cache indexes for query:",Au(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(t))):w.resolve())}zi(e,t){if(b5(t))return w.resolve(null);let i=fi(t);return this.indexManager.getIndexType(e,i).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=Gv(t,null,"F"),i=fi(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(o=>{const s=ye(...o);return this.Gi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const c=this.Yi(t,a);return this.Zi(t,c,s,l.readTime)?this.zi(e,Gv(t,null,"F")):this.Xi(e,c,t,l)}))})))}ji(e,t,i,r){return b5(t)||r.isEqual(X.min())?w.resolve(null):this.Gi.getDocuments(e,i).next(o=>{const s=this.Yi(t,o);return this.Zi(t,s,i,r)?w.resolve(null):(bu()<=Re.DEBUG&&R("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Au(t)),this.Xi(e,s,t,function B3(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=X.fromTimestamp(1e9===i?new kt(t+1,0):new kt(t,i));return new $i(r,H.empty(),e)}(r,-1)).next(a=>a))})}Yi(e,t){let i=new it(C5(e));return t.forEach((r,o)=>{Ep(e,o)&&(i=i.add(o))}),i}Zi(e,t,i,r){if(null===e.limit)return!1;if(i.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Hi(e,t,i){return bu()<=Re.DEBUG&&R("QueryEngine","Using full collection scan to execute query:",Au(t)),this.Gi.getDocumentsMatchingQuery(e,t,$i.min(),i)}Xi(e,t,i,r){return this.Gi.getDocumentsMatchingQuery(e,i,r).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}}class gEe{constructor(e,t,i,r){this.persistence=e,this.es=t,this.serializer=r,this.ts=new ht(ae),this.ns=new Zo(o=>cl(o),bp),this.rs=new Map,this.ss=e.getRemoteDocumentCache(),this.qr=e.getTargetCache(),this.Kr=e.getBundleCache(),this.os(i)}os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Oq(this.ss,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ss.setIndexManager(this.indexManager),this.es.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.ts))}}function Bq(n,e){return $A.apply(this,arguments)}function $A(){return $A=v(function*(n,e){const t=U(n);return yield t.persistence.runTransaction("Handle user change","readonly",i=>{let r;return t.mutationQueue.getAllMutationBatches(i).next(o=>(r=o,t.os(e),t.mutationQueue.getAllMutationBatches(i))).next(o=>{const s=[],a=[];let l=ye();for(const c of r){s.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of o){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return t.localDocuments.getDocuments(i,l).next(c=>({_s:c,removedBatchIds:s,addedBatchIds:a}))})})}),$A.apply(this,arguments)}function Uq(n){const e=U(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.qr.getLastRemoteSnapshotVersion(t))}function vEe(n,e){const t=U(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function ju(n,e,t){return qA.apply(this,arguments)}function qA(){return qA=v(function*(n,e,t){const i=U(n),r=i.ts.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield i.persistence.runTransaction("Release target",o,s=>i.persistence.referenceDelegate.removeTarget(s,r)))}catch(s){if(!js(s))throw s;R("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}i.ts=i.ts.remove(e),i.ns.delete(r.target)}),qA.apply(this,arguments)}function cb(n,e,t){const i=U(n);let r=X.min(),o=ye();return i.persistence.runTransaction("Execute query","readwrite",s=>function(l,c,u){const d=U(l),h=d.ns.get(u);return void 0!==h?w.resolve(d.ts.get(h)):d.qr.getTargetData(c,u)}(i,s,fi(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>i.es.getDocumentsMatchingQuery(s,e,t?r:X.min(),t?o:ye())).next(a=>(function $q(n,e,t){let i=n.rs.get(e)||X.min();t.forEach((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)}),n.rs.set(e,i)}(i,function I5(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ls:o})))}class QA{constructor(){this.activeTargetIds=function bA(){return bwe}()}ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}As(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Es(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Gq{constructor(){this.eo=new QA,this.no={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e){return this.eo.ds(e),this.no[e]||"not-current"}updateQueryState(e,t,i){this.no[e]=t}removeLocalQueryTarget(e){this.eo.As(e)}isLocalQueryTarget(e){return this.eo.activeTargetIds.has(e)}clearQueryState(e){delete this.no[e]}getAllActiveQueryTargets(){return this.eo.activeTargetIds}isActiveQueryTarget(e){return this.eo.activeTargetIds.has(e)}start(){return this.eo=new QA,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class EEe{ro(e){}shutdown(){}}class Kq{constructor(){this.io=()=>this.so(),this.oo=()=>this._o(),this.ao=[],this.uo()}ro(e){this.ao.push(e)}shutdown(){window.removeEventListener("online",this.io),window.removeEventListener("offline",this.oo)}uo(){window.addEventListener("online",this.io),window.addEventListener("offline",this.oo)}so(){R("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ao)e(0)}_o(){R("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ao)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let hb=null;function ZA(){return null===hb?hb=268435456+Math.round(2147483648*Math.random()):hb++,"0x"+hb.toString(16)}const IEe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CEe{constructor(e){this.co=e.co,this.lo=e.lo}ho(e){this.Po=e}Io(e){this.To=e}onMessage(e){this.Eo=e}close(){this.lo()}send(e){this.co(e)}Ao(){this.Po()}Ro(e){this.To(e)}Vo(e){this.Eo(e)}}const Qn="WebChannelConnection";class TEe extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.mo=i+"://"+t.host,this.fo=`projects/${r}/databases/${o}`,this.po="(default)"===this.databaseId.database?`project_id=${r}`:`project_id=${r}&database_id=${o}`}get yo(){return!1}wo(t,i,r,o,s){const a=ZA(),l=this.So(t,i);R("RestConnection",`Sending RPC '${t}' ${a}:`,l,r);const c={"google-cloud-resource-prefix":this.fo,"x-goog-request-params":this.po};return this.bo(c,o,s),this.Do(t,l,c,r).then(u=>(R("RestConnection",`Received RPC '${t}' ${a}: `,u),u),u=>{throw zi("RestConnection",`RPC '${t}' ${a} failed with error: `,u,"url: ",l,"request:",r),u})}Co(t,i,r,o,s,a){return this.wo(t,i,r,o,s)}bo(t,i,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+vu,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((o,s)=>t[s]=o),r&&r.headers.forEach((o,s)=>t[s]=o)}So(t,i){return`${this.mo}/v1/${i}:${IEe[t]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Do(e,t,i,r){const o=ZA();return new Promise((s,a)=>{const l=new Ibe;l.setWithCredentials(!0),l.listenOnce(bbe.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case oA.NO_ERROR:const u=l.getResponseJson();R(Qn,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(u)),s(u);break;case oA.TIMEOUT:R(Qn,`RPC '${e}' ${o} timed out`),a(new M(I.DEADLINE_EXCEEDED,"Request time out"));break;case oA.HTTP_ERROR:const d=l.getStatus();if(R(Qn,`RPC '${e}' ${o} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h?.error;if(f&&f.status&&f.message){const p=function(g){const b=g.toLowerCase().replace(/_/g,"-");return Object.values(I).indexOf(b)>=0?b:I.UNKNOWN}(f.status);a(new M(p,f.message))}else a(new M(I.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new M(I.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{R(Qn,`RPC '${e}' ${o} completed.`)}});const c=JSON.stringify(r);R(Qn,`RPC '${e}' ${o} sending request:`,r),l.send(t,"POST",c,i,15)})}vo(e,t,i){const r=ZA(),o=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ybe(),a=vbe(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;void 0!==c&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.xmlHttpFactory=new Ebe({})),this.bo(l.initMessageHeaders,t,i),l.encodeInitMessageHeaders=!0;const u=o.join("");R(Qn,`Creating RPC '${e}' stream ${r}: ${u}`,l);const d=s.createWebChannel(u,l);let h=!1,f=!1;const p=new CEe({co:g=>{f?R(Qn,`Not sending because RPC '${e}' stream ${r} is closed:`,g):(h||(R(Qn,`Opening RPC '${e}' stream ${r} transport.`),d.open(),h=!0),R(Qn,`RPC '${e}' stream ${r} sending:`,g),d.send(g))},lo:()=>d.close()}),m=(g,b,_)=>{g.listen(b,E=>{try{_(E)}catch(x){setTimeout(()=>{throw x},0)}})};return m(d,Fv.EventType.OPEN,()=>{f||R(Qn,`RPC '${e}' stream ${r} transport opened.`)}),m(d,Fv.EventType.CLOSE,()=>{f||(f=!0,R(Qn,`RPC '${e}' stream ${r} transport closed`),p.Ro())}),m(d,Fv.EventType.ERROR,g=>{f||(f=!0,zi(Qn,`RPC '${e}' stream ${r} transport errored:`,g),p.Ro(new M(I.UNAVAILABLE,"The operation could not be completed")))}),m(d,Fv.EventType.MESSAGE,g=>{var b;if(!f){const _=g.data[0];Y(!!_);const x=_.error||(null===(b=_[0])||void 0===b?void 0:b.error);if(x){R(Qn,`RPC '${e}' stream ${r} received error:`,x);const L=x.status;let W=function(Ft){const Zn=on[Ft];if(void 0!==Zn)return H5(Zn)}(L),ee=x.message;void 0===W&&(W=I.INTERNAL,ee="Unknown error status: "+L+" with message "+x.message),f=!0,p.Ro(new M(W,ee)),d.close()}else R(Qn,`RPC '${e}' stream ${r} received:`,_),p.Vo(_)}}),m(a,wbe.STAT_EVENT,g=>{g.stat===k3.PROXY?R(Qn,`RPC '${e}' stream ${r} detected buffering proxy`):g.stat===k3.NOPROXY&&R(Qn,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{p.Ao()},0),p}}function fb(){return typeof document<"u"?document:null}function Up(n){return new Nwe(n,!0)}class JA{constructor(e,t,i=1e3,r=1.5,o=6e4){this.si=e,this.timerId=t,this.Fo=i,this.Mo=r,this.xo=o,this.Oo=0,this.No=null,this.Bo=Date.now(),this.reset()}reset(){this.Oo=0}Lo(){this.Oo=this.xo}ko(e){this.cancel();const t=Math.floor(this.Oo+this.qo()),i=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-i);r>0&&R("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Oo} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.No=this.si.enqueueAfterDelay(this.timerId,r,()=>(this.Bo=Date.now(),e())),this.Oo*=this.Mo,this.Oo<this.Fo&&(this.Oo=this.Fo),this.Oo>this.xo&&(this.Oo=this.xo)}Qo(){null!==this.No&&(this.No.skipDelay(),this.No=null)}cancel(){null!==this.No&&(this.No.cancel(),this.No=null)}qo(){return(Math.random()-.5)*this.Oo}}class Qq{constructor(e,t,i,r,o,s,a,l){this.si=e,this.Ko=i,this.$o=r,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Uo=0,this.Wo=null,this.Go=null,this.stream=null,this.zo=new JA(e,t)}jo(){return 1===this.state||5===this.state||this.Ho()}Ho(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Jo()}stop(){var e=this;return v(function*(){e.jo()&&(yield e.close(0))})()}Yo(){this.state=0,this.zo.reset()}Zo(){this.Ho()&&null===this.Wo&&(this.Wo=this.si.enqueueAfterDelay(this.Ko,6e4,()=>this.Xo()))}e_(e){this.t_(),this.stream.send(e)}Xo(){var e=this;return v(function*(){if(e.Ho())return e.close(0)})()}t_(){this.Wo&&(this.Wo.cancel(),this.Wo=null)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}close(e,t){var i=this;return v(function*(){i.t_(),i.n_(),i.zo.cancel(),i.Uo++,4!==e?i.zo.reset():t&&t.code===I.RESOURCE_EXHAUSTED?(Qt(t.toString()),Qt("Using maximum backoff delay to prevent overloading the backend."),i.zo.Lo()):t&&t.code===I.UNAUTHENTICATED&&3!==i.state&&(i.authCredentialsProvider.invalidateToken(),i.appCheckCredentialsProvider.invalidateToken()),null!==i.stream&&(i.r_(),i.stream.close(),i.stream=null),i.state=e,yield i.listener.Io(t)})()}r_(){}auth(){this.state=1;const e=this.i_(this.Uo),t=this.Uo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Uo===t&&this.s_(i,r)},i=>{e(()=>{const r=new M(I.UNKNOWN,"Fetching auth token failed: "+i.message);return this.o_(r)})})}s_(e,t){const i=this.i_(this.Uo);this.stream=this.__(e,t),this.stream.ho(()=>{i(()=>(this.state=2,this.Go=this.si.enqueueAfterDelay(this.$o,1e4,()=>(this.Ho()&&(this.state=3),Promise.resolve())),this.listener.ho()))}),this.stream.Io(r=>{i(()=>this.o_(r))}),this.stream.onMessage(r=>{i(()=>this.onMessage(r))})}Jo(){var e=this;this.state=5,this.zo.ko(v(function*(){e.state=0,e.start()}))}o_(e){return R("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}i_(e){return t=>{this.si.enqueueAndForget(()=>this.Uo===e?t():(R("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xEe extends Qq{constructor(e,t,i,r,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o}__(e,t){return this.connection.vo("Listen",e,t)}onMessage(e){this.zo.reset();const t=function Lwe(n,e){let t;if("targetChange"in e){const i="NO_CHANGE"===(c=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===c?1:"REMOVE"===c?2:"CURRENT"===c?3:"RESET"===c?4:G(),r=e.targetChange.targetIds||[],o=function(c,u){return c.useProto3Json?(Y(void 0===u||"string"==typeof u),mn.fromBase64String(u||"")):(Y(void 0===u||u instanceof Uint8Array),mn.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(c){const u=void 0===c.code?I.UNKNOWN:H5(c.code);return new M(u,c.message||"")}(s);t=new G5(i,r,o,a||null)}else if("documentChange"in e){const i=e.documentChange,r=so(n,i.document.name),o=Xt(i.document.updateTime),s=i.document.createTime?Xt(i.document.createTime):X.min(),a=new Bn({mapValue:{fields:i.document.fields}}),l=Et.newFoundDocument(r,o,s,a);t=new Zv(i.targetIds||[],i.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const i=e.documentDelete,r=so(n,i.document),o=i.readTime?Xt(i.readTime):X.min(),s=Et.newNoDocument(r,o);t=new Zv([],i.removedTargetIds||[],s.key,s)}else if("documentRemove"in e){const i=e.documentRemove,r=so(n,i.document);t=new Zv([],i.removedTargetIds||[],r,null)}else{if(!("filter"in e))return G();{const i=e.filter,{count:r=0,unchangedNames:o}=i,s=new Swe(r,o);t=new W5(i.targetId,s)}}var c;return t}(this.serializer,e),i=function(o){if(!("targetChange"in o))return X.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?X.min():s.readTime?Xt(s.readTime):X.min()}(e);return this.listener.a_(t,i)}u_(e){const t={};t.database=Mp(this.serializer),t.addTarget=function(o,s){let a;const l=s.target;if(a=qv(l)?{documents:iq(o,l)}:{query:RA(o,l)},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=X5(o,s.resumeToken);const c=xA(o,s.expectedCount);null!==c&&(a.expectedCount=c)}else if(s.snapshotVersion.compareTo(X.min())>0){a.readTime=Nu(o,s.snapshotVersion.toTimestamp());const c=xA(o,s.expectedCount);null!==c&&(a.expectedCount=c)}return a}(this.serializer,e);const i=function Bwe(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);i&&(t.labels=i),this.e_(t)}c_(e){const t={};t.database=Mp(this.serializer),t.removeTarget=e,this.e_(t)}}class DEe extends Qq{constructor(e,t,i,r,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,r,s),this.serializer=o,this.l_=!1}get h_(){return this.l_}start(){this.l_=!1,this.lastStreamToken=void 0,super.start()}r_(){this.l_&&this.P_([])}__(e,t){return this.connection.vo("Write",e,t)}onMessage(e){if(Y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.l_){this.zo.reset();const t=function Vwe(n,e){return n&&n.length>0?(Y(void 0!==e),n.map(t=>function(r,o){let s=Xt(r.updateTime?r.updateTime:o);return s.isEqual(X.min())&&(s=Xt(o)),new Cwe(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),i=Xt(e.commitTime);return this.listener.I_(i,t)}return Y(!e.writeResults||0===e.writeResults.length),this.l_=!0,this.listener.T_()}E_(){const e={};e.database=Mp(this.serializer),this.e_(e)}P_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>function Pp(n,e){let t;if(e instanceof Pu)t={update:tq(n,e.key,e.value)};else if(e instanceof ku)t={delete:Rp(n,e.key)};else if(e instanceof Jo)t={update:tq(n,e.key,e.data),updateMask:zwe(e.fieldMask)};else{if(!(e instanceof wA))return G();t={verify:Rp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(o,s){const a=s.transform;if(a instanceof Ru)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ul)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof dl)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Mu)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw G()}(0,i))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:Owe(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:G()),t;var o}(this.serializer,i))};this.e_(t)}}class SEe extends class{}{constructor(e,t,i,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=r,this.d_=!1}A_(){if(this.d_)throw new M(I.FAILED_PRECONDITION,"The client has already been terminated.")}wo(e,t,i){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.wo(e,t,i,r,o)).catch(r=>{throw"FirebaseError"===r.name?(r.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new M(I.UNKNOWN,r.toString())})}Co(e,t,i,r){return this.A_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Co(e,t,i,o,s,r)).catch(o=>{throw"FirebaseError"===o.name?(o.code===I.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new M(I.UNKNOWN,o.toString())})}terminate(){this.d_=!0}}class REe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.V_=0,this.m_=null,this.f_=!0}g_(){0===this.V_&&(this.p_("Unknown"),this.m_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.m_=null,this.y_("Backend didn't respond within 10 seconds."),this.p_("Offline"),Promise.resolve())))}w_(e){"Online"===this.state?this.p_("Unknown"):(this.V_++,this.V_>=1&&(this.S_(),this.y_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.p_("Offline")))}set(e){this.S_(),this.V_=0,"Online"===e&&(this.f_=!1),this.p_(e)}p_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}y_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.f_?(Qt(t),this.f_=!1):R("OnlineStateTracker",t)}S_(){null!==this.m_&&(this.m_.cancel(),this.m_=null)}}class MEe{constructor(e,t,i,r,o){var s=this;this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.b_=[],this.D_=new Map,this.C_=new Set,this.v_=[],this.F_=o,this.F_.ro(a=>{i.enqueueAndForget(v(function*(){var l;Zs(s)&&(R("RemoteStore","Restarting streams for network reachability change."),yield(l=v(function*(u){const d=U(u);d.C_.add(4),yield Hu(d),d.M_.set("Unknown"),d.C_.delete(4),yield jp(d)}),function c(u){return l.apply(this,arguments)})(s))}))}),this.M_=new REe(i,r)}}function jp(n){return tR.apply(this,arguments)}function tR(){return tR=v(function*(n){if(Zs(n))for(const e of n.v_)yield e(!0)}),tR.apply(this,arguments)}function Hu(n){return nR.apply(this,arguments)}function nR(){return nR=v(function*(n){for(const e of n.v_)yield e(!1)}),nR.apply(this,arguments)}function pb(n,e){const t=U(n);t.D_.has(e.targetId)||(t.D_.set(e.targetId,e),oR(t)?rR(t):$u(t).Ho()&&iR(t,e))}function Hp(n,e){const t=U(n),i=$u(t);t.D_.delete(e),i.Ho()&&Xq(t,e),0===t.D_.size&&(i.Ho()?i.Zo():Zs(t)&&t.M_.set("Unknown"))}function iR(n,e){if(n.x_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(X.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}$u(n).u_(e)}function Xq(n,e){n.x_.Oe(e),$u(n).c_(e)}function rR(n){n.x_=new Rwe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>n.D_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),$u(n).start(),n.M_.g_()}function oR(n){return Zs(n)&&!$u(n).jo()&&n.D_.size>0}function Zs(n){return 0===U(n).C_.size}function Zq(n){n.x_=void 0}function PEe(n){return sR.apply(this,arguments)}function sR(){return sR=v(function*(n){n.D_.forEach((e,t)=>{iR(n,e)})}),sR.apply(this,arguments)}function kEe(n,e){return aR.apply(this,arguments)}function aR(){return aR=v(function*(n,e){Zq(n),oR(n)?(n.M_.w_(e),rR(n)):n.M_.set("Unknown")}),aR.apply(this,arguments)}function NEe(n,e,t){return lR.apply(this,arguments)}function lR(){return lR=v(function*(n,e,t){if(n.M_.set("Online"),e instanceof G5&&2===e.state&&e.cause)try{yield(i=v(function*(o,s){const a=s.cause;for(const l of s.targetIds)o.D_.has(l)&&(yield o.remoteSyncer.rejectListen(l,a),o.D_.delete(l),o.x_.removeTarget(l))}),function r(o,s){return i.apply(this,arguments)})(n,e)}catch(i){R("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),yield mb(n,i)}else if(e instanceof Zv?n.x_.$e(e):e instanceof W5?n.x_.Je(e):n.x_.Ge(e),!t.isEqual(X.min()))try{const i=yield Uq(n.localStore);t.compareTo(i)>=0&&(yield function(o,s){const a=o.x_.it(s);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=o.D_.get(c);u&&o.D_.set(c,u.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,c)=>{const u=o.D_.get(l);if(!u)return;o.D_.set(l,u.withResumeToken(mn.EMPTY_BYTE_STRING,u.snapshotVersion)),Xq(o,l);const d=new es(u.target,l,c,u.sequenceNumber);iR(o,d)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(i){R("RemoteStore","Failed to raise snapshot:",i),yield mb(n,i)}var i}),lR.apply(this,arguments)}function mb(n,e,t){return cR.apply(this,arguments)}function cR(){return cR=v(function*(n,e,t){if(!js(e))throw e;n.C_.add(1),yield Hu(n),n.M_.set("Offline"),t||(t=()=>Uq(n.localStore)),n.asyncQueue.enqueueRetryable(v(function*(){R("RemoteStore","Retrying IndexedDB access"),yield t(),n.C_.delete(1),yield jp(n)}))}),cR.apply(this,arguments)}function Jq(n,e){return e().catch(t=>mb(n,t,e))}function zu(n){return uR.apply(this,arguments)}function uR(){return uR=v(function*(n){const e=U(n),t=Js(e);let i=e.b_.length>0?e.b_[e.b_.length-1].batchId:-1;for(;OEe(e);)try{const r=yield vEe(e.localStore,i);if(null===r){0===e.b_.length&&t.Zo();break}i=r.batchId,FEe(e,r)}catch(r){yield mb(e,r)}eW(e)&&tW(e)}),uR.apply(this,arguments)}function OEe(n){return Zs(n)&&n.b_.length<10}function FEe(n,e){n.b_.push(e);const t=Js(n);t.Ho()&&t.h_&&t.P_(e.mutations)}function eW(n){return Zs(n)&&!Js(n).jo()&&n.b_.length>0}function tW(n){Js(n).start()}function LEe(n){return dR.apply(this,arguments)}function dR(){return dR=v(function*(n){Js(n).E_()}),dR.apply(this,arguments)}function VEe(n){return hR.apply(this,arguments)}function hR(){return hR=v(function*(n){const e=Js(n);for(const t of n.b_)e.P_(t.mutations)}),hR.apply(this,arguments)}function BEe(n,e,t){return fR.apply(this,arguments)}function fR(){return fR=v(function*(n,e,t){const i=n.b_.shift(),r=IA.from(i,e,t);yield Jq(n,()=>n.remoteSyncer.applySuccessfulWrite(r)),yield zu(n)}),fR.apply(this,arguments)}function UEe(n,e){return pR.apply(this,arguments)}function pR(){return pR=v(function*(n,e){var t;e&&Js(n).h_&&(yield(t=v(function*(r,o){if(function j5(n){switch(n){default:return G();case I.CANCELLED:case I.UNKNOWN:case I.DEADLINE_EXCEEDED:case I.RESOURCE_EXHAUSTED:case I.INTERNAL:case I.UNAVAILABLE:case I.UNAUTHENTICATED:return!1;case I.INVALID_ARGUMENT:case I.NOT_FOUND:case I.ALREADY_EXISTS:case I.PERMISSION_DENIED:case I.FAILED_PRECONDITION:case I.ABORTED:case I.OUT_OF_RANGE:case I.UNIMPLEMENTED:case I.DATA_LOSS:return!0}}(a=o.code)&&a!==I.ABORTED){const s=r.b_.shift();Js(r).Yo(),yield Jq(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,o)),yield zu(r)}var a}),function i(r,o){return t.apply(this,arguments)})(n,e)),eW(n)&&tW(n)}),pR.apply(this,arguments)}function nW(n,e){return mR.apply(this,arguments)}function mR(){return mR=v(function*(n,e){const t=U(n);t.asyncQueue.verifyOperationInProgress(),R("RemoteStore","RemoteStore received new credentials");const i=Zs(t);t.C_.add(3),yield Hu(t),i&&t.M_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.C_.delete(3),yield jp(t)}),mR.apply(this,arguments)}function _R(){return _R=v(function*(n,e){const t=U(n);e?(t.C_.delete(2),yield jp(t)):e||(t.C_.add(2),yield Hu(t),t.M_.set("Unknown"))}),_R.apply(this,arguments)}function $u(n){return n.O_||(n.O_=function(t,i,r){const o=U(t);return o.A_(),new xEe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:PEe.bind(null,n),Io:kEe.bind(null,n),a_:NEe.bind(null,n)}),n.v_.push(function(){var e=v(function*(t){t?(n.O_.Yo(),oR(n)?rR(n):n.M_.set("Unknown")):(yield n.O_.stop(),Zq(n))});return function(t){return e.apply(this,arguments)}}())),n.O_}function Js(n){return n.N_||(n.N_=function(t,i,r){const o=U(t);return o.A_(),new DEe(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)}(n.datastore,n.asyncQueue,{ho:LEe.bind(null,n),Io:UEe.bind(null,n),T_:VEe.bind(null,n),I_:BEe.bind(null,n)}),n.v_.push(function(){var e=v(function*(t){t?(n.N_.Yo(),yield zu(n)):(yield n.N_.stop(),n.b_.length>0&&(R("RemoteStore",`Stopping write stream with ${n.b_.length} pending writes`),n.b_=[]))});return function(t){return e.apply(this,arguments)}}())),n.N_}class yR{constructor(e,t,i,r,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,r,o){const s=Date.now()+i,a=new yR(e,t,s,r,o);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new M(I.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function qu(n,e){if(Qt("AsyncQueue",`${e}: ${n}`),js(n))return new M(I.UNAVAILABLE,`${e}: ${n}`);throw n}class Wu{constructor(e){this.comparator=e?(t,i)=>e(t,i)||H.comparator(t.key,i.key):(t,i)=>H.comparator(t.key,i.key),this.keyedMap=Ip(),this.sortedSet=new ht(this.comparator)}static emptySet(e){return new Wu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Wu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const i=new Wu;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class iW{constructor(){this.B_=new ht(H.comparator)}track(e){const t=e.doc.key,i=this.B_.get(t);i?0!==e.type&&3===i.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==i.type?this.B_=this.B_.insert(t,{type:i.type,doc:e.doc}):2===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===i.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===i.type?this.B_=this.B_.remove(t):1===e.type&&2===i.type?this.B_=this.B_.insert(t,{type:1,doc:i.doc}):0===e.type&&1===i.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):G():this.B_=this.B_.insert(t,e)}L_(){const e=[];return this.B_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Gu{constructor(e,t,i,r,o,s,a,l,c){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,t,i,r,o){const s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new Gu(e,t,Wu.emptySet(t),s,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&wp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==i[r].type||!t[r].doc.isEqual(i[r].doc))return!1;return!0}}class jEe{constructor(){this.k_=void 0,this.listeners=[]}}class HEe{constructor(){this.queries=new Zo(e=>E5(e),wp),this.onlineState="Unknown",this.q_=new Set}}function bR(){return bR=v(function*(n,e){const t=U(n),i=e.query;let r=!1,o=t.queries.get(i);if(o||(r=!0,o=new jEe),r)try{o.k_=yield t.onListen(i)}catch(s){const a=qu(s,`Initialization of query '${Au(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.listeners.push(e),e.Q_(t.onlineState),o.k_&&e.K_(o.k_)&&IR(t)}),bR.apply(this,arguments)}function ER(){return ER=v(function*(n,e){const t=U(n),i=e.query;let r=!1;const o=t.queries.get(i);if(o){const s=o.listeners.indexOf(e);s>=0&&(o.listeners.splice(s,1),r=0===o.listeners.length)}if(r)return t.queries.delete(i),t.onUnlisten(i)}),ER.apply(this,arguments)}function zEe(n,e){const t=U(n);let i=!1;for(const r of e){const s=t.queries.get(r.query);if(s){for(const a of s.listeners)a.K_(r)&&(i=!0);s.k_=r}}i&&IR(t)}function $Ee(n,e,t){const i=U(n),r=i.queries.get(e);if(r)for(const o of r.listeners)o.onError(t);i.queries.delete(e)}function IR(n){n.q_.forEach(e=>{e.next()})}class CR{constructor(e,t,i){this.query=e,this.U_=t,this.W_=!1,this.G_=null,this.onlineState="Unknown",this.options=i||{}}K_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)3!==r.type&&i.push(r);e=new Gu(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.W_?this.z_(e)&&(this.U_.next(e),t=!0):this.j_(e,this.onlineState)&&(this.H_(e),t=!0),this.G_=e,t}onError(e){this.U_.error(e)}Q_(e){this.onlineState=e;let t=!1;return this.G_&&!this.W_&&this.j_(this.G_,e)&&(this.H_(this.G_),t=!0),t}j_(e,t){return!e.fromCache||(!this.options.J_||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}z_(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.G_&&this.G_.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}H_(e){e=Gu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.W_=!0,this.U_.next(e)}}class sW{constructor(e){this.key=e}}class aW{constructor(e){this.key=e}}class lW{constructor(e,t){this.query=e,this.ia=t,this.sa=null,this.hasCachedResults=!1,this.current=!1,this.oa=ye(),this.mutatedKeys=ye(),this._a=C5(e),this.aa=new Wu(this._a)}get ua(){return this.ia}ca(e,t){const i=t?t.la:new iW,r=t?t.aa:this.aa;let o=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const l="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((u,d)=>{const h=r.get(u),f=Ep(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let g=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(i.track({type:3,doc:f}),g=!0):this.ha(h,f)||(i.track({type:2,doc:f}),g=!0,(l&&this._a(f,l)>0||c&&this._a(f,c)<0)&&(a=!0)):!h&&f?(i.track({type:0,doc:f}),g=!0):h&&!f&&(i.track({type:1,doc:h}),g=!0,(l||c)&&(a=!0)),g&&(f?(s=s.add(f),o=m?o.add(u):o.delete(u)):(s=s.delete(u),o=o.delete(u)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const u="F"===this.query.limitType?s.last():s.first();s=s.delete(u.key),o=o.delete(u.key),i.track({type:1,doc:u})}return{aa:s,la:i,Zi:a,mutatedKeys:o}}ha(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i){const r=this.aa;this.aa=e.aa,this.mutatedKeys=e.mutatedKeys;const o=e.la.L_();o.sort((c,u)=>function(h,f){const p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return p(h)-p(f)}(c.type,u.type)||this._a(c.doc,u.doc)),this.Pa(i);const s=t?this.Ia():[],a=0===this.oa.size&&this.current?1:0,l=a!==this.sa;return this.sa=a,0!==o.length||l?{snapshot:new Gu(this.query,e.aa,r,o,e.mutatedKeys,0===a,l,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ta:s}:{Ta:s}}Q_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({aa:this.aa,la:new iW,mutatedKeys:this.mutatedKeys,Zi:!1},!1)):{Ta:[]}}Ea(e){return!this.ia.has(e)&&!!this.aa.has(e)&&!this.aa.get(e).hasLocalMutations}Pa(e){e&&(e.addedDocuments.forEach(t=>this.ia=this.ia.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ia=this.ia.delete(t)),this.current=e.current)}Ia(){if(!this.current)return[];const e=this.oa;this.oa=ye(),this.aa.forEach(i=>{this.Ea(i.key)&&(this.oa=this.oa.add(i.key))});const t=[];return e.forEach(i=>{this.oa.has(i)||t.push(new aW(i))}),this.oa.forEach(i=>{e.has(i)||t.push(new sW(i))}),t}da(e){this.ia=e.ls,this.oa=ye();const t=this.ca(e.documents);return this.applyChanges(t,!0)}Aa(){return Gu.fromInitialDocuments(this.query,this.aa,this.mutatedKeys,0===this.sa,this.hasCachedResults)}}class GEe{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class KEe{constructor(e){this.key=e,this.Ra=!1}}class YEe{constructor(e,t,i,r,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Va={},this.ma=new Zo(a=>E5(a),wp),this.fa=new Map,this.ga=new Set,this.pa=new ht(H.comparator),this.ya=new Map,this.wa=new VA,this.Sa={},this.ba=new Map,this.Da=_l.Nn(),this.onlineState="Unknown",this.Ca=void 0}get isPrimaryClient(){return!0===this.Ca}}function QEe(n,e){return TR.apply(this,arguments)}function TR(){return TR=v(function*(n,e){const t=function KR(n){const e=U(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=cW.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=oIe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JEe.bind(null,e),e.Va.a_=zEe.bind(null,e.eventManager),e.Va.Fa=$Ee.bind(null,e.eventManager),e}(n);let i,r;const o=t.ma.get(e);if(o)i=o.targetId,t.sharedClientState.addLocalQueryTarget(i),r=o.view.Aa();else{const s=yield function Uu(n,e){const t=U(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return t.qr.getTargetData(i,e).next(o=>o?(r=o,w.resolve(r)):t.qr.allocateTargetId(i).next(s=>(r=new es(e,s,"TargetPurposeListen",i.currentSequenceNumber),t.qr.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=t.ts.get(i.targetId);return(null===r||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.ts=t.ts.insert(i.targetId,i),t.ns.set(e,i.targetId)),i})}(t.localStore,fi(e)),a=t.sharedClientState.addLocalQueryTarget(s.targetId);i=s.targetId,r=yield function xR(n,e,t,i,r){return DR.apply(this,arguments)}(t,e,i,"current"===a,s.resumeToken),t.isPrimaryClient&&pb(t.remoteStore,s)}return r}),TR.apply(this,arguments)}function DR(){return DR=v(function*(n,e,t,i,r){n.va=(d,h,f)=>{return(p=v(function*(g,b,_,E){let x=b.view.ca(_);x.Zi&&(x=yield cb(g.localStore,b.query,!1).then(({documents:ee})=>b.view.ca(ee,x)));const L=E&&E.targetChanges.get(b.targetId),W=b.view.applyChanges(x,g.isPrimaryClient,L);return LR(g,b.targetId,W.Ta),W.snapshot}),function m(g,b,_,E){return p.apply(this,arguments)})(n,d,h,f);var p};const o=yield cb(n.localStore,e,!0),s=new lW(e,o.ls),a=s.ca(o.documents),l=Ap.createSynthesizedTargetChangeForCurrentChange(t,i&&"Offline"!==n.onlineState,r),c=s.applyChanges(a,n.isPrimaryClient,l);LR(n,t,c.Ta);const u=new GEe(e,t,s);return n.ma.set(e,u),n.fa.has(t)?n.fa.get(t).push(e):n.fa.set(t,[e]),c.snapshot}),DR.apply(this,arguments)}function XEe(n,e){return SR.apply(this,arguments)}function SR(){return SR=v(function*(n,e){const t=U(n),i=t.ma.get(e),r=t.fa.get(i.targetId);if(r.length>1)return t.fa.set(i.targetId,r.filter(o=>!wp(o,e))),void t.ma.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(i.targetId),t.sharedClientState.isActiveQueryTarget(i.targetId)||(yield ju(t.localStore,i.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(i.targetId),Hp(t.remoteStore,i.targetId),Ku(t,i.targetId)}).catch(Us))):(Ku(t,i.targetId),yield ju(t.localStore,i.targetId,!0))}),SR.apply(this,arguments)}function AR(){return AR=v(function*(n,e,t){const i=function YR(n){const e=U(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eIe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tIe.bind(null,e),e}(n);try{const r=yield function(s,a){const l=U(s),c=kt.now(),u=a.reduce((f,p)=>f.add(p.key),ye());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=Di(),m=ye();return l.ss.getEntries(f,u).next(g=>{p=g,p.forEach((b,_)=>{_.isValidDocument()||(m=m.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(f,p)).next(g=>{d=g;const b=[];for(const _ of a){const E=xwe(_,d.get(_.key).overlayedDocument);null!=E&&b.push(new Jo(_.key,E,a5(E.value.mapValue),Dt.exists(!0)))}return l.mutationQueue.addMutationBatch(f,c,b,a)}).next(g=>{h=g;const b=g.applyToLocalDocumentSet(d,m);return l.documentOverlayCache.saveOverlays(f,g.batchId,b)})}).then(()=>({batchId:h.batchId,changes:x5(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(s,a,l){let c=s.Sa[s.currentUser.toKey()];c||(c=new ht(ae)),c=c.insert(a,l),s.Sa[s.currentUser.toKey()]=c}(i,r.batchId,t),yield ts(i,r.changes),yield zu(i.remoteStore)}catch(r){const o=qu(r,"Failed to persist write");t.reject(o)}}),AR.apply(this,arguments)}function cW(n,e){return RR.apply(this,arguments)}function RR(){return RR=v(function*(n,e){const t=U(n);try{const i=yield function yEe(n,e){const t=U(n),i=e.snapshotVersion;let r=t.ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=t.ss.newChangeBuffer({trackRemovals:!0});r=t.ts;const a=[];e.targetChanges.forEach((u,d)=>{const h=r.get(d);if(!h)return;a.push(t.qr.removeMatchingKeys(o,u.removedDocuments,d).next(()=>t.qr.addMatchingKeys(o,u.addedDocuments,d)));let f=h.withSequenceNumber(o.currentSequenceNumber);var m,g,b;null!==e.targetMismatches.get(d)?f=f.withResumeToken(mn.EMPTY_BYTE_STRING,X.min()).withLastLimboFreeSnapshotVersion(X.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,i)),r=r.insert(d,f),g=f,b=u,(0===(m=h).resumeToken.approximateByteSize()||g.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8||b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0)&&a.push(t.qr.updateTargetData(o,f))});let l=Di(),c=ye();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,u))}),a.push(function jq(n,e,t){let i=ye(),r=ye();return t.forEach(o=>i=i.add(o)),e.getEntries(n,i).next(o=>{let s=Di();return t.forEach((a,l)=>{const c=o.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(X.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):R("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{us:s,cs:r}})}(o,s,e.documentUpdates).next(u=>{l=u.us,c=u.cs})),!i.isEqual(X.min())){const u=t.qr.getLastRemoteSnapshotVersion(o).next(d=>t.qr.setTargetsMetadata(o,o.currentSequenceNumber,i));a.push(u)}return w.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,l,c)).next(()=>l)}).then(o=>(t.ts=r,o))}(t.localStore,e);e.targetChanges.forEach((r,o)=>{const s=t.ya.get(o);s&&(Y(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?s.Ra=!0:r.modifiedDocuments.size>0?Y(s.Ra):r.removedDocuments.size>0&&(Y(s.Ra),s.Ra=!1))}),yield ts(t,i,e)}catch(i){yield Us(i)}}),RR.apply(this,arguments)}function uW(n,e,t){const i=U(n);if(i.isPrimaryClient&&0===t||!i.isPrimaryClient&&1===t){const r=[];i.ma.forEach((o,s)=>{const a=s.view.Q_(e);a.snapshot&&r.push(a.snapshot)}),function(s,a){const l=U(s);l.onlineState=a;let c=!1;l.queries.forEach((u,d)=>{for(const h of d.listeners)h.Q_(a)&&(c=!0)}),c&&IR(l)}(i.eventManager,e),r.length&&i.Va.a_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}function JEe(n,e,t){return MR.apply(this,arguments)}function MR(){return MR=v(function*(n,e,t){const i=U(n);i.sharedClientState.updateQueryState(e,"rejected",t);const r=i.ya.get(e),o=r&&r.key;if(o){let s=new ht(H.comparator);s=s.insert(o,Et.newNoDocument(o,X.min()));const a=ye().add(o),l=new Sp(X.min(),new Map,new ht(ae),s,a);yield cW(i,l),i.pa=i.pa.remove(o),i.ya.delete(e),VR(i)}else yield ju(i.localStore,e,!1).then(()=>Ku(i,e,t)).catch(Us)}),MR.apply(this,arguments)}function eIe(n,e){return PR.apply(this,arguments)}function PR(){return PR=v(function*(n,e){const t=U(n),i=e.batch.batchId;try{const r=yield function _Ee(n,e){const t=U(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),o=t.ss.newChangeBuffer({trackRemovals:!0});return function(a,l,c,u){const d=c.batch,h=d.keys();let f=w.resolve();return h.forEach(p=>{f=f.next(()=>u.getEntry(l,p)).next(m=>{const g=c.docVersions.get(p);Y(null!==g),m.version.compareTo(g)<0&&(d.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),f.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(t,i,e,o).next(()=>o.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ye();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>t.localDocuments.getDocuments(i,r))})}(t.localStore,e);FR(t,i,null),OR(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),yield ts(t,r)}catch(r){yield Us(r)}}),PR.apply(this,arguments)}function tIe(n,e,t){return kR.apply(this,arguments)}function kR(){return kR=v(function*(n,e,t){const i=U(n);try{const r=yield function(s,a){const l=U(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,a).next(d=>(Y(null!==d),u=d.keys(),l.mutationQueue.removeMutationBatch(c,d))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(i.localStore,e);FR(i,e,t),OR(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),yield ts(i,r)}catch(r){yield Us(r)}}),kR.apply(this,arguments)}function OR(n,e){(n.ba.get(e)||[]).forEach(t=>{t.resolve()}),n.ba.delete(e)}function FR(n,e,t){const i=U(n);let r=i.Sa[i.currentUser.toKey()];if(r){const o=r.get(e);o&&(t?o.reject(t):o.resolve(),r=r.remove(e)),i.Sa[i.currentUser.toKey()]=r}}function Ku(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.fa.get(e))n.ma.delete(i),t&&n.Va.Fa(i,t);n.fa.delete(e),n.isPrimaryClient&&n.wa.Rr(e).forEach(i=>{n.wa.containsKey(i)||dW(n,i)})}function dW(n,e){n.ga.delete(e.path.canonicalString());const t=n.pa.get(e);null!==t&&(Hp(n.remoteStore,t),n.pa=n.pa.remove(e),n.ya.delete(t),VR(n))}function LR(n,e,t){for(const i of t)i instanceof sW?(n.wa.addReference(i.key,e),iIe(n,i)):i instanceof aW?(R("SyncEngine","Document no longer in limbo: "+i.key),n.wa.removeReference(i.key,e),n.wa.containsKey(i.key)||dW(n,i.key)):G()}function iIe(n,e){const t=e.key,i=t.path.canonicalString();n.pa.get(t)||n.ga.has(i)||(R("SyncEngine","New document in limbo: "+t),n.ga.add(i),VR(n))}function VR(n){for(;n.ga.size>0&&n.pa.size<n.maxConcurrentLimboResolutions;){const e=n.ga.values().next().value;n.ga.delete(e);const t=new H(Ve.fromString(e)),i=n.Da.next();n.ya.set(i,new KEe(t)),n.pa=n.pa.insert(t,i),pb(n.remoteStore,new es(fi(Du(t.path)),i,"TargetPurposeLimboResolution",qi._e))}}function ts(n,e,t){return BR.apply(this,arguments)}function BR(){return BR=v(function*(n,e,t){const i=U(n),r=[],o=[],s=[];var a;i.ma.isEmpty()||(i.ma.forEach((a,l)=>{s.push(i.va(l,e,t).then(c=>{if((c||t)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(l.targetId,c?.fromCache?"not-current":"current"),c){r.push(c);const u=zA.Qi(l.targetId,c);o.push(u)}}))}),yield Promise.all(s),i.Va.a_(r),yield(a=v(function*(c,u){const d=U(c);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>w.forEach(u,f=>w.forEach(f.ki,p=>d.persistence.referenceDelegate.addReference(h,f.targetId,p)).next(()=>w.forEach(f.qi,p=>d.persistence.referenceDelegate.removeReference(h,f.targetId,p)))))}catch(h){if(!js(h))throw h;R("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const f=h.targetId;if(!h.fromCache){const p=d.ts.get(f),g=p.withLastLimboFreeSnapshotVersion(p.snapshotVersion);d.ts=d.ts.insert(f,g)}}}),function l(c,u){return a.apply(this,arguments)})(i.localStore,o))}),BR.apply(this,arguments)}function rIe(n,e){return UR.apply(this,arguments)}function UR(){return UR=v(function*(n,e){const t=U(n);if(!t.currentUser.isEqual(e)){R("SyncEngine","User change. New user:",e.toKey());const i=yield Bq(t.localStore,e);t.currentUser=e,(o=t).ba.forEach(a=>{a.forEach(l=>{l.reject(new M(I.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.ba.clear(),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),yield ts(t,i._s)}var o}),UR.apply(this,arguments)}function oIe(n,e){const t=U(n),i=t.ya.get(e);if(i&&i.Ra)return ye().add(i.key);{let r=ye();const o=t.fa.get(e);if(!o)return r;for(const s of o){const a=t.ma.get(s);r=r.unionWith(a.view.ua)}return r}}class gb{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return v(function*(){t.serializer=Up(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function Vq(n,e,t,i){return new gEe(n,e,t,i)}(this.persistence,new Lq,e.initialUser,this.serializer)}createPersistence(e){return new BA(sb.jr,this.serializer)}createSharedClientState(e){return new Gq}terminate(){var e=this;return v(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Yu{initialize(e,t){var i=this;return v(function*(){i.localStore||(i.localStore=e.localStore,i.sharedClientState=e.sharedClientState,i.datastore=i.createDatastore(t),i.remoteStore=i.createRemoteStore(t),i.eventManager=i.createEventManager(t),i.syncEngine=i.createSyncEngine(t,!e.synchronizeTabs),i.sharedClientState.onlineStateHandler=r=>uW(i.syncEngine,r,1),i.remoteStore.remoteSyncer.handleCredentialChange=rIe.bind(null,i.syncEngine),yield function gR(n,e){return _R.apply(this,arguments)}(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(e){return new HEe}createDatastore(e){const t=Up(e.databaseInfo.databaseId),i=new TEe(e.databaseInfo);return new SEe(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return i=this.localStore,r=this.datastore,o=e.asyncQueue,s=t=>uW(this.syncEngine,t,0),a=Kq.D()?new Kq:new EEe,new MEe(i,r,o,s,a);var i,r,o,s,a}createSyncEngine(e,t){return function(r,o,s,a,l,c,u){const d=new YEe(r,o,s,a,l,c);return u&&(d.Ca=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=v(function*(i){const r=U(i);R("RemoteStore","RemoteStore shutting down."),r.C_.add(5),yield Hu(r),r.F_.shutdown(),r.M_.set("Unknown")}),function t(i){return e.apply(this,arguments)})(this.remoteStore);var e}}class _b{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Oa(this.observer.next,e)}error(e){this.observer.error?this.Oa(this.observer.error,e):Qt("Uncaught Error in snapshot listener:",e.toString())}Na(){this.muted=!0}Oa(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class yIe{constructor(e,t,i,r){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=r,this.user=In.UNAUTHENTICATED,this.clientId=L3.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(i,function(){var s=v(function*(a){R("FirestoreClient","Received user=",a.uid),yield o.authCredentialListener(a),o.user=a});return function(a){return s.apply(this,arguments)}}()),this.appCheckCredentials.start(i,s=>(R("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new M(I.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=qu(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}function yb(n,e){return QR.apply(this,arguments)}function QR(){return QR=v(function*(n,e){n.asyncQueue.verifyOperationInProgress(),R("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(function(){var r=v(function*(o){i.isEqual(o)||(yield Bq(e.localStore,o),i=o)});return function(o){return r.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),QR.apply(this,arguments)}function XR(n,e){return ZR.apply(this,arguments)}function ZR(){return ZR=v(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function JR(n){return eM.apply(this,arguments)}(n);R("FirestoreClient","Initializing OnlineComponentProvider");const i=yield n.getConfiguration();yield e.initialize(t,i),n.setCredentialChangeListener(r=>nW(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,o)=>nW(e.remoteStore,o)),n._onlineComponents=e}),ZR.apply(this,arguments)}function eM(){return eM=v(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){R("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yb(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function _W(n){return"FirebaseError"===n.name?n.code===I.FAILED_PRECONDITION||n.code===I.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}(t))throw t;zi("Error using user provided cache. Falling back to memory cache: "+t),yield yb(n,new gb)}}else R("FirestoreClient","Using default OfflineComponentProvider"),yield yb(n,new gb);return n._offlineComponents}),eM.apply(this,arguments)}function vb(n){return tM.apply(this,arguments)}function tM(){return tM=v(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(R("FirestoreClient","Using user provided OnlineComponentProvider"),yield XR(n,n._uninitializedComponentsProvider._online)):(R("FirestoreClient","Using default OnlineComponentProvider"),yield XR(n,new Yu))),n._onlineComponents}),tM.apply(this,arguments)}function Xu(n){return iM.apply(this,arguments)}function iM(){return iM=v(function*(n){const e=yield vb(n),t=e.eventManager;return t.onListen=QEe.bind(null,e.syncEngine),t.onUnlisten=XEe.bind(null,e.syncEngine),t}),iM.apply(this,arguments)}function IW(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const CW=new Map;function TW(n){if(!H.isDocumentKey(n))throw new M(I.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bb(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(i=n).constructor?i.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var i;return"function"==typeof n?"a function":G()}function Pe(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new M(I.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=bb(n);throw new M(I.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class SW{constructor(e){var t,i;if(void 0===e.host){if(void 0!==e.ssl)throw new M(I.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new M(I.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function AIe(n,e,t,i){if(!0===e&&!0===i)throw new M(I.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=IW(null!==(i=e.experimentalLongPollingOptions)&&void 0!==i?i:{}),function(o){if(void 0!==o.timeoutSeconds){if(isNaN(o.timeoutSeconds))throw new M(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new M(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new M(I.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zp{constructor(e,t,i,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SW({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new M(I.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new M(I.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SW(e),void 0!==e.credentials&&(this._authCredentials=function(i){if(!i)return new Tbe;switch(i.type){case"firstParty":return new Abe(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new M(I.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=CW.get(t);i&&(R("ComponentProvider","Removing Datastore"),CW.delete(t),i.terminate())}(this),Promise.resolve()}}class Un{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Un(this.firestore,e,this._query)}}class Zt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ao(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zt(this.firestore,e,this._key)}}class ao extends Un{constructor(e,t,i){super(e,t,Du(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new H(e))}withConverter(e){return new ao(this.firestore,e,this._path)}}function AW(n,e,...t){if(n=st(n),1===arguments.length&&(e=L3.newId()),function rM(n,e,t){if(!t)throw new M(I.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}("doc","path",e),n instanceof zp){const i=Ve.fromString(e,...t);return TW(i),new Zt(n,null,new H(i))}{if(!(n instanceof Zt||n instanceof ao))throw new M(I.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Ve.fromString(e,...t));return TW(i),new Zt(n.firestore,n instanceof ao?n.converter:null,new H(i))}}class MIe{constructor(){this.Ja=Promise.resolve(),this.Ya=[],this.Za=!1,this.Xa=[],this.eu=null,this.tu=!1,this.nu=!1,this.ru=[],this.zo=new JA(this,"async_queue_retry"),this.iu=()=>{const t=fb();t&&R("AsyncQueue","Visibility state changed to "+t.visibilityState),this.zo.Qo()};const e=fb();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.iu)}get isShuttingDown(){return this.Za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.su(),this.ou(e)}enterRestrictedMode(e){if(!this.Za){this.Za=!0,this.nu=e||!1;const t=fb();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.iu)}}enqueue(e){if(this.su(),this.Za)return new Promise(()=>{});const t=new pn;return this.ou(()=>this.Za&&this.nu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ya.push(e),this._u()))}_u(){var e=this;return v(function*(){if(0!==e.Ya.length){try{yield e.Ya[0](),e.Ya.shift(),e.zo.reset()}catch(t){if(!js(t))throw t;R("AsyncQueue","Operation failed with retryable error: "+t)}e.Ya.length>0&&e.zo.ko(()=>e._u())}})()}ou(e){const t=this.Ja.then(()=>(this.tu=!0,e().catch(i=>{throw this.eu=i,this.tu=!1,Qt("INTERNAL UNHANDLED ERROR: ",function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),a}(i)),i}).then(i=>(this.tu=!1,i))));return this.Ja=t,t}enqueueAfterDelay(e,t,i){this.su(),this.ru.indexOf(e)>-1&&(t=0);const r=yR.createAndSchedule(this,e,t,i,o=>this.au(o));return this.Xa.push(r),r}su(){this.eu&&G()}verifyOperationInProgress(){}uu(){var e=this;return v(function*(){let t;do{t=e.Ja,yield t}while(t!==e.Ja)})()}cu(e){for(const t of this.Xa)if(t.timerId===e)return!0;return!1}lu(e){return this.uu().then(()=>{this.Xa.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Xa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.uu()})}hu(e){this.ru.push(e)}au(e){const t=this.Xa.indexOf(e);this.Xa.splice(t,1)}}function oM(n){return function(t,i){if("object"!=typeof t||null===t)return!1;const r=t;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class ft extends zp{constructor(e,t,i,r){super(e,t,i,r),this.type="firestore",this._queue=new MIe,this._persistenceKey=r?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||MW(this),this._firestoreClient.terminate()}}function kIe(n,e){const i="string"==typeof n?n:e||"(default)",r=su("object"==typeof n?n:Ef(),"firestore").getImmediate({identifier:i});if(!r._initialized){const o=VT("firestore");o&&function RIe(n,e,t,i={}){var r;const o=(n=Pe(n,zp))._getSettings(),s=`${e}:${t}`;if("firestore.googleapis.com"!==o.host&&o.host!==s&&zi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),i.mockUserToken){let a,l;if("string"==typeof i.mockUserToken)a=i.mockUserToken,l=In.MOCK_USER;else{a=BT(i.mockUserToken,null===(r=n._app)||void 0===r?void 0:r.options.projectId);const c=i.mockUserToken.sub||i.mockUserToken.user_id;if(!c)throw new M(I.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new In(c)}n._authCredentials=new xbe(new O3(a,l))}}(r,...o)}return r}function Jt(n){return n._firestoreClient||MW(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function MW(n){var e,t,i;const r=n._freezeSettings(),o=(l=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new owe(n._databaseId,l,n._persistenceKey,(u=r).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,IW(u.experimentalLongPollingOptions),u.useFetchStreams));var l,u;n._firestoreClient=new yIe(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=r.localCache)&&void 0!==t&&t._offlineComponentProvider&&null!==(i=r.localCache)&&void 0!==i&&i._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:r.localCache.kind,_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider})}class vl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vl(mn.fromBase64String(e))}catch(t){throw new M(I.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new vl(mn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new M(I.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class sM{constructor(e){this._methodName=e}}class aM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new M(I.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new M(I.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}const OIe=/^__.*__$/;class FIe{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return null!==this.fieldMask?new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Pu(e,this.data,t,this.fieldTransforms)}}class NW{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Jo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function OW(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class wb{constructor(e,t,i,r,o,s){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=r,void 0===o&&this.Pu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Iu(){return this.settings.Iu}Tu(e){return new wb(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Eu(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Au(e),r}Ru(e){var t;const i=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tu({path:i,du:!1});return r.Pu(),r}Vu(e){return this.Tu({path:void 0,du:!0})}mu(e){return Ib(e,this.settings.methodName,this.settings.fu||!1,this.path,this.settings.gu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Au(this.path.get(e))}Au(e){if(0===e.length)throw this.mu("Document fields must not be empty");if(OW(this.Iu)&&OIe.test(e))throw this.mu('Document fields cannot begin and end with "__"')}}class LIe{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Up(e)}pu(e,t,i,r=!1){return new wb({Iu:e,methodName:t,gu:i,path:xt.emptyPath(),du:!1,fu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ju(n){const e=n._freezeSettings(),t=Up(n._databaseId);return new LIe(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lM(n,e,t,i,r,o={}){const s=n.pu(o.merge||o.mergeFields?2:0,e,t,r);uM("Data must be an object, but it was:",s,i);const a=UW(i,s);let l,c;if(o.merge)l=new xi(s.fieldMask),c=s.fieldTransforms;else if(o.mergeFields){const u=[];for(const d of o.mergeFields){const h=Wp(e,d,t);if(!s.contains(h))throw new M(I.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);HW(u,h)||u.push(h)}l=new xi(u),c=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=s.fieldTransforms;return new FIe(new Bn(a),l,c)}class qp extends sM{_toFieldTransform(e){if(2!==e.Iu)throw e.mu(1===e.Iu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qp}}function bl(n,e){if(jW(n=st(n)))return uM("Unsupported field value:",e,n),UW(n,e);if(n instanceof sM)return function(i,r){if(!OW(r.Iu))throw r.mu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.mu(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.du&&4!==e.Iu)throw e.mu("Nested arrays are not supported");return function(i,r){const o=[];let s=0;for(const a of i){let l=bl(a,r.Vu(s));null==l&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(n,e)}return function(i,r){if(null===(i=st(i)))return{nullValue:"NULL_VALUE"};if("number"==typeof i)return R5(r.serializer,i);if("boolean"==typeof i)return{booleanValue:i};if("string"==typeof i)return{stringValue:i};if(i instanceof Date){const o=kt.fromDate(i);return{timestampValue:Nu(r.serializer,o)}}if(i instanceof kt){const o=new kt(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Nu(r.serializer,o)}}if(i instanceof aM)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof vl)return{bytesValue:X5(r.serializer,i._byteString)};if(i instanceof Zt){const o=r.databaseId,s=i.firestore._databaseId;if(!s.isEqual(o))throw r.mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:DA(i.firestore._databaseId||r.databaseId,i._key.path)}}throw r.mu(`Unsupported field value: ${bb(i)}`)}(n,e)}function UW(n,e){const t={};return X3(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(n,(i,r)=>{const o=bl(r,e.Eu(i));null!=o&&(t[i]=o)}),{mapValue:{fields:t}}}function jW(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof kt||n instanceof aM||n instanceof vl||n instanceof Zt||n instanceof sM)}function uM(n,e,t){if(!jW(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const i=bb(t);throw e.mu("an object"===i?n+" a custom object":n+" "+i)}var r}function Wp(n,e,t){if((e=st(e))instanceof Zu)return e._internalPath;if("string"==typeof e)return Eb(n,e);throw Ib("Field path arguments must be of type string or ",n,!1,void 0,t)}const jIe=new RegExp("[~\\*/\\[\\]]");function Eb(n,e,t){if(e.search(jIe)>=0)throw Ib(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Zu(...e.split("."))._internalPath}catch{throw Ib(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Ib(n,e,t,i,r){const o=i&&!i.isEmpty(),s=void 0!==r;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${i}`),s&&(l+=` in document ${r}`),l+=")"),new M(I.INVALID_ARGUMENT,a+n+l)}function HW(n,e){return n.some(t=>t.isEqual(e))}class dM{constructor(e,t,i,r,o){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new HIe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Cb("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class HIe extends dM{data(){return super.data()}}function Cb(n,e){return"string"==typeof e?Eb(n,e):e instanceof Zu?e._internalPath:e._delegate._internalPath}class $Ie{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return zt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Hs(e,(r,o)=>{i[r]=this.convertValue(o,t)}),i}convertGeoPoint(e){return new aM(zt(e.latitude),zt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=jv(e);return null==i?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(mp(e));default:return null}}convertTimestamp(e){const t=zs(e);return new kt(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ve.fromString(e);Y(aq(i));const r=new al(i.get(1),i.get(3)),o=new H(i.popFirst(5));return r.isEqual(t)||Qt(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}class wl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class td extends dM{constructor(e,t,i,r,o,s){super(e,t,i,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Sb(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Cb("DocumentSnapshot.get",e));if(null!==i)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Sb extends td{data(e={}){return super.data(e)}}class nd{constructor(e,t,i,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wl(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Sb(this._firestore,this._userDataWriter,i.key,i,new wl(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new M(I.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(a=>({type:"added",doc:new Sb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new wl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>o||3!==a.type).map(a=>{const l=new Sb(r._firestore,r._userDataWriter,a.doc.key,a.doc,new wl(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let c=-1,u=-1;return 0!==a.type&&(c=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),1!==a.type&&(s=s.add(a.doc),u=s.indexOf(a.doc.key)),{type:WIe(a.type),doc:l,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function WIe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}class ea extends $Ie{constructor(e){super(),this.firestore=e}convertBytes(e){return new vl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,t)}}function GIe(n,e,t){n=Pe(n,Zt);const i=Pe(n.firestore,ft),r=function fM(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}(n.converter,e,t);return Kp(i,[lM(Ju(i),"setDoc",n._key,r,null!==n.converter,t).toMutation(n._key,Dt.none())])}function KIe(n,e,t,...i){n=Pe(n,Zt);const r=Pe(n.firestore,ft),o=Ju(r);let s;return s="string"==typeof(e=st(e))||e instanceof Zu?function VW(n,e,t,i,r,o){const s=n.pu(1,e,t),a=[Wp(e,i,t)],l=[r];if(o.length%2!=0)throw new M(I.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(Wp(e,o[h])),l.push(o[h+1]);const c=[],u=Bn.empty();for(let h=a.length-1;h>=0;--h)if(!HW(c,a[h])){const f=a[h];let p=l[h];p=st(p);const m=s.Ru(f);if(p instanceof qp)c.push(f);else{const g=bl(p,m);null!=g&&(c.push(f),u.set(f,g))}}const d=new xi(c);return new NW(u,d,s.fieldTransforms)}(o,"updateDoc",n._key,e,t,i):function LW(n,e,t,i){const r=n.pu(1,e,t);uM("Data must be an object, but it was:",r,i);const o=[],s=Bn.empty();Hs(i,(l,c)=>{const u=Eb(e,l,t);c=st(c);const d=r.Ru(u);if(c instanceof qp)o.push(u);else{const h=bl(c,d);null!=h&&(o.push(u),s.set(u,h))}});const a=new xi(o);return new NW(s,a,r.fieldTransforms)}(o,"updateDoc",n._key,e),Kp(r,[s.toMutation(n._key,Dt.exists(!0))])}function Kp(n,e){return function(i,r){const o=new pn;return i.asyncQueue.enqueueAndForget(v(function*(){return function ZEe(n,e,t){return AR.apply(this,arguments)}(yield function nM(n){return vb(n).then(e=>e.syncEngine)}(i),r,o)})),o.promise}(Jt(n),e)}!function(e,t=!0){vu=ks,Ps(new Ho("firestore",(i,{instanceIdentifier:r,options:o})=>{const s=i.getProvider("app").getImmediate(),a=new ft(new Dbe(i.getProvider("auth-internal")),new Rbe(i.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new M(I.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new al(c.options.projectId,u)}(s,r),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),fn(N3,"4.3.2",e),fn(N3,"4.3.2","esm2017")}();var Mb=function(){return Mb=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Mb.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var l0e={includeMetadataChanges:!1};function _M(n,e){return void 0===e&&(e=l0e),new ze(function(t){var i=function YIe(n,...e){var t,i,r;n=st(n);let o={includeMetadataChanges:!1},s=0;"object"!=typeof e[s]||oM(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(oM(e[s])){const d=e[s];e[s]=null===(t=d.next)||void 0===t?void 0:t.bind(d),e[s+1]=null===(i=d.error)||void 0===i?void 0:i.bind(d),e[s+2]=null===(r=d.complete)||void 0===r?void 0:r.bind(d)}let l,c,u;if(n instanceof Zt)c=Pe(n.firestore,ft),u=Du(n._key.path),l={next:d=>{e[s]&&e[s](function pM(n,e,t){const i=t.docs.get(e._key),r=new ea(n);return new td(n,r,e._key,i,new wl(t.hasPendingWrites,t.fromCache),e.converter)}(c,n,d))},error:e[s+1],complete:e[s+2]};else{const d=Pe(n,Un);c=Pe(d.firestore,ft),u=d._query;const h=new ea(c);l={next:f=>{e[s]&&e[s](new nd(c,h,d,f))},error:e[s+1],complete:e[s+2]},function zW(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new M(I.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(h,f,p,m){const g=new _b(m),b=new CR(f,g,p);return h.asyncQueue.enqueueAndForget(v(function*(){return function vR(n,e){return bR.apply(this,arguments)}(yield Xu(h),b)})),()=>{g.Na(),h.asyncQueue.enqueueAndForget(v(function*(){return function wR(n,e){return ER.apply(this,arguments)}(yield Xu(h),b)}))}}(Jt(c),u,a,l)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:i}})}function u0e(n,e){return void 0===e&&(e={}),function c0e(n){return _M(n,{includeMetadataChanges:!0})}(n).pipe(he(function(t){return function ZW(n,e){var t;void 0===e&&(e={});var i=n.data(e);return n.exists()&&"object"==typeof i&&null!==i&&e.idField?Mb(Mb({},i),((t={})[e.idField]=n.id,t)):i}(t,e)}))}class Pb{constructor(e){return e}}const nG="firestore",bM=new S("angularfire2.firestore-instances");function v0e(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new Pb(i)}}const b0e={provide:class _0e{constructor(){return Cf(nG)}},deps:[[new Tt,bM]]},w0e={provide:Pb,useFactory:function y0e(n,e){const t=By(nG,n,e);return t&&new Pb(t)},deps:[[new Tt,bM],Qa]};let E0e=(()=>{class n{constructor(){fn("angularfire",au.full,"fst")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=De({type:n});static \u0275inj=Ce({providers:[w0e,b0e]})}return n})();function I0e(n,...e){return{ngModule:E0e,providers:[{provide:bM,useFactory:v0e(n),multi:!0,deps:[Q,yt,Tf,xf,[new Tt,rv],[new Tt,Uy],...e]}]}}const C0e=jt(u0e,!0),wM=jt(AW,!0),T0e=jt(kIe,!0),x0e=jt(GIe,!0),D0e=jt(KIe,!0);let EM=(()=>{class n{constructor(t,i){this.firestore=t,this.authService=i}get currentUserProfile$(){return this.authService.currentUser$.pipe(ei(t=>{if(!t?.uid)return Z(null);const i=wM(this.firestore,"users",t?.uid);return C0e(i)}))}addUser(t){const i=wM(this.firestore,"users",t.uid);return _t(x0e(i,t))}updateUser(t){const i=wM(this.firestore,"users",t.uid);return _t(D0e(i,{...t}))}static#e=this.\u0275fac=function(i){return new(i||n)(C(Pb),C(ov))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function S0e(n,e){1&n&&(A(0,"mat-error"),P(1," Name is required "),k())}function A0e(n,e){1&n&&(A(0,"mat-error"),P(1," Email address is required "),k())}function R0e(n,e){1&n&&(A(0,"mat-error"),P(1," Please enter a valid email address "),k())}function M0e(n,e){1&n&&(A(0,"mat-error"),P(1," Password is required "),k())}function P0e(n,e){1&n&&(A(0,"mat-error"),P(1," Confirm Password is required "),k())}function k0e(n,e){1&n&&(A(0,"mat-error"),P(1," Passwords should match "),k())}let iG=(()=>{class n{constructor(t,i,r,o,s){this.authService=t,this.router=i,this.toast=r,this.usersService=o,this.fb=s,this.showLoginScreenCall=new ve,this.signUpForm=this.fb.group({name:["",Oo.required],email:["",[Oo.required,Oo.email]],password:["",Oo.required],confirmPassword:["",Oo.required]},{validators:n=>{const e=n.get("password")?.value,t=n.get("confirmPassword")?.value;return e&&t&&e!==t?{passwordsDontMatch:!0}:null}})}ngOnInit(){}get email(){return this.signUpForm.get("email")}get password(){return this.signUpForm.get("password")}get confirmPassword(){return this.signUpForm.get("confirmPassword")}get name(){return this.signUpForm.get("name")}submit(){const{name:t,email:i,password:r}=this.signUpForm.value;this.signUpForm.valid&&t&&r&&i&&(this.showLoginScreenCall.emit(!0),_$(iv(),i,r).then(s=>{ED(s.user,{displayName:t}).then(()=>{}).catch(l=>{})}).catch(s=>{}))}static#e=this.\u0275fac=function(i){return new(i||n)(y(ov),y(On),y(pS),y(EM),y(VC))};static#t=this.\u0275cmp=$e({type:n,selectors:[["app-sign-up"]],outputs:{showLoginScreenCall:"showLoginScreenCall"},decls:23,vars:7,consts:[[1,"form-container","mat-elevation-z5",2,"text-align","center","background-color","black","color","white","border-radius","30px"],[3,"formGroup","ngSubmit"],[2,"text-align","center"],["matInput","","placeholder","Name","formControlName","name"],[4,"ngIf"],[2,"margin-left","10px"],["matInput","","placeholder","Email address","formControlName","email"],["matInput","","type","password","placeholder","Password","formControlName","password"],["matInput","","type","password","placeholder","Confirm Password","formControlName","confirmPassword"],[1,"center","margin-top",2,"text-align","center"],["type","submit","mat-raised-button","",2,"background-color","rgb(57, 55, 55)","color","white"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"h1"),P(2,"Sign Up a New User!"),k(),A(3,"form",1),ue("ngSubmit",function(){return r.submit()}),A(4,"div",2)(5,"mat-form-field"),Ae(6,"input",3),ne(7,S0e,2,0,"mat-error",4),k(),A(8,"mat-form-field",5),Ae(9,"input",6),ne(10,A0e,2,0,"mat-error",4),ne(11,R0e,2,0,"mat-error",4),k()(),A(12,"div",2)(13,"mat-form-field"),Ae(14,"input",7),ne(15,M0e,2,0,"mat-error",4),k(),A(16,"mat-form-field",5),Ae(17,"input",8),ne(18,P0e,2,0,"mat-error",4),k(),ne(19,k0e,2,0,"mat-error",4),k(),A(20,"div",9)(21,"button",10),P(22,"Sign Up!"),k()()()()),2&i&&(j(3),V("formGroup",r.signUpForm),j(4),V("ngIf",null==r.name||null==r.name.errors?null:r.name.errors.required),j(3),V("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.required),j(1),V("ngIf",null==r.email||null==r.email.errors?null:r.email.errors.email),j(4),V("ngIf",null==r.password||null==r.password.errors?null:r.password.errors.required),j(3),V("ngIf",null==r.confirmPassword||null==r.confirmPassword.errors?null:r.confirmPassword.errors.required),j(1),V("ngIf",null==r.signUpForm.errors?null:r.signUpForm.errors.passwordsDontMatch))},dependencies:[Wr,B_,Pa,Ph,A_,mS,J$,_S,Na,Uh,lv]})}return n})();const rG="@firebase/database";let IM="";class O0e{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),bn(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:yf(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class F0e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Xr(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const aG=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new O0e(e)}}catch{}return new F0e},El=aG("localStorage"),CM=aG("sessionStorage"),id=new Fy("@firebase/database"),lG=function(){let n=1;return function(){return n++}}(),cG=function(n){const e=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);if(r>=55296&&r<=56319){const o=r-55296;i++,O(i<n.length,"Surrogate pair missing trail surrogate."),r=65536+(o<<10)+(n.charCodeAt(i)-56320)}r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=63&r|128):r<65536?(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=63&r|128):(e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=63&r|128)}return e}(n),t=new Hhe;t.update(e);const i=t.digest();return LT.encodeByteArray(i)},Yp=function(...n){let e="";for(let t=0;t<n.length;t++){const i=n[t];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?e+=Yp.apply(null,i):e+="object"==typeof i?bn(i):i,e+=" "}return e};let Il=null,uG=!0;const xn=function(...n){if(!0===uG&&(uG=!1,null===Il&&!0===CM.get("logging_enabled")&&function(n,e){O(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(id.logLevel=Re.VERBOSE,Il=id.log.bind(id),e&&CM.set("logging_enabled",!0)):"function"==typeof n?Il=n:(Il=null,CM.remove("logging_enabled"))}(!0)),Il){const e=Yp.apply(null,n);Il(e)}},Qp=function(n){return function(...e){xn(n,...e)}},TM=function(...n){const e="FIREBASE INTERNAL ERROR: "+Yp(...n);id.error(e)},lo=function(...n){const e=`FIREBASE FATAL ERROR: ${Yp(...n)}`;throw id.error(e),new Error(e)},Xn=function(...n){const e="FIREBASE WARNING: "+Yp(...n);id.warn(e)},kb=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},ta="[MIN_NAME]",ns="[MAX_NAME]",Cl=function(n,e){if(n===e)return 0;if(n===ta||e===ns)return-1;if(e===ta||n===ns)return 1;{const t=pG(n),i=pG(e);return null!==t?null!==i?t-i==0?n.length-e.length:t-i:-1:null!==i?1:n<e?-1:1}},B0e=function(n,e){return n===e?0:n<e?-1:1},Xp=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+bn(e))},xM=function(n){if("object"!=typeof n||null===n)return bn(n);const e=[];for(const i in n)e.push(i);e.sort();let t="{";for(let i=0;i<e.length;i++)0!==i&&(t+=","),t+=bn(e[i]),t+=":",t+=xM(n[e[i]]);return t+="}",t},hG=function(n,e){const t=n.length;if(t<=e)return[n];const i=[];for(let r=0;r<t;r+=e)i.push(n.substring(r,r+e>t?t:r+e));return i};function Dn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const fG=function(n){O(!kb(n),"Invalid JSON number");const i=1023;let r,o,s,a,l;0===n?(o=0,s=0,r=1/n==-1/0?1:0):(r=n<0,(n=Math.abs(n))>=Math.pow(2,1-i)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),i),o=a+i,s=Math.round(n*Math.pow(2,52-a)-Math.pow(2,52))):(o=0,s=Math.round(n/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);for(l=11;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);c.push(r?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},z0e=new RegExp("^-?(0*)\\d{1,10}$"),pG=function(n){if(z0e.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},rd=function(n){try{n()}catch(e){setTimeout(()=>{throw Xn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},Zp=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class G0e{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Xn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class K0e{constructor(e,t,i){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(r=>this.auth_=r)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(xn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,i):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xn(e)}}let Jp=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const vG=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,EG="websocket",IG="long_polling";class SM{constructor(e,t,i,r,o=!1,s="",a=!1,l=!1){this.secure=t,this.namespace=i,this.webSocketOnly=r,this.nodeAdmin=o,this.persistenceKey=s,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=El.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&El.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function CG(n,e,t){let i;if(O("string"==typeof e,"typeof type must == string"),O("object"==typeof t,"typeof params must == object"),e===EG)i=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==IG)throw new Error("Unknown connection type: "+e);i=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function Y0e(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const r=[];return Dn(t,(o,s)=>{r.push(o+"="+s)}),i+r.join("&")}class Q0e{constructor(){this.counters_={}}incrementCounter(e,t=1){Xr(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Dhe(this.counters_)}}const AM={},RM={};function MM(n){const e=n.toString();return AM[e]||(AM[e]=new Q0e),AM[e]}class Z0e{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let r=0;r<i.length;++r)i[r]&&rd(()=>{this.onMessage_(i[r])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class na{constructor(e,t,i,r,o,s,a){this.connId=e,this.repoInfo=t,this.applicationId=i,this.appCheckToken=r,this.authToken=o,this.transportSessionId=s,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qp(e),this.stats_=MM(t),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),CG(t,IG,l))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new Z0e(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if("complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new PM((...o)=>{const[s,a,l,c,u]=o;if(this.incrementIncomingBytes_(o),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===s)this.id=a,this.password=l;else{if("close"!==s)throw new Error("Unrecognized command received: "+s);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...o)=>{const[s,a]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(s,a)},()=>{this.onClosed_()},this.urlFn);const i={start:"t"};i.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(i.cb=this.scriptTagHolder.uniqueCallbackIdentifier),i.v="5",this.transportSessionId&&(i.s=this.transportSessionId),this.lastSessionId&&(i.ls=this.lastSessionId),this.applicationId&&(i.p=this.applicationId),this.appCheckToken&&(i.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&vG.test(location.hostname)&&(i.r="f");const r=this.urlFn(i);this.log_("Connecting via long-poll to "+r),this.scriptTagHolder.addTag(r,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){na.forceAllow_=!0}static forceDisallow(){na.forceDisallow_=!0}static isAvailable(){return!(!na.forceAllow_&&(na.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=bn(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const i=uz(t),r=hG(i,1840);for(let o=0;o<r.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[o]),this.curSegmentNum++}addDisconnectPingFrame(e,t){this.myDisconnFrame=document.createElement("iframe");const i={dframe:"t"};i.id=e,i.pw=t,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=bn(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class PM{constructor(e,t,i,r){this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lG(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=PM.createIFrame_();let o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(o='<script>document.domain="'+document.domain+'";<\/script>');const s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(a){xn("frame writing exception"),a.stack&&xn(a.stack),xn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||xn("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),i="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+i.length<=1870;){const s=this.pendingSegs.shift();i=i+"&seg"+r+"="+s.seg+"&ts"+r+"="+s.ts+"&d"+r+"="+s.d,r++}return t+=i,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,i){this.pendingSegs.push({seg:e,ts:t,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const i=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(i,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),i()})}addTag(e,t){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const r=i.readyState;(!r||"loaded"===r||"complete"===r)&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),t())},i.onerror=()=>{xn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}let Ob=null;typeof MozWebSocket<"u"?Ob=MozWebSocket:typeof WebSocket<"u"&&(Ob=WebSocket);let od=(()=>{class n{constructor(t,i,r,o,s,a,l){this.connId=t,this.applicationId=r,this.appCheckToken=o,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qp(this.connId),this.stats_=MM(i),this.connURL=n.connectionURL_(i,a,l,o,r),this.nodeAdmin=i.nodeAdmin}static connectionURL_(t,i,r,o,s){const a={v:"5"};return typeof location<"u"&&location.hostname&&vG.test(location.hostname)&&(a.r="f"),i&&(a.s=i),r&&(a.ls=r),o&&(a.ac=o),s&&(a.p=s),CG(t,EG,a)}open(t,i){this.onDisconnect=i,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,El.set("previous_websocket_failure",!0);try{let r;0,this.mySock=new Ob(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;return o&&this.log_(o),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&null!==Ob&&!n.forceDisallow_}static previouslyFailed(){return El.isInMemoryStorage||!0===El.get("previous_websocket_failure")}markConnectionHealthy(){El.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const i=this.frames.join("");this.frames=null;const r=yf(i);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(O(null===this.frames,"We already have a frame buffer"),t.length<=6){const i=Number(t);if(!isNaN(i))return this.handleNewFrameCount_(i),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const i=t.data;if(this.bytesReceived+=i.length,this.stats_.incrementCounter("bytes_received",i.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(i);else{const r=this.extractFrameCount_(i);null!==r&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const i=bn(t);this.bytesSent+=i.length,this.stats_.incrementCounter("bytes_sent",i.length);const r=hG(i,16384);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(i){this.log_("Exception thrown from WebSocket.send():",i.message||i.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),MG=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[na,od]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const i=od&&od.isAvailable();let r=i&&!od.previouslyFailed();if(t.webSocketOnly&&(i||Xn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[od];else{const o=this.transports_=[];for(const s of n.ALL_TRANSPORTS)s&&s.isAvailable()&&o.push(s);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class VG{constructor(e,t,i,r,o,s,a,l,c,u){this.id=e,this.repoInfo_=t,this.applicationId_=i,this.appCheckToken_=r,this.authToken_=o,this.onMessage_=s,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qp("c:"+this.id+":"),this.transportManager_=new MG(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,i)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=Zp(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=Xp("t",e),i=Xp("d",e);if("c"===t)this.onSecondaryControl_(i);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(i)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=Xp("t",e),i=Xp("d",e);"c"===t?this.onControl_(i):"d"===t&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=Xp("t",e);if("d"in e){const i=e.d;if("h"===t){const r=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(r.h=this.repoInfo_.host),this.onHandshake_(r)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(i):"r"===t?this.onReset_(i):"e"===t?TM("Server Error: "+i):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):TM("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,i=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==i&&Xn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,i),Zp(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Zp(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(El.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class BG{put(e,t,i,r){}merge(e,t,i,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,i){}onDisconnectMerge(e,t,i){}onDisconnectCancel(e,t){}reportStats(e){}}class UG{constructor(e){this.allowedEvents_=e,this.listeners_={},O(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let r=0;r<i.length;r++)i[r].callback.apply(i[r].context,t)}}on(e,t,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:i});const r=this.getInitialEvent(e);r&&t.apply(i,r)}off(e,t,i){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let o=0;o<r.length;o++)if(r[o].callback===t&&(!i||i===r[o].context))return void r.splice(o,1)}validateEventType_(e){O(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class Fb extends UG{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!UT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Fb}getInitialEvent(e){return O("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ye{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let i=0;for(let r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[i]=this.pieces_[r],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function He(){return new Ye("")}function Ee(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function ia(n){return n.pieces_.length-n.pieceNum_}function at(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new Ye(n.pieces_,e)}function NM(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function em(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function zG(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new Ye(e,0)}function St(n,e){const t=[];for(let i=n.pieceNum_;i<n.pieces_.length;i++)t.push(n.pieces_[i]);if(e instanceof Ye)for(let i=e.pieceNum_;i<e.pieces_.length;i++)t.push(e.pieces_[i]);else{const i=e.split("/");for(let r=0;r<i.length;r++)i[r].length>0&&t.push(i[r])}return new Ye(t,0)}function Ie(n){return n.pieceNum_>=n.pieces_.length}function pi(n,e){const t=Ee(n),i=Ee(e);if(null===t)return e;if(t===i)return pi(at(n),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function bCe(n,e){const t=em(n,0),i=em(e,0);for(let r=0;r<t.length&&r<i.length;r++){const o=Cl(t[r],i[r]);if(0!==o)return o}return t.length===i.length?0:t.length<i.length?-1:1}function OM(n,e){if(ia(n)!==ia(e))return!1;for(let t=n.pieceNum_,i=e.pieceNum_;t<=n.pieces_.length;t++,i++)if(n.pieces_[t]!==e.pieces_[i])return!1;return!0}function ur(n,e){let t=n.pieceNum_,i=e.pieceNum_;if(ia(n)>ia(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[i])return!1;++t,++i}return!0}class wCe{constructor(e,t){this.errorPrefix_=t,this.parts_=em(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=Oy(this.parts_[i]);$G(this)}}function $G(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Tl(n))}function Tl(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class FM extends UG{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new FM}getInitialEvent(e){return O("visible"===e,"Unknown event type: "+e),[this.visible_]}}const tm=1e3;let Vb,xl=(()=>{class n extends BG{constructor(t,i,r,o,s,a,l,c){if(super(),this.repoInfo_=t,this.applicationId_=i,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=n.nextPersistentConnectionId_++,this.log_=Qp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=tm,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");FM.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&Fb.getInstance().on("online",this.onOnline_,this)}sendRequest(t,i,r){const o=++this.requestNumber_,s={r:o,a:t,b:i};this.log_(bn(s)),O(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[o]=r)}get(t){this.initConnection_();const i=new ru,o={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?i.resolve(l):i.reject(l)}};return this.outstandingGets_.push(o),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),i.promise}listen(t,i,r,o){this.initConnection_();const s=t._queryIdentifier,a=t._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),O(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const l={onComplete:o,hashFn:i,query:t,tag:r};this.listens.get(a).set(s,l),this.connected_&&this.sendListen_(l)}sendGet_(t){const i=this.outstandingGets_[t];this.sendRequest("g",i.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),i.onComplete&&i.onComplete(r)})}sendListen_(t){const i=t.query,r=i._path.toString(),o=i._queryIdentifier;this.log_("Listen on "+r+" for "+o);const s={p:r};t.tag&&(s.q=i._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,l=>{const c=l.d,u=l.s;n.warnOnListenWarnings_(c,i),(this.listens.get(r)&&this.listens.get(r).get(o))===t&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(r,o),t.onComplete&&t.onComplete(u,c))})}static warnOnListenWarnings_(t,i){if(t&&"object"==typeof t&&Xr(t,"w")){const r=ou(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+i._queryParams.getIndex().toString()+'"',s=i._path.toString();Xn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||function(n){const e=Py(n).claims;return"object"==typeof e&&!0===e.admin}(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,i=function(n){const t=Py(n).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")}(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"==typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(i,r,o=>{const s=o.s,a=o.d||"error";this.authToken_===t&&("ok"===s?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const i=t.s,r=t.d||"error";"ok"===i?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(i,r)})}unlisten(t,i){const r=t._path.toString(),o=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),O(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,t._queryObject,i)}sendUnlisten_(t,i,r,o){this.log_("Unlisten on "+t+" for "+i);const s={p:t};o&&(s.q=r,s.t=o),this.sendRequest("n",s)}onDisconnectPut(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:i,onComplete:r})}onDisconnectMerge(t,i,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,i,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:i,onComplete:r})}onDisconnectCancel(t,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:i})}sendOnDisconnect_(t,i,r,o){const s={p:i,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,a=>{o&&setTimeout(()=>{o(a.s,a.d)},Math.floor(0))})}put(t,i,r,o){this.putInternal("p",t,i,r,o)}merge(t,i,r,o){this.putInternal("m",t,i,r,o)}putInternal(t,i,r,o,s){this.initConnection_();const a={p:i,d:r};void 0!==s&&(a.h=s),this.outstandingPuts_.push({action:t,request:a,onComplete:o}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+i)}sendPut_(t){const i=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,o=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(i,r,s=>{this.log_(i+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),o&&o(s.s,s.d)})}reportStats(t){if(this.connected_){const i={c:t};this.log_("reportStats",i),this.sendRequest("s",i,r=>{"ok"!==r.s&&this.log_("reportStats","Error sending stats: "+r.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+bn(t));const i=t.r,r=this.requestCBHash_[i];r&&(delete this.requestCBHash_[i],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,i){this.log_("handleServerMessage",t,i),"d"===t?this.onDataUpdate_(i.p,i.d,!1,i.t):"m"===t?this.onDataUpdate_(i.p,i.d,!0,i.t):"c"===t?this.onListenRevoked_(i.p,i.q):"ac"===t?this.onAuthRevoked_(i.s,i.d):"apc"===t?this.onAppCheckRevoked_(i.s,i.d):"sd"===t?this.onSecurityDebugPacket_(i):TM("Unrecognized action received from server: "+bn(t)+"\nAre you using the latest client?")}onReady_(t,i){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=i,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){O(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=tm,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=tm,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=tm),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let i=Math.max(0,this.reconnectDelay_-t);i=Math.random()*i,this.log_("Trying to reconnect in "+i+"ms"),this.scheduleConnect_(i),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return v(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const i=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),o=t.onRealtimeDisconnect_.bind(t),s=t.id+":"+n.nextConnectionId_++,a=t.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,o())};t.realtime_={close:u,sendRequest:function(f){O(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[f,p]=yield Promise.all([t.authTokenProvider_.getToken(h),t.appCheckTokenProvider_.getToken(h)]);l?xn("getToken() completed but was canceled"):(xn("getToken() completed. Creating connection."),t.authToken_=f&&f.accessToken,t.appCheckToken_=p&&p.token,c=new VG(s,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,i,r,o,m=>{Xn(m+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},a))}catch(f){t.log_("Failed to get token: "+f),l||(t.repoInfo_.nodeAdmin&&Xn(f),u())}}})()}interrupt(t){xn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){xn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],jT(this.interruptReasons_)&&(this.reconnectDelay_=tm,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const i=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:i})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const i=this.outstandingPuts_[t];i&&"h"in i.request&&i.queued&&(i.onComplete&&i.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,i){let r;r=i?i.map(s=>xM(s)).join("$"):"default";const o=this.removeListen_(t,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(t,i){const r=new Ye(t).toString();let o;if(this.listens.has(r)){const s=this.listens.get(r);o=s.get(i),s.delete(i),0===s.size&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(t,i){xn("Auth token revoked: "+t+"/"+i),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,i){xn("App check token revoked: "+t+"/"+i),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const i of t.values())this.sendListen_(i);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let i="js";t["sdk."+i+"."+IM.replace(/\./g,"-")]=1,UT()?t["framework.cordova"]=1:gz()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Fb.getInstance().currentlyOnline();return jT(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Te{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Te(e,t)}}class Lb{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const i=new Te(ta,e),r=new Te(ta,t);return 0!==this.compare(i,r)}minPost(){return Te.MIN}}class GG extends Lb{static get __EMPTY_NODE(){return Vb}static set __EMPTY_NODE(e){Vb=e}compare(e,t){return Cl(e.name,t.name)}isDefinedOn(e){throw iu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Te.MIN}maxPost(){return new Te(ns,Vb)}makePost(e,t){return O("string"==typeof e,"KeyIndex indexValue must always be a string."),new Te(e,Vb)}toString(){return".key"}}const co=new GG;class Bb{constructor(e,t,i,r,o=null){this.isReverse_=r,this.resultGenerator_=o,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?i(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let VM,xr=(()=>{class n{constructor(t,i,r,o,s){this.key=t,this.value=i,this.color=r??n.RED,this.left=o??Si.EMPTY_NODE,this.right=s??Si.EMPTY_NODE}copy(t,i,r,o,s){return new n(t??this.key,i??this.value,r??this.color,o??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let o=this;const s=r(t,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(t,i,r),null):0===s?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return Si.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,i){let r,o;if(r=this,i(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,i),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),0===i(t,r.key)){if(r.right.isEmpty())return Si.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,i))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Si{constructor(e,t=Si.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Si(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,xr.BLACK,null,null))}remove(e){return new Si(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,xr.BLACK,null,null))}get(e){let t,i=this.root_;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t)return i.value;t<0?i=i.left:t>0&&(i=i.right)}return null}getPredecessorKey(e){let t,i=this.root_,r=null;for(;!i.isEmpty();){if(t=this.comparator_(e,i.key),0===t){if(i.left.isEmpty())return r?r.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}t<0?i=i.left:t>0&&(r=i,i=i.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Bb(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new Bb(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new Bb(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new Bb(this.root_,null,this.comparator_,!0,e)}}function ACe(n,e){return Cl(n.name,e.name)}function LM(n,e){return Cl(n,e)}Si.EMPTY_NODE=new class SCe{copy(e,t,i,r,o){return this}insert(e,t,i){return new xr(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const KG=function(n){return"number"==typeof n?"number:"+fG(n):"string:"+n},YG=function(n){if(n.isLeafNode()){const e=n.val();O("string"==typeof e||"number"==typeof e||"object"==typeof e&&Xr(e,".sv"),"Priority must be a string or number.")}else O(n===VM||n.isEmpty(),"priority of unexpected type.");O(n===VM||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let QG,XG,ZG,sd=(()=>{class n{constructor(t,i=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=i,this.lazyHash_=null,O(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),YG(this.priorityNode_)}static set __childrenNodeConstructor(t){QG=t}static get __childrenNodeConstructor(){return QG}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Ie(t)?this:".priority"===Ee(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,i){return null}updateImmediateChild(t,i){return".priority"===t?this.updatePriority(i):i.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,i).updatePriority(this.priorityNode_)}updateChild(t,i){const r=Ee(t);return null===r?i:i.isEmpty()&&".priority"!==r?this:(O(".priority"!==r||1===ia(t),".priority must be the last token in a path"),this.updateImmediateChild(r,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(t),i)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,i){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+KG(this.priorityNode_.val())+":");const i=typeof this.value_;t+=i+":",t+="number"===i?fG(this.value_):this.value_,this.lazyHash_=cG(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:(O(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const i=typeof t.value_,r=typeof this.value_,o=n.VALUE_TYPE_ORDER.indexOf(i),s=n.VALUE_TYPE_ORDER.indexOf(r);return O(o>=0,"Unknown leaf type: "+i),O(s>=0,"Unknown leaf type: "+r),o===s?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-o}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const pt=new class kCe extends Lb{compare(e,t){const i=e.node.getPriority(),r=t.node.getPriority(),o=i.compareTo(r);return 0===o?Cl(e.name,t.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Te.MIN}maxPost(){return new Te(ns,new sd("[PRIORITY-POST]",ZG))}makePost(e,t){const i=XG(e);return new Te(t,new sd("[PRIORITY-POST]",i))}toString(){return".priority"}},NCe=Math.log(2);class OCe{constructor(e){this.count=parseInt(Math.log(e+1)/NCe,10),this.current_=this.count-1;const r=(o=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&r}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Ub=function(n,e,t,i){n.sort(e);const r=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=n[l],h=t?t(d):d,new xr(h,d.node,xr.BLACK,null,null);{const f=parseInt(u/2,10)+l,p=r(l,f),m=r(f+1,c);return d=n[f],h=t?t(d):d,new xr(h,d.node,xr.BLACK,p,m)}},a=function(l){let c=null,u=null,d=n.length;const h=function(p,m){const g=d-p,b=d;d-=p;const _=r(g+1,b),E=n[g],x=t?t(E):E;f(new xr(x,E.node,m,null,_))},f=function(p){c?(c.left=p,c=p):(u=p,c=p)};for(let p=0;p<l.count;++p){const m=l.nextBitIsOne(),g=Math.pow(2,l.count-(p+1));m?h(g,xr.BLACK):(h(g,xr.BLACK),h(g,xr.RED))}return u}(new OCe(n.length));return new Si(i||e,a)};let BM;const ad={};class is{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return O(ad&&pt,"ChildrenNode.ts has not been loaded"),BM=BM||new is({".priority":ad},{".priority":pt}),BM}get(e){const t=ou(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Si?t:null}hasIndex(e){return Xr(this.indexSet_,e.toString())}addIndex(e,t){O(e!==co,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let r=!1;const o=t.getIterator(Te.Wrap);let a,s=o.getNext();for(;s;)r=r||e.isDefinedOn(s.node),i.push(s),s=o.getNext();a=r?Ub(i,e.getCompare()):ad;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new is(u,c)}addToIndexes(e,t){const i=ky(this.indexes_,(r,o)=>{const s=ou(this.indexSet_,o);if(O(s,"Missing index implementation for "+o),r===ad){if(s.isDefinedOn(e.node)){const a=[],l=t.getIterator(Te.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Ub(a,s.getCompare())}return ad}{const a=t.get(e.name);let l=r;return a&&(l=l.remove(new Te(e.name,a))),l.insert(e,e.node)}});return new is(i,this.indexSet_)}removeFromIndexes(e,t){const i=ky(this.indexes_,r=>{if(r===ad)return r;{const o=t.get(e.name);return o?r.remove(new Te(e.name,o)):r}});return new is(i,this.indexSet_)}}let nm,me=(()=>{class n{constructor(t,i,r){this.children_=t,this.priorityNode_=i,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&YG(this.priorityNode_),this.children_.isEmpty()&&O(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return nm||(nm=new n(new Si(LM),null,is.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||nm}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const i=this.children_.get(t);return null===i?nm:i}}getChild(t){const i=Ee(t);return null===i?this:this.getImmediateChild(i).getChild(at(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,i){if(O(i,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(i);{const r=new Te(t,i);let o,s;i.isEmpty()?(o=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(t,i),s=this.indexMap_.addToIndexes(r,this.children_));const a=o.isEmpty()?nm:this.priorityNode_;return new n(o,a,s)}}updateChild(t,i){const r=Ee(t);if(null===r)return i;{O(".priority"!==Ee(t)||1===ia(t),".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(at(t),i);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const i={};let r=0,o=0,s=!0;if(this.forEachChild(pt,(a,l)=>{i[a]=l.val(t),r++,s&&n.INTEGER_REGEXP_.test(a)?o=Math.max(o,Number(a)):s=!1}),!t&&s&&o<2*r){const a=[];for(const l in i)a[l]=i[l];return a}return t&&!this.getPriority().isEmpty()&&(i[".priority"]=this.getPriority().val()),i}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+KG(this.getPriority().val())+":"),this.forEachChild(pt,(i,r)=>{const o=r.hash();""!==o&&(t+=":"+i+":"+o)}),this.lazyHash_=""===t?"":cG(t)}return this.lazyHash_}getPredecessorChildName(t,i,r){const o=this.resolveIndex_(r);if(o){const s=o.getPredecessorKey(new Te(t,i));return s?s.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.minKey();return r&&r.name}return this.children_.minKey()}getFirstChild(t){const i=this.getFirstChildName(t);return i?new Te(i,this.children_.get(i)):null}getLastChildName(t){const i=this.resolveIndex_(t);if(i){const r=i.maxKey();return r&&r.name}return this.children_.maxKey()}getLastChild(t){const i=this.getLastChildName(t);return i?new Te(i,this.children_.get(i)):null}forEachChild(t,i){const r=this.resolveIndex_(t);return r?r.inorderTraversal(o=>i(o.name,o.node)):this.children_.inorderTraversal(i)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getIteratorFrom(t,o=>o);{const o=this.children_.getIteratorFrom(t.name,Te.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)<0;)o.getNext(),s=o.peek();return o}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,i){const r=this.resolveIndex_(i);if(r)return r.getReverseIteratorFrom(t,o=>o);{const o=this.children_.getReverseIteratorFrom(t.name,Te.Wrap);let s=o.peek();for(;null!=s&&i.compare(s,t)>0;)o.getNext(),s=o.peek();return o}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===im?-1:0}withIndex(t){if(t===co||this.indexMap_.hasIndex(t))return this;{const i=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,i)}}isIndexed(t){return t===co||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const i=t;if(this.getPriority().equals(i.getPriority())){if(this.children_.count()===i.children_.count()){const r=this.getIterator(pt),o=i.getIterator(pt);let s=r.getNext(),a=o.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=r.getNext(),a=o.getNext()}return null===s&&null===a}return!1}return!1}}resolveIndex_(t){return t===co?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const im=new class FCe extends me{constructor(){super(new Si(LM),me.EMPTY_NODE,is.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return me.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Te,{MIN:{value:new Te(ta,me.EMPTY_NODE)},MAX:{value:new Te(ns,im)}}),GG.__EMPTY_NODE=me.EMPTY_NODE,sd.__childrenNodeConstructor=me,function RCe(n){VM=n}(im),function PCe(n){ZG=n}(im);const LCe=!0;function Nt(n,e=null){if(null===n)return me.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),O(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new sd(n,Nt(e));if(n instanceof Array||!LCe){let t=me.EMPTY_NODE;return Dn(n,(i,r)=>{if(Xr(n,i)&&"."!==i.substring(0,1)){const o=Nt(r);(o.isLeafNode()||!o.isEmpty())&&(t=t.updateImmediateChild(i,o))}}),t.updatePriority(Nt(e))}{const t=[];let i=!1;if(Dn(n,(s,a)=>{if("."!==s.substring(0,1)){const l=Nt(a);l.isEmpty()||(i=i||!l.getPriority().isEmpty(),t.push(new Te(s,l)))}}),0===t.length)return me.EMPTY_NODE;const o=Ub(t,ACe,s=>s.name,LM);if(i){const s=Ub(t,pt.getCompare());return new me(o,Nt(e),new is({".priority":s},{".priority":pt}))}return new me(o,Nt(e),is.Default)}}!function MCe(n){XG=n}(Nt);class UM extends Lb{constructor(e){super(),this.indexPath_=e,O(!Ie(e)&&".priority"!==Ee(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const i=this.extractChild(e.node),r=this.extractChild(t.node),o=i.compareTo(r);return 0===o?Cl(e.name,t.name):o}makePost(e,t){const i=Nt(e),r=me.EMPTY_NODE.updateChild(this.indexPath_,i);return new Te(t,r)}maxPost(){const e=me.EMPTY_NODE.updateChild(this.indexPath_,im);return new Te(ns,e)}toString(){return em(this.indexPath_,0).join("/")}}const jM=new class VCe extends Lb{compare(e,t){const i=e.node.compareTo(t.node);return 0===i?Cl(e.name,t.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Te.MIN}maxPost(){return Te.MAX}makePost(e,t){const i=Nt(e);return new Te(t,i)}toString(){return".value"}};function JG(n){return{type:"value",snapshotNode:n}}function ld(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function rm(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function om(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class HM{constructor(e){this.index_=e}updateChild(e,t,i,r,o,s){O(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(t);return a.getChild(r).equals(i.getChild(r))&&a.isEmpty()===i.isEmpty()||(null!=s&&(i.isEmpty()?e.hasChild(t)?s.trackChildChange(rm(t,a)):O(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?s.trackChildChange(ld(t,i)):s.trackChildChange(om(t,i,a))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(t,i).withIndex(this.index_)}updateFullNode(e,t,i){return null!=i&&(e.isLeafNode()||e.forEachChild(pt,(r,o)=>{t.hasChild(r)||i.trackChildChange(rm(r,o))}),t.isLeafNode()||t.forEachChild(pt,(r,o)=>{if(e.hasChild(r)){const s=e.getImmediateChild(r);s.equals(o)||i.trackChildChange(om(r,o,s))}else i.trackChildChange(ld(r,o))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?me.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class sm{constructor(e){this.indexedFilter_=new HM(e.getIndex()),this.index_=e.getIndex(),this.startPost_=sm.getStartPost_(e),this.endPost_=sm.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&i}updateChild(e,t,i,r,o,s){return this.matches(new Te(t,i))||(i=me.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,i,r,o,s)}updateFullNode(e,t,i){t.isLeafNode()&&(t=me.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(me.EMPTY_NODE);const o=this;return t.forEachChild(pt,(s,a)=>{o.matches(new Te(s,a))||(r=r.updateImmediateChild(s,me.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class UCe{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=t=>{const i=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new sm(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,i,r,o,s){return this.rangedFilter_.matches(new Te(t,i))||(i=me.EMPTY_NODE),e.getImmediateChild(t).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,i,r,o,s):this.fullLimitUpdateChild_(e,t,i,o,s)}updateFullNode(e,t,i){let r;if(t.isLeafNode()||t.isEmpty())r=me.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let o;r=me.EMPTY_NODE.withIndex(this.index_),o=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let s=0;for(;o.hasNext()&&s<this.limit_;){const a=o.getNext();if(this.withinDirectionalStart(a)){if(!this.withinDirectionalEnd(a))break;r=r.updateImmediateChild(a.name,a.node),s++}}}else{let o;r=t.withIndex(this.index_),r=r.updatePriority(me.EMPTY_NODE),o=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let s=0;for(;o.hasNext();){const a=o.getNext();s<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?s++:r=r.updateImmediateChild(a.name,me.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,i)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,i,r,o){let s;if(this.reverse_){const d=this.index_.getCompare();s=(h,f)=>d(f,h)}else s=this.index_.getCompare();const a=e;O(a.numChildren()===this.limit_,"");const l=new Te(t,i),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),u=this.rangedFilter_.matches(l);if(a.hasChild(t)){const d=a.getImmediateChild(t);let h=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=h&&(h.name===t||a.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);const f=null==h?1:s(h,l);if(u&&!i.isEmpty()&&f>=0)return o?.trackChildChange(om(t,i,d)),a.updateImmediateChild(t,i);{o?.trackChildChange(rm(t,d));const m=a.updateImmediateChild(t,me.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(o?.trackChildChange(ld(h.name,h.node)),m.updateImmediateChild(h.name,h.node)):m}}return i.isEmpty()?e:u&&s(c,l)>=0?(null!=o&&(o.trackChildChange(rm(c.name,c.node)),o.trackChildChange(ld(t,i))),a.updateImmediateChild(t,i).updateImmediateChild(c.name,me.EMPTY_NODE)):e}}class zM{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pt}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return O(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return O(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ta}hasEnd(){return this.endSet_}getIndexEndValue(){return O(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return O(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ns}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return O(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pt}copy(){const e=new zM;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function e6(n){const e={};if(n.isDefault())return e;let t;if(n.index_===pt?t="$priority":n.index_===jM?t="$value":n.index_===co?t="$key":(O(n.index_ instanceof UM,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=bn(t),n.startSet_){const i=n.startAfterSet_?"startAfter":"startAt";e[i]=bn(n.indexStartValue_),n.startNameSet_&&(e[i]+=","+bn(n.indexStartName_))}if(n.endSet_){const i=n.endBeforeSet_?"endBefore":"endAt";e[i]=bn(n.indexEndValue_),n.endNameSet_&&(e[i]+=","+bn(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function t6(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==pt&&(e.i=n.index_.toString()),e}class Hb extends BG{constructor(e,t,i,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=i,this.appCheckTokenProvider_=r,this.log_=Qp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(O(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,i,r){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const s=Hb.getListenId_(e,i),a={};this.listens_[s]=a;const l=e6(e._queryParams);this.restRequest_(o+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(o,d,!1,i),ou(this.listens_,s)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",r(h,null)}})}unlisten(e,t){const i=Hb.getListenId_(e,t);delete this.listens_[i]}get(e){const t=e6(e._queryParams),i=e._path.toString(),r=new ru;return this.restRequest_(i+".json",t,(o,s)=>{let a=s;404===o&&(a=null,o=null),null===o?(this.onDataUpdate_(i,a,!1,null),r.resolve(a)):r.reject(new Error(a))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},i){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,o])=>{r&&r.accessToken&&(t.auth=r.accessToken),o&&o.token&&(t.ac=o.token);const s=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vf(t);this.log_("Sending REST request for "+s);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(i&&4===a.readyState){this.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=yf(a.responseText)}catch{Xn("Failed to parse JSON response for "+s+": "+a.responseText)}i(null,l)}else 401!==a.status&&404!==a.status&&Xn("Got unsuccessful REST response for "+s+" Status: "+a.status),i(a.status);i=null}},a.open("GET",s,!0),a.send()})}}class WCe{constructor(){this.rootNode_=me.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function zb(){return{value:null,children:new Map}}function cd(n,e,t){if(Ie(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const i=Ee(e);n.children.has(i)||n.children.set(i,zb()),cd(n.children.get(i),e=at(e),t)}}function GM(n,e,t){null!==n.value?t(e,n.value):function GCe(n,e){n.children.forEach((t,i)=>{e(i,t)})}(n,(i,r)=>{GM(r,new Ye(e.toString()+"/"+i),t)})}class KCe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Dn(this.last_,(i,r)=>{t[i]=t[i]-r}),this.last_=e,t}}class XCe{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new KCe(e);const i=1e4+2e4*Math.random();Zp(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),t={};let i=!1;Dn(e,(r,o)=>{o>0&&Xr(this.statsToReport_,r)&&(t[r]=o,i=!0)}),i&&this.server_.reportStats(t),Zp(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var uo=function(n){return n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",n}(uo||{});function QM(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class $b{constructor(e,t,i){this.path=e,this.affectedTree=t,this.revert=i,this.type=uo.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ie(this.path)){if(null!=this.affectedTree.value)return O(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Ye(e));return new $b(He(),t,this.revert)}}return O(Ee(this.path)===e,"operationForChild called for unrelated child."),new $b(at(this.path),this.affectedTree,this.revert)}}class am{constructor(e,t){this.source=e,this.path=t,this.type=uo.LISTEN_COMPLETE}operationForChild(e){return Ie(this.path)?new am(this.source,He()):new am(this.source,at(this.path))}}class Dl{constructor(e,t,i){this.source=e,this.path=t,this.snap=i,this.type=uo.OVERWRITE}operationForChild(e){return Ie(this.path)?new Dl(this.source,He(),this.snap.getImmediateChild(e)):new Dl(this.source,at(this.path),this.snap)}}class ud{constructor(e,t,i){this.source=e,this.path=t,this.children=i,this.type=uo.MERGE}operationForChild(e){if(Ie(this.path)){const t=this.children.subtree(new Ye(e));return t.isEmpty()?null:t.value?new Dl(this.source,He(),t.value):new ud(this.source,He(),t)}return O(Ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ud(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class ra{constructor(e,t,i){this.node_=e,this.fullyInitialized_=t,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ie(e))return this.isFullyInitialized()&&!this.filtered_;const t=Ee(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class ZCe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lm(n,e,t,i,r,o){const s=i.filter(a=>a.type===t);s.sort((a,l)=>function tTe(n,e,t){if(null==e.childName||null==t.childName)throw iu("Should only compare child_ events.");const i=new Te(e.childName,e.snapshotNode),r=new Te(t.childName,t.snapshotNode);return n.index_.compare(i,r)}(n,a,l)),s.forEach(a=>{const l=function eTe(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,a,o);r.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,n.query_))})})}function qb(n,e){return{eventCache:n,serverCache:e}}function cm(n,e,t,i){return qb(new ra(e,t,i),n.serverCache)}function i6(n,e,t,i){return qb(n.eventCache,new ra(e,t,i))}function Wb(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Sl(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let XM;class mt{constructor(e,t=(()=>(XM||(XM=new Si(B0e)),XM))()){this.value=e,this.children=t}static fromObject(e){let t=new mt(null);return Dn(e,(i,r)=>{t=t.set(new Ye(i),r)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:He(),value:this.value};if(Ie(e))return null;{const i=Ee(e),r=this.children.get(i);if(null!==r){const o=r.findRootMostMatchingPathAndValue(at(e),t);return null!=o?{path:St(new Ye(i),o.path),value:o.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ie(e))return this;{const t=Ee(e),i=this.children.get(t);return null!==i?i.subtree(at(e)):new mt(null)}}set(e,t){if(Ie(e))return new mt(t,this.children);{const i=Ee(e),o=(this.children.get(i)||new mt(null)).set(at(e),t),s=this.children.insert(i,o);return new mt(this.value,s)}}remove(e){if(Ie(e))return this.children.isEmpty()?new mt(null):new mt(null,this.children);{const t=Ee(e),i=this.children.get(t);if(i){const r=i.remove(at(e));let o;return o=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&o.isEmpty()?new mt(null):new mt(this.value,o)}return this}}get(e){if(Ie(e))return this.value;{const t=Ee(e),i=this.children.get(t);return i?i.get(at(e)):null}}setTree(e,t){if(Ie(e))return t;{const i=Ee(e),o=(this.children.get(i)||new mt(null)).setTree(at(e),t);let s;return s=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new mt(this.value,s)}}fold(e){return this.fold_(He(),e)}fold_(e,t){const i={};return this.children.inorderTraversal((r,o)=>{i[r]=o.fold_(St(e,r),t)}),t(e,this.value,i)}findOnPath(e,t){return this.findOnPath_(e,He(),t)}findOnPath_(e,t,i){const r=!!this.value&&i(t,this.value);if(r)return r;if(Ie(e))return null;{const o=Ee(e),s=this.children.get(o);return s?s.findOnPath_(at(e),St(t,o),i):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,He(),t)}foreachOnPath_(e,t,i){if(Ie(e))return this;{this.value&&i(t,this.value);const r=Ee(e),o=this.children.get(r);return o?o.foreachOnPath_(at(e),St(t,r),i):new mt(null)}}foreach(e){this.foreach_(He(),e)}foreach_(e,t){this.children.inorderTraversal((i,r)=>{r.foreach_(St(e,i),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,i)=>{i.value&&e(t,i.value)})}}class Dr{constructor(e){this.writeTree_=e}static empty(){return new Dr(new mt(null))}}function um(n,e,t){if(Ie(e))return new Dr(new mt(t));{const i=n.writeTree_.findRootMostValueAndPath(e);if(null!=i){const r=i.path;let o=i.value;const s=pi(r,e);return o=o.updateChild(s,t),new Dr(n.writeTree_.set(r,o))}{const r=new mt(t),o=n.writeTree_.setTree(e,r);return new Dr(o)}}}function ZM(n,e,t){let i=n;return Dn(t,(r,o)=>{i=um(i,St(e,r),o)}),i}function r6(n,e){if(Ie(e))return Dr.empty();{const t=n.writeTree_.setTree(e,new mt(null));return new Dr(t)}}function JM(n,e){return null!=Al(n,e)}function Al(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(pi(t.path,e)):null}function o6(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(pt,(i,r)=>{e.push(new Te(i,r))}):n.writeTree_.children.inorderTraversal((i,r)=>{null!=r.value&&e.push(new Te(i,r.value))}),e}function oa(n,e){if(Ie(e))return n;{const t=Al(n,e);return new Dr(null!=t?new mt(t):n.writeTree_.subtree(e))}}function eP(n){return n.writeTree_.isEmpty()}function dd(n,e){return s6(He(),n.writeTree_,e)}function s6(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let i=null;return e.children.inorderTraversal((r,o)=>{".priority"===r?(O(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):t=s6(St(n,r),o,t)}),!t.getChild(n).isEmpty()&&null!==i&&(t=t.updateChild(St(n,".priority"),i)),t}}function Gb(n,e){return d6(e,n)}function aTe(n,e){if(n.snap)return ur(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ur(St(n.path,t),e))return!0;return!1}function cTe(n){return n.visible}function a6(n,e,t){let i=Dr.empty();for(let r=0;r<n.length;++r){const o=n[r];if(e(o)){const s=o.path;let a;if(o.snap)ur(t,s)?(a=pi(t,s),i=um(i,a,o.snap)):ur(s,t)&&(a=pi(s,t),i=um(i,He(),o.snap.getChild(a)));else{if(!o.children)throw iu("WriteRecord should have .snap or .children");if(ur(t,s))a=pi(t,s),i=ZM(i,a,o.children);else if(ur(s,t))if(a=pi(s,t),Ie(a))i=ZM(i,He(),o.children);else{const l=ou(o.children,Ee(a));if(l){const c=l.getChild(at(a));i=um(i,He(),c)}}}}}return i}function l6(n,e,t,i,r){if(i||r){const o=oa(n.visibleWrites,e);return!r&&eP(o)?t:r||null!=t||JM(o,He())?dd(a6(n.allWrites,function(c){return(c.visible||r)&&(!i||!~i.indexOf(c.writeId))&&(ur(c.path,e)||ur(e,c.path))},e),t||me.EMPTY_NODE):null}{const o=Al(n.visibleWrites,e);if(null!=o)return o;{const s=oa(n.visibleWrites,e);return eP(s)?t:null!=t||JM(s,He())?dd(s,t||me.EMPTY_NODE):null}}}function Kb(n,e,t,i){return l6(n.writeTree,n.treePath,e,t,i)}function tP(n,e){return function uTe(n,e,t){let i=me.EMPTY_NODE;const r=Al(n.visibleWrites,e);if(r)return r.isLeafNode()||r.forEachChild(pt,(o,s)=>{i=i.updateImmediateChild(o,s)}),i;if(t){const o=oa(n.visibleWrites,e);return t.forEachChild(pt,(s,a)=>{const l=dd(oa(o,new Ye(s)),a);i=i.updateImmediateChild(s,l)}),o6(o).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}return o6(oa(n.visibleWrites,e)).forEach(s=>{i=i.updateImmediateChild(s.name,s.node)}),i}(n.writeTree,n.treePath,e)}function c6(n,e,t,i){return function dTe(n,e,t,i,r){O(i||r,"Either existingEventSnap or existingServerSnap must exist");const o=St(e,t);if(JM(n.visibleWrites,o))return null;{const s=oa(n.visibleWrites,o);return eP(s)?r.getChild(t):dd(s,r.getChild(t))}}(n.writeTree,n.treePath,e,t,i)}function Yb(n,e){return function fTe(n,e){return Al(n.visibleWrites,e)}(n.writeTree,St(n.treePath,e))}function nP(n,e,t){return function hTe(n,e,t,i){const r=St(e,t),o=Al(n.visibleWrites,r);return null!=o?o:i.isCompleteForChild(t)?dd(oa(n.visibleWrites,r),i.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function u6(n,e){return d6(St(n.treePath,e),n.writeTree)}function d6(n,e){return{treePath:n,writeTree:e}}class _Te{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,i=e.childName;O("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),O(".priority"!==i,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(i);if(r){const o=r.type;if("child_added"===t&&"child_removed"===o)this.changeMap.set(i,om(i,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===o)this.changeMap.delete(i);else if("child_removed"===t&&"child_changed"===o)this.changeMap.set(i,rm(i,r.oldSnap));else if("child_changed"===t&&"child_added"===o)this.changeMap.set(i,ld(i,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==o)throw iu("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(i,om(i,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}const h6=new class yTe{getCompleteChild(e){return null}getChildAfterChild(e,t,i){return null}};class iP{constructor(e,t,i=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=i}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const i=null!=this.optCompleteServerCache_?new ra(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return nP(this.writes_,e,i)}}getChildAfterChild(e,t,i){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sl(this.viewCache_),o=function gTe(n,e,t,i,r,o){return function pTe(n,e,t,i,r,o,s){let a;const l=oa(n.visibleWrites,e),c=Al(l,He());if(null!=c)a=c;else{if(null==t)return[];a=dd(l,t)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=s.getCompare(),h=o?a.getReverseIteratorFrom(i,s):a.getIteratorFrom(i,s);let f=h.getNext();for(;f&&u.length<r;)0!==d(f,i)&&u.push(f),f=h.getNext();return u}}(n.writeTree,n.treePath,e,t,i,r,o)}(this.writes_,r,t,1,i,e);return 0===o.length?null:o[0]}}function f6(n,e,t,i,r,o){const s=e.eventCache;if(null!=Yb(i,t))return e;{let a,l;if(Ie(t))if(O(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Sl(e),d=tP(i,c instanceof me?c:me.EMPTY_NODE);a=n.filter.updateFullNode(e.eventCache.getNode(),d,o)}else{const c=Kb(i,Sl(e));a=n.filter.updateFullNode(e.eventCache.getNode(),c,o)}else{const c=Ee(t);if(".priority"===c){O(1===ia(t),"Can't have a priority with additional path components");const u=s.getNode();l=e.serverCache.getNode();const d=c6(i,t,u,l);a=null!=d?n.filter.updatePriority(u,d):s.getNode()}else{const u=at(t);let d;if(s.isCompleteForChild(c)){l=e.serverCache.getNode();const h=c6(i,t,s.getNode(),l);d=null!=h?s.getNode().getImmediateChild(c).updateChild(u,h):s.getNode().getImmediateChild(c)}else d=nP(i,c,e.serverCache);a=null!=d?n.filter.updateChild(s.getNode(),c,d,u,r,o):s.getNode()}}return cm(e,a,s.isFullyInitialized()||Ie(t),n.filter.filtersNodes())}}function Qb(n,e,t,i,r,o,s,a){const l=e.serverCache;let c;const u=s?n.filter:n.filter.getIndexedFilter();if(Ie(t))c=u.updateFullNode(l.getNode(),i,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(t,i);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Ee(t);if(!l.isCompleteForPath(t)&&ia(t)>1)return e;const p=at(t),g=l.getNode().getImmediateChild(f).updateChild(p,i);c=".priority"===f?u.updatePriority(l.getNode(),g):u.updateChild(l.getNode(),f,g,p,h6,null)}const d=i6(e,c,l.isFullyInitialized()||Ie(t),u.filtersNodes());return f6(n,d,t,r,new iP(r,d,o),a)}function rP(n,e,t,i,r,o,s){const a=e.eventCache;let l,c;const u=new iP(r,e,o);if(Ie(t))c=n.filter.updateFullNode(e.eventCache.getNode(),i,s),l=cm(e,c,!0,n.filter.filtersNodes());else{const d=Ee(t);if(".priority"===d)c=n.filter.updatePriority(e.eventCache.getNode(),i),l=cm(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=at(t),f=a.getNode().getImmediateChild(d);let p;if(Ie(h))p=i;else{const m=u.getCompleteChild(d);p=null!=m?".priority"===NM(h)&&m.getChild(zG(h)).isEmpty()?m:m.updateChild(h,i):me.EMPTY_NODE}l=f.equals(p)?e:cm(e,n.filter.updateChild(a.getNode(),d,p,h,u,s),a.isFullyInitialized(),n.filter.filtersNodes())}}return l}function p6(n,e){return n.eventCache.isCompleteForChild(e)}function m6(n,e,t){return t.foreach((i,r)=>{e=e.updateChild(i,r)}),e}function oP(n,e,t,i,r,o,s,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=Ie(t)?i:new mt(null).setTree(t,i);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const p=m6(0,e.serverCache.getNode().getImmediateChild(d),h);l=Qb(n,l,new Ye(d),p,r,o,s,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const m=m6(0,e.serverCache.getNode().getImmediateChild(d),h);l=Qb(n,l,new Ye(d),m,r,o,s,a)}}),l}class DTe{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,r=new HM(i.getIndex()),o=function jCe(n){return n.loadsAllData()?new HM(n.getIndex()):n.hasLimit()?new UCe(n):new sm(n)}(i);this.processor_=function vTe(n){return{filter:n}}(o);const s=t.serverCache,a=t.eventCache,l=r.updateFullNode(me.EMPTY_NODE,s.getNode(),null),c=o.updateFullNode(me.EMPTY_NODE,a.getNode(),null),u=new ra(l,s.isFullyInitialized(),r.filtersNodes()),d=new ra(c,a.isFullyInitialized(),o.filtersNodes());this.viewCache_=qb(d,u),this.eventGenerator_=new ZCe(this.query_)}get query(){return this.query_}}function RTe(n,e){const t=Sl(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Ie(e)&&!t.getImmediateChild(Ee(e)).isEmpty())?t.getChild(e):null}function g6(n){return 0===n.eventRegistrations_.length}function _6(n,e,t){const i=[];if(t){O(null==e,"A cancel should cancel all event registrations.");const r=n.query._path;n.eventRegistrations_.forEach(o=>{const s=o.createCancelEvent(t,r);s&&i.push(s)})}if(e){let r=[];for(let o=0;o<n.eventRegistrations_.length;++o){const s=n.eventRegistrations_[o];if(s.matches(e)){if(e.hasAnyCallback()){r=r.concat(n.eventRegistrations_.slice(o+1));break}}else r.push(s)}n.eventRegistrations_=r}else n.eventRegistrations_=[];return i}function y6(n,e,t,i){e.type===uo.MERGE&&null!==e.source.queryId&&(O(Sl(n.viewCache_),"We should always have a full cache before handling merges"),O(Wb(n.viewCache_),"Missing event cache, even though we have a server cache"));const r=n.viewCache_,o=function wTe(n,e,t,i,r){const o=new _Te;let s,a;if(t.type===uo.OVERWRITE){const c=t;c.source.fromUser?s=rP(n,e,c.path,c.snap,i,r,o):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Ie(c.path),s=Qb(n,e,c.path,c.snap,i,r,a,o))}else if(t.type===uo.MERGE){const c=t;c.source.fromUser?s=function ITe(n,e,t,i,r,o,s){let a=e;return i.foreach((l,c)=>{const u=St(t,l);p6(e,Ee(u))&&(a=rP(n,a,u,c,r,o,s))}),i.foreach((l,c)=>{const u=St(t,l);p6(e,Ee(u))||(a=rP(n,a,u,c,r,o,s))}),a}(n,e,c.path,c.children,i,r,o):(O(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),s=oP(n,e,c.path,c.children,i,r,a,o))}else if(t.type===uo.ACK_USER_WRITE){const c=t;s=c.revert?function xTe(n,e,t,i,r,o){let s;if(null!=Yb(i,t))return e;{const a=new iP(i,e,r),l=e.eventCache.getNode();let c;if(Ie(t)||".priority"===Ee(t)){let u;if(e.serverCache.isFullyInitialized())u=Kb(i,Sl(e));else{const d=e.serverCache.getNode();O(d instanceof me,"serverChildren would be complete if leaf node"),u=tP(i,d)}c=n.filter.updateFullNode(l,u,o)}else{const u=Ee(t);let d=nP(i,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?n.filter.updateChild(l,u,d,at(t),a,o):e.eventCache.getNode().hasChild(u)?n.filter.updateChild(l,u,me.EMPTY_NODE,at(t),a,o):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(s=Kb(i,Sl(e)),s.isLeafNode()&&(c=n.filter.updateFullNode(c,s,o)))}return s=e.serverCache.isFullyInitialized()||null!=Yb(i,He()),cm(e,c,s,n.filter.filtersNodes())}}(n,e,c.path,i,r,o):function CTe(n,e,t,i,r,o,s){if(null!=Yb(r,t))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=i.value){if(Ie(t)&&l.isFullyInitialized()||l.isCompleteForPath(t))return Qb(n,e,t,l.getNode().getChild(t),r,o,a,s);if(Ie(t)){let c=new mt(null);return l.getNode().forEachChild(co,(u,d)=>{c=c.set(new Ye(u),d)}),oP(n,e,t,c,r,o,a,s)}return e}{let c=new mt(null);return i.foreach((u,d)=>{const h=St(t,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),oP(n,e,t,c,r,o,a,s)}}(n,e,c.path,c.affectedTree,i,r,o)}else{if(t.type!==uo.LISTEN_COMPLETE)throw iu("Unknown operation type: "+t.type);s=function TTe(n,e,t,i,r){const o=e.serverCache;return f6(n,i6(e,o.getNode(),o.isFullyInitialized()||Ie(t),o.isFiltered()),t,i,h6,r)}(n,e,t.path,i,o)}const l=o.getChanges();return function ETe(n,e,t){const i=e.eventCache;if(i.isFullyInitialized()){const r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Wb(n);(t.length>0||!n.eventCache.isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&t.push(JG(Wb(e)))}}(e,s,l),{viewCache:s,changes:l}}(n.processor_,r,e,t,i);return function bTe(n,e){O(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),O(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,o.viewCache),O(o.viewCache.serverCache.isFullyInitialized()||!r.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=o.viewCache,v6(n,o.changes,o.viewCache.eventCache.getNode(),null)}function v6(n,e,t,i){return function JCe(n,e,t,i){const r=[],o=[];return e.forEach(s=>{"child_changed"===s.type&&n.index_.indexedValueChanged(s.oldSnap,s.snapshotNode)&&o.push(function BCe(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(s.childName,s.snapshotNode))}),lm(n,r,"child_removed",e,i,t),lm(n,r,"child_added",e,i,t),lm(n,r,"child_moved",o,i,t),lm(n,r,"child_changed",e,i,t),lm(n,r,"value",e,i,t),r}(n.eventGenerator_,e,t,i?[i]:n.eventRegistrations_)}let Xb,Jb;class b6{constructor(){this.views=new Map}}function sP(n,e,t,i){const r=e.source.queryId;if(null!==r){const o=n.views.get(r);return O(null!=o,"SyncTree gave us an op for an invalid query."),y6(o,e,t,i)}{let o=[];for(const s of n.views.values())o=o.concat(y6(s,e,t,i));return o}}function FTe(n,e,t,i,r,o){const s=function w6(n,e,t,i,r){const s=n.views.get(e._queryIdentifier);if(!s){let a=Kb(t,r?i:null),l=!1;a?l=!0:i instanceof me?(a=tP(t,i),l=!1):(a=me.EMPTY_NODE,l=!1);const c=qb(new ra(a,l,!1),new ra(i,r,!1));return new DTe(e,c)}return s}(n,e,i,r,o);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,s),function MTe(n,e){n.eventRegistrations_.push(e)}(s,t),function PTe(n,e){const t=n.viewCache_.eventCache,i=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(pt,(o,s)=>{i.push(ld(o,s))}),t.isFullyInitialized()&&i.push(JG(t.getNode())),v6(n,i,t.getNode(),e)}(s,t)}function E6(n){const e=[];for(const t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function sa(n,e){let t=null;for(const i of n.views.values())t=t||RTe(i,e);return t}function I6(n,e){return e._queryParams.loadsAllData()?Zb(n):n.views.get(e._queryIdentifier)}function C6(n,e){return null!=I6(n,e)}function aa(n){return null!=Zb(n)}function Zb(n){for(const e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}let UTe=1;class T6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new mt(null),this.pendingWriteTree_=function mTe(){return{visibleWrites:Dr.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function aP(n,e,t,i,r){return function iTe(n,e,t,i,r){O(i>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),n.allWrites.push({path:e,snap:t,writeId:i,visible:r}),r&&(n.visibleWrites=um(n.visibleWrites,e,t)),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i,r),r?hd(n,new Dl({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function la(n,e,t=!1){const i=function oTe(n,e){for(let t=0;t<n.allWrites.length;t++){const i=n.allWrites[t];if(i.writeId===e)return i}return null}(n.pendingWriteTree_,e);if(function sTe(n,e){const t=n.allWrites.findIndex(a=>a.writeId===e);O(t>=0,"removeWrite called with nonexistent writeId.");const i=n.allWrites[t];n.allWrites.splice(t,1);let r=i.visible,o=!1,s=n.allWrites.length-1;for(;r&&s>=0;){const a=n.allWrites[s];a.visible&&(s>=t&&aTe(a,i.path)?r=!1:ur(i.path,a.path)&&(o=!0)),s--}return!!r&&(o?(function lTe(n){n.visibleWrites=a6(n.allWrites,cTe,He()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(i.snap?n.visibleWrites=r6(n.visibleWrites,i.path):Dn(i.children,l=>{n.visibleWrites=r6(n.visibleWrites,St(i.path,l))}),!0))}(n.pendingWriteTree_,e)){let o=new mt(null);return null!=i.snap?o=o.set(He(),!0):Dn(i.children,s=>{o=o.set(new Ye(s),!0)}),hd(n,new $b(i.path,o,t))}return[]}function dm(n,e,t){return hd(n,new Dl({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function ew(n,e,t,i,r=!1){const o=e._path,s=n.syncPointTree_.get(o);let a=[];if(s&&("default"===e._queryIdentifier||C6(s,e))){const l=function LTe(n,e,t,i){const r=e._queryIdentifier,o=[];let s=[];const a=aa(n);if("default"===r)for(const[l,c]of n.views.entries())s=s.concat(_6(c,t,i)),g6(c)&&(n.views.delete(l),c.query._queryParams.loadsAllData()||o.push(c.query));else{const l=n.views.get(r);l&&(s=s.concat(_6(l,t,i)),g6(l)&&(n.views.delete(r),l.query._queryParams.loadsAllData()||o.push(l.query)))}return a&&!aa(n)&&o.push(new(function NTe(){return O(Xb,"Reference.ts has not been loaded"),Xb}())(e._repo,e._path)),{removed:o,events:s}}(s,e,t,i);(function OTe(n){return 0===n.views.size})(s)&&(n.syncPointTree_=n.syncPointTree_.remove(o));const c=l.removed;if(a=l.events,!r){const u=-1!==c.findIndex(h=>h._queryParams.loadsAllData()),d=n.syncPointTree_.findOnPath(o,(h,f)=>aa(f));if(u&&!d){const h=n.syncPointTree_.subtree(o);if(!h.isEmpty()){const f=function GTe(n){return n.fold((e,t,i)=>{if(t&&aa(t))return[Zb(t)];{let r=[];return t&&(r=E6(t)),Dn(i,(o,s)=>{r=r.concat(s)}),r}})}(h);for(let p=0;p<f.length;++p){const m=f[p],g=m.query,b=A6(n,m);n.listenProvider_.startListening(fm(g),hm(n,g),b.hashFn,b.onComplete)}}}!d&&c.length>0&&!i&&(u?n.listenProvider_.stopListening(fm(e),null):c.forEach(h=>{const f=n.queryToTagMap.get(nw(h));n.listenProvider_.stopListening(fm(h),f)}))}!function KTe(n,e){for(let t=0;t<e.length;++t){const i=e[t];if(!i._queryParams.loadsAllData()){const r=nw(i),o=n.queryToTagMap.get(r);n.queryToTagMap.delete(r),n.tagToQueryMap.delete(o)}}}(n,c)}return a}function lP(n,e,t,i=!1){const r=e._path;let o=null,s=!1;n.syncPointTree_.foreachOnPath(r,(h,f)=>{const p=pi(h,r);o=o||sa(f,p),s=s||aa(f)});let l,a=n.syncPointTree_.get(r);a?(s=s||aa(a),o=o||sa(a,He())):(a=new b6,n.syncPointTree_=n.syncPointTree_.set(r,a)),null!=o?l=!0:(l=!1,o=me.EMPTY_NODE,n.syncPointTree_.subtree(r).foreachChild((f,p)=>{const m=sa(p,He());m&&(o=o.updateImmediateChild(f,m))}));const c=C6(a,e);if(!c&&!e._queryParams.loadsAllData()){const h=nw(e);O(!n.queryToTagMap.has(h),"View does not exist, but we have a tag");const f=function YTe(){return UTe++}();n.queryToTagMap.set(h,f),n.tagToQueryMap.set(f,h)}let d=FTe(a,e,t,Gb(n.pendingWriteTree_,r),o,l);if(!c&&!s&&!i){const h=I6(a,e);d=d.concat(function QTe(n,e,t){const i=e._path,r=hm(n,e),o=A6(n,t),s=n.listenProvider_.startListening(fm(e),r,o.hashFn,o.onComplete),a=n.syncPointTree_.subtree(i);if(r)O(!aa(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,u,d)=>{if(!Ie(c)&&u&&aa(u))return[Zb(u).query];{let h=[];return u&&(h=h.concat(E6(u).map(f=>f.query))),Dn(d,(f,p)=>{h=h.concat(p)}),h}});for(let c=0;c<l.length;++c){const u=l[c];n.listenProvider_.stopListening(fm(u),hm(n,u))}}return s}(n,e,h))}return d}function tw(n,e,t){const r=n.pendingWriteTree_,o=n.syncPointTree_.findOnPath(e,(s,a)=>{const c=sa(a,pi(s,e));if(c)return c});return l6(r,e,o,t,!0)}function hd(n,e){return D6(e,n.syncPointTree_,null,Gb(n.pendingWriteTree_,He()))}function D6(n,e,t,i){if(Ie(n.path))return S6(n,e,t,i);{const r=e.get(He());null==t&&null!=r&&(t=sa(r,He()));let o=[];const s=Ee(n.path),a=n.operationForChild(s),l=e.children.get(s);if(l&&a){const c=t?t.getImmediateChild(s):null,u=u6(i,s);o=o.concat(D6(a,l,c,u))}return r&&(o=o.concat(sP(r,n,i,t))),o}}function S6(n,e,t,i){const r=e.get(He());null==t&&null!=r&&(t=sa(r,He()));let o=[];return e.children.inorderTraversal((s,a)=>{const l=t?t.getImmediateChild(s):null,c=u6(i,s),u=n.operationForChild(s);u&&(o=o.concat(S6(u,a,l,c)))}),r&&(o=o.concat(sP(r,n,i,t))),o}function A6(n,e){const t=e.query,i=hm(n,t);return{hashFn:()=>(function STe(n){return n.viewCache_.serverCache.getNode()}(e)||me.EMPTY_NODE).hash(),onComplete:r=>{if("ok"===r)return i?function $Te(n,e,t){const i=cP(n,t);if(i){const r=uP(i),o=r.path,s=r.queryId,a=pi(o,e);return dP(n,o,new am(QM(s),a))}return[]}(n,t._path,i):function zTe(n,e){return hd(n,new am({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e))}(n,t._path);{const o=function H0e(n,e){let t="Unknown Error";"too_big"===n?t="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===n?t="Client doesn't have permission to access the desired data.":"unavailable"===n&&(t="The service is unavailable");const i=new Error(n+" at "+e._path.toString()+": "+t);return i.code=n.toUpperCase(),i}(r,t);return ew(n,t,null,o)}}}}function hm(n,e){const t=nw(e);return n.queryToTagMap.get(t)}function nw(n){return n._path.toString()+"$"+n._queryIdentifier}function cP(n,e){return n.tagToQueryMap.get(e)}function uP(n){const e=n.indexOf("$");return O(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new Ye(n.substr(0,e))}}function dP(n,e,t){const i=n.syncPointTree_.get(e);return O(i,"Missing sync point for query tag that we're tracking"),sP(i,t,Gb(n.pendingWriteTree_,e),null)}function fm(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(function BTe(){return O(Jb,"Reference.ts has not been loaded"),Jb}())(n._repo,n._path):n}class hP{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new hP(t)}node(){return this.node_}}class fP{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=St(this.path_,e);return new fP(this.syncTree_,t)}node(){return tw(this.syncTree_,this.path_)}}const XTe=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},R6=function(n,e,t){return n&&"object"==typeof n?(O(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?ZTe(n[".sv"],e,t):"object"==typeof n[".sv"]?JTe(n[".sv"],e):void O(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},ZTe=function(n,e,t){if("timestamp"===n)return t.timestamp;O(!1,"Unexpected server value: "+n)},JTe=function(n,e,t){n.hasOwnProperty("increment")||O(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const i=n.increment;"number"!=typeof i&&O(!1,"Unexpected increment value: "+i);const r=e.node();if(O(null!==r&&typeof r<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!r.isLeafNode())return i;const s=r.getValue();return"number"!=typeof s?i:s+i},M6=function(n,e,t,i){return mP(e,new fP(t,n),i)},pP=function(n,e,t){return mP(n,new hP(e),t)};function mP(n,e,t){const i=n.getPriority().val(),r=R6(i,e.getImmediateChild(".priority"),t);let o;if(n.isLeafNode()){const s=n,a=R6(s.getValue(),e,t);return a!==s.getValue()||r!==s.getPriority().val()?new sd(a,Nt(r)):n}{const s=n;return o=s,r!==s.getPriority().val()&&(o=o.updatePriority(new sd(r))),s.forEachChild(pt,(a,l)=>{const c=mP(l,e.getImmediateChild(a),t);c!==l&&(o=o.updateImmediateChild(a,c))}),o}}class gP{constructor(e="",t=null,i={children:{},childCount:0}){this.name=e,this.parent=t,this.node=i}}function iw(n,e){let t=e instanceof Ye?e:new Ye(e),i=n,r=Ee(t);for(;null!==r;){const o=ou(i.node.children,r)||{children:{},childCount:0};i=new gP(r,i,o),t=at(t),r=Ee(t)}return i}function Rl(n){return n.node.value}function _P(n,e){n.node.value=e,yP(n)}function P6(n){return n.node.childCount>0}function rw(n,e){Dn(n.node.children,(t,i)=>{e(new gP(t,n,i))})}function k6(n,e,t,i){t&&!i&&e(n),rw(n,r=>{k6(r,e,!0,i)}),t&&i&&e(n)}function pm(n){return new Ye(null===n.parent?n.name:pm(n.parent)+"/"+n.name)}function yP(n){null!==n.parent&&function nxe(n,e,t){const i=function exe(n){return void 0===Rl(n)&&!P6(n)}(t),r=Xr(n.node.children,e);i&&r?(delete n.node.children[e],n.node.childCount--,yP(n)):!i&&!r&&(n.node.children[e]=t.node,n.node.childCount++,yP(n))}(n.parent,n.name,n)}const ixe=/[\[\].#$\/\u0000-\u001F\u007F]/,rxe=/[\[\].#$\u0000-\u001F\u007F]/,vP=10485760,ow=function(n){return"string"==typeof n&&0!==n.length&&!ixe.test(n)},N6=function(n){return"string"==typeof n&&0!==n.length&&!rxe.test(n)},ho=function(n,e,t,i){i&&void 0===e||gm(qa(n,"value"),e,t)},gm=function(n,e,t){const i=t instanceof Ye?new wCe(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+Tl(i));if("function"==typeof e)throw new Error(n+"contains a function "+Tl(i)+" with contents = "+e.toString());if(kb(e))throw new Error(n+"contains "+e.toString()+" "+Tl(i));if("string"==typeof e&&e.length>vP/3&&Oy(e)>vP)throw new Error(n+"contains a string greater than "+vP+" utf8 bytes "+Tl(i)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let r=!1,o=!1;if(Dn(e,(s,a)=>{if(".value"===s)r=!0;else if(".priority"!==s&&".sv"!==s&&(o=!0,!ow(s)))throw new Error(n+" contains an invalid key ("+s+") "+Tl(i)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function ECe(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=Oy(e),$G(n)})(i,s),gm(n,a,i),function ICe(n){const e=n.parts_.pop();n.byteLength_-=Oy(e),n.parts_.length>0&&(n.byteLength_-=1)}(i)}),r&&o)throw new Error(n+' contains ".value" child '+Tl(i)+" in addition to actual children.")}},O6=function(n,e,t,i){if(i&&void 0===e)return;const r=qa(n,"values");if(!e||"object"!=typeof e||Array.isArray(e))throw new Error(r+" must be an object containing the children to replace.");const o=[];Dn(e,(s,a)=>{const l=new Ye(s);if(gm(r,a,St(t,l)),".priority"===NM(l)&&!function(n){return null===n||"string"==typeof n||"number"==typeof n&&!kb(n)||n&&"object"==typeof n&&Xr(n,".sv")}(a))throw new Error(r+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(l)}),function(n,e){let t,i;for(t=0;t<e.length;t++){i=e[t];const o=em(i);for(let s=0;s<o.length;s++)if((".priority"!==o[s]||s!==o.length-1)&&!ow(o[s]))throw new Error(n+"contains an invalid key ("+o[s]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(bCe);let r=null;for(t=0;t<e.length;t++){if(i=e[t],null!==r&&ur(r,i))throw new Error(n+"contains a path "+r.toString()+" that is ancestor of another path "+i.toString());r=i}}(r,o)},wP=function(n,e,t,i){if(!(i&&void 0===t||N6(t)))throw new Error(qa(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},axe=function(n,e,t,i){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wP(n,e,t,i)},fo=function(n,e){if(".info"===Ee(e))throw new Error(n+" failed = Can't modify data under /.info/")};class lxe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function sw(n,e){let t=null;for(let i=0;i<e.length;i++){const r=e[i],o=r.getPath();null!==t&&!OM(o,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:o}),t.events.push(r)}t&&n.eventLists_.push(t)}function L6(n,e,t){sw(n,t),V6(n,i=>OM(i,e))}function Wi(n,e,t){sw(n,t),V6(n,i=>ur(i,e)||ur(e,i))}function V6(n,e){n.recursionDepth_++;let t=!0;for(let i=0;i<n.eventLists_.length;i++){const r=n.eventLists_[i];r&&(e(r.path)?(cxe(n.eventLists_[i]),n.eventLists_[i]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}function cxe(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const i=t.getEventRunner();Il&&xn("event: "+t.toString()),rd(i)}}}const uxe=25;class dxe{constructor(e,t,i,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=i,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new lxe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=zb(),this.transactionQueueTree_=new gP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function U6(n){const t=n.infoData_.getNode(new Ye(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function ym(n){return XTe({timestamp:U6(n)})}function j6(n,e,t,i,r){n.dataUpdateCount++;const o=new Ye(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let s=[];if(r)if(i){const l=ky(t,c=>Nt(c));s=function qTe(n,e,t,i){const r=cP(n,i);if(r){const o=uP(r),s=o.path,a=o.queryId,l=pi(s,e),c=mt.fromObject(t);return dP(n,s,new ud(QM(a),l,c))}return[]}(n.serverSyncTree_,o,l,r)}else{const l=Nt(t);s=function x6(n,e,t,i){const r=cP(n,i);if(null!=r){const o=uP(r),s=o.path,a=o.queryId,l=pi(s,e);return dP(n,s,new Dl(QM(a),l,t))}return[]}(n.serverSyncTree_,o,l,r)}else if(i){const l=ky(t,c=>Nt(c));s=function HTe(n,e,t){const i=mt.fromObject(t);return hd(n,new ud({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,i))}(n.serverSyncTree_,o,l)}else{const l=Nt(t);s=dm(n.serverSyncTree_,o,l)}let a=o;s.length>0&&(a=pd(n,o)),Wi(n.eventQueue_,a,s)}function H6(n,e){EP(n,"connected",e),!1===e&&function gxe(n){fd(n,"onDisconnectEvents");const e=ym(n),t=zb();GM(n.onDisconnect_,He(),(r,o)=>{const s=M6(r,o,n.serverSyncTree_,e);cd(t,r,s)});let i=[];GM(t,He(),(r,o)=>{i=i.concat(dm(n.serverSyncTree_,r,o));const s=xP(n,r);pd(n,s)}),n.onDisconnect_=zb(),Wi(n.eventQueue_,He(),i)}(n)}function EP(n,e,t){const i=new Ye("/.info/"+e),r=Nt(t);n.infoData_.updateSnapshot(i,r);const o=dm(n.infoSyncTree_,i,r);Wi(n.eventQueue_,i,o)}function aw(n){return n.nextWriteId_++}function CP(n,e,t){let i;i=".info"===Ee(e._path)?ew(n.infoSyncTree_,e,t):ew(n.serverSyncTree_,e,t),L6(n.eventQueue_,e._path,i)}function fd(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),xn(t,...e)}function ca(n,e,t,i){e&&rd(()=>{if("ok"===t)e(null);else{const r=(t||"error").toUpperCase();let o=r;i&&(o+=": "+i);const s=new Error(o);s.code=r,e(s)}})}function TP(n,e,t){return tw(n.serverSyncTree_,e,t)||me.EMPTY_NODE}function lw(n,e=n.transactionQueueTree_){if(e||cw(n,e),Rl(e)){const t=W6(n,e);O(t.length>0,"Sending zero length transaction queue"),t.every(r=>0===r.status)&&function Ixe(n,e,t){const i=t.map(c=>c.currentWriteId),r=TP(n,e,i);let o=r;const s=r.hash();for(let c=0;c<t.length;c++){const u=t[c];O(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=pi(e,u.path);o=o.updateChild(d,u.currentOutputSnapshotRaw)}const a=o.val(!0),l=e;n.server_.put(l.toString(),a,c=>{fd(n,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<t.length;h++)t[h].status=2,u=u.concat(la(n.serverSyncTree_,t[h].currentWriteId)),t[h].onComplete&&d.push(()=>t[h].onComplete(null,!0,t[h].currentOutputSnapshotResolved)),t[h].unwatcher();cw(n,iw(n.transactionQueueTree_,e)),lw(n,n.transactionQueueTree_),Wi(n.eventQueue_,e,u);for(let h=0;h<d.length;h++)rd(d[h])}else{if("datastale"===c)for(let d=0;d<t.length;d++)t[d].status=3===t[d].status?4:0;else{Xn("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<t.length;d++)t[d].status=4,t[d].abortReason=c}pd(n,e)}},s)}(n,pm(e),t)}else P6(e)&&rw(e,t=>{lw(n,t)})}function pd(n,e){const t=q6(n,e),i=pm(t);return function Cxe(n,e,t){if(0===e.length)return;const i=[];let r=[];const s=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=pi(t,l.path);let d,u=!1;if(O(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,r=r.concat(la(n.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=uxe)u=!0,d="maxretry",r=r.concat(la(n.serverSyncTree_,l.currentWriteId,!0));else{const h=TP(n,l.path,s);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){gm("transaction failed: Data returned ",f,l.path);let p=Nt(f);"object"==typeof f&&null!=f&&Xr(f,".priority")||(p=p.updatePriority(h.getPriority()));const g=l.currentWriteId,b=ym(n),_=pP(p,h,b);l.currentOutputSnapshotRaw=p,l.currentOutputSnapshotResolved=_,l.currentWriteId=aw(n),s.splice(s.indexOf(g),1),r=r.concat(aP(n.serverSyncTree_,l.path,_,l.currentWriteId,l.applyLocally)),r=r.concat(la(n.serverSyncTree_,g,!0))}else u=!0,d="nodata",r=r.concat(la(n.serverSyncTree_,l.currentWriteId,!0))}Wi(n.eventQueue_,t,r),r=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&i.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}cw(n,n.transactionQueueTree_);for(let a=0;a<i.length;a++)rd(i[a]);lw(n,n.transactionQueueTree_)}(n,W6(n,t),i),i}function q6(n,e){let t,i=n.transactionQueueTree_;for(t=Ee(e);null!==t&&void 0===Rl(i);)i=iw(i,t),t=Ee(e=at(e));return i}function W6(n,e){const t=[];return G6(n,e,t),t.sort((i,r)=>i.order-r.order),t}function G6(n,e,t){const i=Rl(e);if(i)for(let r=0;r<i.length;r++)t.push(i[r]);rw(e,r=>{G6(n,r,t)})}function cw(n,e){const t=Rl(e);if(t){let i=0;for(let r=0;r<t.length;r++)2!==t[r].status&&(t[i]=t[r],i++);t.length=i,_P(e,t.length>0?t:void 0)}rw(e,i=>{cw(n,i)})}function xP(n,e){const t=pm(q6(n,e)),i=iw(n.transactionQueueTree_,e);return function txe(n,e,t){let i=t?n:n.parent;for(;null!==i;){if(e(i))return!0;i=i.parent}}(i,r=>{DP(n,r)}),DP(n,i),k6(i,r=>{DP(n,r)}),t}function DP(n,e){const t=Rl(e);if(t){const i=[];let r=[],o=-1;for(let s=0;s<t.length;s++)3===t[s].status||(1===t[s].status?(O(o===s-1,"All SENT items should be at beginning of queue."),o=s,t[s].status=3,t[s].abortReason="set"):(O(0===t[s].status,"Unexpected transaction status in abort"),t[s].unwatcher(),r=r.concat(la(n.serverSyncTree_,t[s].currentWriteId,!0)),t[s].onComplete&&i.push(t[s].onComplete.bind(null,new Error("set"),!1,null))));-1===o?_P(e,void 0):t.length=o+1,Wi(n.eventQueue_,pm(e),r);for(let s=0;s<i.length;s++)rd(i[s])}}const SP=function(n,e){const t=Dxe(n),i=t.namespace;return"firebase.com"===t.domain&&lo(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||"undefined"===i)&&"localhost"!==t.domain&&lo("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Xn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new SM(t.host,t.secure,i,"ws"===t.scheme||"wss"===t.scheme,e,"",i!==t.subdomain),path:new Ye(t.pathString)}},Dxe=function(n){let e="",t="",i="",r="",o="",s=!0,a="https",l=443;if("string"==typeof n){let c=n.indexOf("//");c>=0&&(a=n.substring(0,c-1),n=n.substring(c+2));let u=n.indexOf("/");-1===u&&(u=n.length);let d=n.indexOf("?");-1===d&&(d=n.length),e=n.substring(0,Math.min(u,d)),u<d&&(r=function Txe(n){let e="";const t=n.split("/");for(let i=0;i<t.length;i++)if(t[i].length>0){let r=t[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch{}e+="/"+r}return e}(n.substring(u,d)));const h=function xxe(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const i=t.split("=");2===i.length?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Xn(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,d)));c=e.indexOf(":"),c>=0?(s="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())t="localhost";else if(f.split(".").length<=2)t=f;else{const p=e.indexOf(".");i=e.substring(0,p).toLowerCase(),t=e.substring(p+1),o=i}"ns"in h&&(o=h.ns)}return{host:e,port:l,domain:t,subdomain:i,secure:s,scheme:a,pathString:r,namespace:o}},K6="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",Sxe=function(){let n=0;const e=[];return function(t){const i=t===n;let r;n=t;const o=new Array(8);for(r=7;r>=0;r--)o[r]=K6.charAt(t%64),t=Math.floor(t/64);O(0===t,"Cannot push at time == 0");let s=o.join("");if(i){for(r=11;r>=0&&63===e[r];r--)e[r]=0;e[r]++}else for(r=0;r<12;r++)e[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=K6.charAt(e[r]);return O(20===s.length,"nextPushId: Length should be 20."),s}}();class Y6{constructor(e,t,i,r){this.eventType=e,this.eventRegistration=t,this.snapshot=i,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+bn(this.snapshot.exportVal())}}class Q6{constructor(e,t,i){this.eventRegistration=e,this.error=t,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class AP{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return O(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class Gi{constructor(e,t,i,r){this._repo=e,this._path=t,this._queryParams=i,this._orderByCalled=r}get key(){return Ie(this._path)?null:NM(this._path)}get ref(){return new Sr(this._repo,this._path)}get _queryIdentifier(){const e=t6(this._queryParams),t=xM(e);return"{}"===t?"default":t}get _queryObject(){return t6(this._queryParams)}isEqual(e){if(!((e=st(e))instanceof Gi))return!1;const t=this._repo===e._repo,i=OM(this._path,e._path);return t&&i&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function vCe(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class Sr extends Gi{constructor(e,t){super(e,t,new zM,!1)}get parent(){const e=zG(this._path);return null===e?null:new Sr(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class Ml{constructor(e,t,i){this._node=e,this.ref=t,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Ye(e),i=md(this.ref,e);return new Ml(this._node.getChild(t),i,pt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(i,r)=>e(new Ml(r,md(this.ref,i),pt)))}hasChild(e){const t=new Ye(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function X6(n,e){return(n=st(n))._checkNotDeleted("ref"),void 0!==e?md(n._root,e):n._root}function md(n,e){return null===Ee((n=st(n))._path)?axe("child","path",e,!1):wP("child","path",e,!1),new Sr(n._repo,St(n._path,e))}function Rxe(n,e){n=st(n),fo("push",n._path),ho("push",e,n._path,!0);const t=U6(n._repo),i=Sxe(t),r=md(n,i),o=md(n,i);let s;return s=null!=e?RP(o,e).then(()=>o):Promise.resolve(o),r.then=s.then.bind(s),r.catch=s.then.bind(s,void 0),r}function Mxe(n){return fo("remove",n._path),RP(n,null)}function RP(n,e){n=st(n),fo("set",n._path),ho("set",e,n._path,!1);const t=new ru;return function IP(n,e,t,i,r){fd(n,"set",{path:e.toString(),value:t,priority:i});const o=ym(n),s=Nt(t,i),a=tw(n.serverSyncTree_,e),l=pP(s,a,o),c=aw(n),u=aP(n.serverSyncTree_,e,l,c,!0);sw(n.eventQueue_,u),n.server_.put(e.toString(),s.val(!0),(h,f)=>{const p="ok"===h;p||Xn("set at "+e+" failed: "+h);const m=la(n.serverSyncTree_,c,!p);Wi(n.eventQueue_,e,m),ca(0,r,h,f)});const d=xP(n,e);pd(n,d),Wi(n.eventQueue_,d,[])}(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function Pxe(n,e){O6("update",e,n._path,!1);const t=new ru;return function mxe(n,e,t,i){fd(n,"update",{path:e.toString(),value:t});let r=!0;const o=ym(n),s={};if(Dn(t,(a,l)=>{r=!1,s[a]=M6(St(e,a),Nt(l),n.serverSyncTree_,o)}),r)xn("update() called with empty data.  Don't do anything."),ca(0,i,"ok",void 0);else{const a=aw(n),l=function jTe(n,e,t,i){!function rTe(n,e,t,i){O(i>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:i,visible:!0}),n.visibleWrites=ZM(n.visibleWrites,e,t),n.lastWriteId=i}(n.pendingWriteTree_,e,t,i);const r=mt.fromObject(t);return hd(n,new ud({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,e,s,a);sw(n.eventQueue_,l),n.server_.merge(e.toString(),t,(c,u)=>{const d="ok"===c;d||Xn("update at "+e+" failed: "+c);const h=la(n.serverSyncTree_,a,!d),f=h.length>0?pd(n,e):e;Wi(n.eventQueue_,f,h),ca(0,i,c,u)}),Dn(t,c=>{const u=xP(n,St(e,c));pd(n,u)}),Wi(n.eventQueue_,e,[])}}(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}class vm{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const i=t._queryParams.getIndex();return new Y6("value",this,new Ml(e.snapshotNode,new Sr(t._repo,t._path),i))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Q6(this,e,t):null}matches(e){return e instanceof vm&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class hw{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Q6(this,e,t):null}createEvent(e,t){O(null!=e.childName,"Child events should have a childName.");const i=md(new Sr(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Y6(e.type,this,new Ml(e.snapshotNode,i,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof hw&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function Z6(n,e,t,i){return function bm(n,e,t,i,r){let o;if("object"==typeof i&&(o=void 0,r=i),"function"==typeof i&&(o=i),r&&r.onlyOnce){const l=t,c=(u,d)=>{CP(n._repo,n,a),l(u,d)};c.userCallback=t.userCallback,c.context=t.context,t=c}const s=new AP(t,o||void 0),a="value"===e?new vm(s):new hw(e,s);return function bxe(n,e,t){let i;i=".info"===Ee(e._path)?lP(n.infoSyncTree_,e,t):lP(n.serverSyncTree_,e,t),L6(n.eventQueue_,e._path,i)}(n._repo,n,a),()=>CP(n._repo,n,a)}(n,"value",e,t,i)}(function kTe(n){O(!Xb,"__referenceConstructor has already been defined"),Xb=n})(Sr),function VTe(n){O(!Jb,"__referenceConstructor has already been defined"),Jb=n}(Sr);const MP={};function n8(n,e,t,i,r){let o=i||n.options.databaseURL;void 0===o&&(n.options.projectId||lo("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),xn("Using default host for project ",n.options.projectId),o=`${n.options.projectId}-default-rtdb.firebaseio.com`);let l,c,s=SP(o,r),a=s.repoInfo;typeof process<"u"&&process.env&&(c=process.env.FIREBASE_DATABASE_EMULATOR_HOST),c?(l=!0,o=`http://${c}?ns=${a.namespace}`,s=SP(o,r),a=s.repoInfo):l=!s.repoInfo.secure;const u=r&&l?new Jp(Jp.OWNER):new K0e(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!ow(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),N6(n)}(t))throw new Error(qa(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",s),Ie(s.path)||lo("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function qxe(n,e,t,i){let r=MP[e.name];r||(r={},MP[e.name]=r);let o=r[n.toURLString()];return o&&lo("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new dxe(n,false,t,i),r[n.toURLString()]=o,o}(a,n,u,new G0e(n.name,t));return new Gxe(d,n)}class Gxe{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function hxe(n,e,t){if(n.stats_=MM(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new Hb(n.repoInfo_,(i,r,o,s)=>{j6(n,i,r,o,s)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>H6(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{bn(t)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}n.persistentConnection_=new xl(n.repoInfo_,e,(i,r,o,s)=>{j6(n,i,r,o,s)},i=>{H6(n,i)},i=>{!function fxe(n,e){Dn(e,(t,i)=>{EP(n,t,i)})}(n,i)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(i=>{n.server_.refreshAuthToken(i)}),n.appCheckProvider_.addTokenChangeListener(i=>{n.server_.refreshAppCheckToken(i.token)}),n.statsReporter_=function X0e(n,e){const t=n.toString();return RM[t]||(RM[t]=e()),RM[t]}(n.repoInfo_,()=>new XCe(n.stats_,n.server_)),n.infoData_=new WCe,n.infoSyncTree_=new T6({startListening:(i,r,o,s)=>{let a=[];const l=n.infoData_.getNode(i._path);return l.isEmpty()||(a=dm(n.infoSyncTree_,i._path,l),setTimeout(()=>{s("ok")},0)),a},stopListening:()=>{}}),EP(n,"connected",!1),n.serverSyncTree_=new T6({startListening:(i,r,o,s)=>(n.server_.listen(i,o,r,(a,l)=>{const c=s(a,l);Wi(n.eventQueue_,i._path,c)}),[]),stopListening:(i,r)=>{n.server_.unlisten(i,r)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Sr(this._repo,He())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function $xe(n,e){const t=MP[e];(!t||t[n.key]!==n)&&lo(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function $6(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&lo("Cannot call "+e+" on a deleted database.")}}function Kxe(n=Ef(),e){const t=su(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const i=VT("database");i&&function Yxe(n,e,t,i={}){(n=st(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&lo("Cannot call useEmulator() after instance has already been initialized.");const r=n._repoInternal;let o;if(r.repoInfo_.nodeAdmin)i.mockUserToken&&lo('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Jp(Jp.OWNER);else if(i.mockUserToken){const s="string"==typeof i.mockUserToken?i.mockUserToken:BT(i.mockUserToken,n.app.options.projectId);o=new Jp(s)}!function zxe(n,e,t,i){n.repoInfo_=new SM(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),i&&(n.authTokenProvider_=i)}(r,e,t,o)}(t,...i)}return t}xl.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},xl.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function Qxe(n){(function sG(n){IM=n})(ks),Ps(new Ho("database",(e,{instanceIdentifier:t})=>n8(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),fn(rG,"1.0.1",n),fn(rG,"1.0.1","esm2017")}();class wm{constructor(e){return e}}const r8="database",PP=new S("angularfire2.database-instances");function tDe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new wm(i)}}const nDe={provide:class Jxe{constructor(){return Cf(r8)}},deps:[[new Tt,PP]]},iDe={provide:wm,useFactory:function eDe(n,e){const t=By(r8,n,e);return t&&new wm(t)},deps:[[new Tt,PP],Qa]};let rDe=(()=>{class n{constructor(){fn("angularfire",au.full,"rtdb")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=De({type:n});static \u0275inj=Ce({providers:[iDe,nDe]})}return n})();function oDe(n,...e){return{ngModule:rDe,providers:[{provide:PP,useFactory:tDe(n),multi:!0,deps:[Q,yt,Tf,xf,[new Tt,rv],[new Tt,Uy],...e]}]}}const sDe=jt(Kxe,!0),kP=jt(Z6,!0),aDe=jt(Rxe,!0),gd=jt(X6,!0),lDe=jt(Mxe,!0),cDe=jt(RP,!0),uDe=jt(Pxe,!0);let Em=(()=>{class n{constructor(){this.noteClickSubscription=new te,this.noteDetailSubscription=new te,this.noteSubscription=new te,this.showHideSubscription=new te,this.noteSearchSubscription=new te,this.disableEditingSubscription=new te}noteAddEditHandler(){this.noteSubscription.next({action:"addEdit"})}noteDeleteHandler(){this.noteSubscription.next({action:"delete"})}noteToggleHandler(){this.showHideSubscription.next("")}searchHandler(t){this.noteSearchSubscription.next({value:t})}clearData(){this.noteSubscription.next({action:"clear"}),this.noteSubscription.next({action:"delete"})}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),fw=(()=>{class n{constructor(){this.methodTriggeredSource=new te,this.deleteNote=new te,this.newNote=new te,this.methodTriggered$=this.methodTriggeredSource.asObservable(),this.methodDeleteNote$=this.deleteNote.asObservable(),this.methodNewNote$=this.newNote.asObservable()}triggerMethod(t){this.methodTriggeredSource.next(t)}deleteMethod(t){this.deleteNote.next(t)}newNodeMethod(t){this.newNote.next(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const dDe=["titleTextarea"],hDe=["bodyTextarea"];let o8=(()=>{class n{constructor(t,i,r){this.notesService=t,this.sharedService=i,this.database=r,this.note=null,this.currentDate="",this.isButtonDisabled=!0,this.checkEditNoteObj=!1,this.editNoteAID="",this.showListScreenCall=new ve,this.subscription=this.sharedService.methodTriggered$.subscribe(o=>{this.noteValue(o)}),this.subscription=this.sharedService.methodNewNote$.subscribe(o=>{this.newNote(o)})}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.currentDate=(new Date).getDate()+", "+(new Date).getFullYear()+" at "+((new Date).getHours()>12?(new Date).getHours()-12:(new Date).getHours())+":"+("0"+(new Date).getMinutes()).slice(-2)+((new Date).getHours()>12?" PM":" AM"),setInterval(()=>{this.currentDate=(new Date).getDate()+", "+(new Date).getFullYear()+" at "+((new Date).getHours()>12?(new Date).getHours()-12:(new Date).getHours())+":"+("0"+(new Date).getMinutes()).slice(-2)+((new Date).getHours()>12?" PM":" AM")},1e3),this.notesService.noteClickSubscription.subscribe(r=>{this.email=localStorage.getItem("email");let o=this.email?this.email.split("."):[];const s=gd(this.database,"NOTE_DETAIL/"+o[0]);console.log("localStorage.getItem('email')",localStorage.getItem("email")),kP(s,a=>{a.forEach(l=>{const u=l.val();this.note=u,console.log("godaaaaaaaaaaaaaaaaaaaaaaaaaaa1",u),console.log("this.notethis.notethis.notethis.notethis.note",this.note)})},{onlyOnce:!0}),console.log("this.note finalllll",this.note),this.bodyTextarea.nativeElement.value=this.note.body,this.titleTextarea.nativeElement.value=this.note.title,this.titleTextarea.nativeElement.focus()}),this.notesService.noteSubscription.subscribe(r=>{this.bodyTextarea.nativeElement.value="",this.titleTextarea.nativeElement.value="",this.note=null}),this.notesService.disableEditingSubscription.subscribe(({disableEditing:r})=>{this.bodyTextarea.nativeElement.disabled=r,this.titleTextarea.nativeElement.disabled=r}),this.email=localStorage.getItem("email");let t=this.email?this.email.split("."):[];console.log("uuuuuuuuuuhnnnnn this.email",this.email),console.log("uuuuuuuuuuhnnnnn",t);const i=gd(this.database,"NOTE_DETAIL/"+t[0]);localStorage.getItem("email"),console.log("localStorage.getItem('email')",localStorage.getItem("email")),kP(i,r=>{r.forEach(o=>{const a=o.val();console.log("dataeeeeeeeeeeeeeeeechildDatachildDatachildDatae",a)})},{onlyOnce:!0})}textInputHandler(){this.notesService.noteDetailSubscription.next({value:{body:this.bodyTextarea.nativeElement.value,title:this.titleTextarea.nativeElement.value},note:this.note})}saveNote(){if(this.checkEditNoteObj){console.log("yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy"),this.email=localStorage.getItem("email");let t=this.email?this.email.split("."):[];this.showListScreenCall.emit(!0),this.isButtonDisabled=!0,console.log("this.titleTextarea",this.titleTextareaNg),console.log("this.titleTextarea",this.titleTextareaNg),(new Date).getHours(),(new Date).getHours(),(new Date).getMinutes(),(new Date).getHours();const r=gd(this.database,"NOTE_DETAIL/"+t[0]+"/"+this.editNoteAID);console.log("99999999999editNoteObjeditNoteObjpostListRefpostListRef",r),uDe(r,{title:this.titleTextareaNg,body:this.bodyTextareaNg})}else{console.log("nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn"),this.email=localStorage.getItem("email");let t=this.email?this.email.split("."):[];console.log("localStorage.getItem('email')this.email this.email ",t[0]),this.showListScreenCall.emit(!0),this.isButtonDisabled=!0,console.log("this.titleTextarea",this.titleTextareaNg),console.log("this.titleTextarea",this.titleTextareaNg);let i=((new Date).getHours()>12?(new Date).getHours()-12:(new Date).getHours())+":"+(new Date).getMinutes()+((new Date).getHours()>12?" PM":" AM");const r=gd(this.database,"NOTE_DETAIL/"+t[0]),o=aDe(r);cDe(o,{id:100*Math.random(),title:this.titleTextareaNg,body:this.bodyTextareaNg,date:i,aId:null})}}back(){this.showListScreenCall.emit(!0),this.titleTextarea.nativeElement.value.trim().length>0||this.bodyTextarea.nativeElement.value.trim().length>0||this.notesService.noteDeleteHandler()}onInputChange(){this.isButtonDisabled=!(this.titleTextarea.nativeElement.value.trim().length>0||this.bodyTextarea.nativeElement.value.trim().length>0)}noteValue(t){this.checkEditNoteObj=!1,this.editNoteObj=[],this.editNoteAID="",this.editNoteAID=t.aId,this.titleTextareaNg=t.title,this.bodyTextareaNg=t.body,this.editNoteObj=t,this.checkEditNoteObj=!0}newNote(t){this.bodyTextarea.nativeElement.value="",this.titleTextarea.nativeElement.value="",this.checkEditNoteObj=!1}static#e=this.\u0275fac=function(i){return new(i||n)(y(Em),y(fw),y(wm))};static#t=this.\u0275cmp=$e({type:n,selectors:[["app-note-detail"]],viewQuery:function(i,r){if(1&i&&(Nn(dDe,7),Nn(hDe,7)),2&i){let o;Xe(o=Ze())&&(r.titleTextarea=o.first),Xe(o=Ze())&&(r.bodyTextarea=o.first)}},outputs:{showListScreenCall:"showListScreenCall"},decls:17,vars:9,consts:[[1,"note-detail"],[1,"note-textarea-title",3,"placeholder","ngModel","keyup","ngModelChange","input"],["titleTextarea",""],[1,"note-textarea",3,"placeholder","ngModel","keyup","ngModelChange","input"],["bodyTextarea",""],[1,"save-note-btn",3,"disabled","click"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"span"),P(2),k(),A(3,"label"),P(4,"Title"),k(),A(5,"textarea",1,2),ue("keyup",function(){return r.textInputHandler()})("ngModelChange",function(s){return r.titleTextareaNg=s})("input",function(){return r.onInputChange()}),P(7),k(),A(8,"label"),P(9,"Description"),k(),A(10,"textarea",3,4),ue("keyup",function(){return r.textInputHandler()})("ngModelChange",function(s){return r.bodyTextareaNg=s})("input",function(){return r.onInputChange()}),P(12),k()(),A(13,"button",5),ue("click",function(){return r.saveNote()}),P(14,"Save"),k(),A(15,"button",5),ue("click",function(){return r.back()}),P(16,"Back"),k()),2&i&&(j(2),Pc(r.currentDate),j(3),V("placeholder","Add Title")("ngModel",r.titleTextareaNg),j(2),Ao("      ",r.note?r.note.title:"","\n    "),j(3),V("placeholder","Add Description")("ngModel",r.bodyTextareaNg),j(2),Ao("      ",r.note?r.note.body:"","\n    "),j(1),V("disabled",r.isButtonDisabled),j(2),V("disabled",!r.isButtonDisabled))},dependencies:[Pa,Ph,MC],styles:[".note-detail[_ngcontent-%COMP%]{height:calc(75vh - 55px);background-color:#000;border-left:1px solid #aaa;overflow:hidden;border-radius:10px}.note-detail[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:100%;top:5px;position:relative;font-size:14px;opacity:.8;color:#fff}.note-detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:1px solid #ccc;width:91%;padding:7px;display:block;text-align:left;background-color:#2b2b2b;color:#fff;margin:10px 10px auto;border-radius:10px}.note-textarea[_ngcontent-%COMP%]{background-color:#fff;outline:none;resize:none;width:80%;height:calc(40vh - 120px);border:none;font-size:16px;padding:20px;margin:10px;border-radius:15px}.note-textarea-title[_ngcontent-%COMP%]{background-color:#fff;outline:none;resize:none;width:80%;height:calc(40vh - 210px);border:none;font-size:16px;padding:20px;margin:10px;border-radius:15px}@media (max-width: 760px){.note-detail[_ngcontent-%COMP%]{height:calc(100vh - 55px);background-color:#5b5b5b;border-left:1px solid #aaa;overflow:hidden}.note-textarea[_ngcontent-%COMP%]{background-color:#fff;outline:none;resize:none;width:45vw;height:calc(60vh - 210px);border:none;font-size:16px;padding:15px;margin:10px;border-radius:15px}.note-detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:1px solid #ccc;width:91%;padding:7px;display:block;text-align:left;background-color:#2b2b2b;color:#fff;margin:10px 10px auto;border-radius:10px}}@media (max-width: 480px){.note-detail[_ngcontent-%COMP%]{height:calc(100vh - 55px);background-color:#5b5b5b;border-left:1px solid #aaa;overflow:hidden}.note-textarea[_ngcontent-%COMP%]{background-color:#fff;outline:none;resize:none;width:45vw;height:calc(60vh - 210px);border:none;font-size:16px;padding:15px;margin:10px;border-radius:15px}.note-detail[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{border:1px solid #ccc;width:91%;padding:7px;display:block;text-align:left;background-color:#2b2b2b;color:#fff;margin:10px 10px auto;border-radius:10px}}.save-note-btn[_ngcontent-%COMP%]{background-color:#393737;color:#fff;padding:15px;border:none;margin:5px;width:100px;cursor:pointer;border-radius:10px}"]})}return n})();function fDe(n,e){if(1&n){const t=So();A(0,"div",7)(1,"mat-icon",8),ue("click",function(){an(t);const r=ge();return ln(r.editNoteHandler(r.note))}),P(2,"edit "),k(),A(3,"mat-icon",9),ue("click",function(){an(t);const r=ge();return ln(r.deleteNoteHandler(r.note))}),P(4,"delete "),k()()}}let pDe=(()=>{class n{constructor(t,i,r){this.notesService=t,this.sharedService=i,this.router=r,this.noteClicked=new ve,this.showDetailsScreenCallEdit=new ve,this.showListScreenCall=new ve,this.showButtons=!1}ngOnInit(){}noteClickHandler(){this.showButtons=!0,this.noteClicked.emit()}noteClickHandlerD(){this.showButtons=!1}deleteNoteHandler(t){this.notesService.noteDeleteHandler(),this.sharedService.deleteMethod(t)}editNoteHandler(t){console.log("hhhhh",t),this.showDetailsScreenCallEdit.emit(!0),this.sharedService.triggerMethod(t)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Em),y(fw),y(On))};static#t=this.\u0275cmp=$e({type:n,selectors:[["app-note"]],viewQuery:function(i,r){if(1&i&&Nn(o8,5),2&i){let o;Xe(o=Ze())&&(r.noteDetailComponent=o.first)}},inputs:{note:"note",i:"i"},outputs:{noteClicked:"noteClicked",showDetailsScreenCallEdit:"showDetailsScreenCallEdit",showListScreenCall:"showListScreenCall"},decls:10,vars:5,consts:[[1,"column"],[1,"note",3,"ngClass","mouseenter","mouseleave"],[1,"note-title"],["class","action-buttons",4,"ngIf"],[1,"note-detail"],[1,"note-date"],[1,"note-body"],[1,"action-buttons"],["matTooltip","Edit Note",1,"edit-button",3,"click"],["matTooltip","Delete Note",1,"delete-button",3,"click"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"mat-card",1),ue("mouseenter",function(){return r.noteClickHandler()})("mouseleave",function(){return r.noteClickHandlerD()}),A(2,"div",2),P(3),ne(4,fDe,5,0,"div",3),k(),A(5,"div",4)(6,"div",5),P(7),k(),A(8,"div",6),P(9),k()()()()),2&i&&(j(1),V("ngClass",r.note.selected?"selected":""),j(2),Ao("",r.note.title," "),j(1),V("ngIf",r.showButtons),j(3),Ao(" ",r.note.date," "),j(2),Ao(" ",r.note.body," "))},dependencies:[Sh,Wr,sT,tue,dj],styles:['.note[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:10px;display:block;cursor:pointer;border-radius:10px;word-break:break-word;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;margin:5px;background-color:#ffffffd9}.note.selected[_ngcontent-%COMP%]{background-color:#d1cdcdd9}.note-title[_ngcontent-%COMP%]{text-align:left;width:100%;margin:10px 0;font-weight:500;font-size:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.note-detail[_ngcontent-%COMP%]{text-align:left;width:100%;display:flex;margin:10px 0}.note-date[_ngcontent-%COMP%]{flex:1;font-size:14px;opacity:.7;min-width:65px;font-family:monospace;align-self:flex-end}.note-body[_ngcontent-%COMP%]{flex:3;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;font-size:smaller}.action-buttons[_ngcontent-%COMP%]{float:right}.delete-button[_ngcontent-%COMP%], .edit-button[_ngcontent-%COMP%]{background-color:transparent;border:none;cursor:pointer;margin-left:10px}.column[_ngcontent-%COMP%]{float:left;width:50%;height:110px}.row[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}']})}return n})();function mDe(n,e){if(1&n){const t=So();A(0,"app-note",4),ue("noteClicked",function(){const o=an(t).$implicit;return ln(ge().noteClickHandler(o))})("showDetailsScreenCallEdit",function(){return an(t),ln(ge().showDetailsScreenCallEdit())}),k()}if(2&n){const i=e.index;V("note",e.$implicit)("i",i)}}let s8=(()=>{class n{constructor(t,i,r){this.notesService=t,this.sharedService=i,this.database=r,this.selectedNote=null,this.disableEditing=!1,this.note=null,this.searchedText="",this.showDetailsScreenCall=new ve,this.notesService.clearData(),this.subscription=this.sharedService.methodDeleteNote$.subscribe(o=>{this.deleteNote(o)})}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.notesService.clearData(),this.notesService.noteDetailSubscription.subscribe(t=>{localStorage.setItem("notes",JSON.stringify(this.notesList))}),this.notesService.noteSubscription.subscribe(t=>{if("delete"===t.action&&this.selectedNote&&this.notesList.splice(this.getSelectedNoteIndex(),1),"addEdit"===t.action){let i=((new Date).getHours()>12?(new Date).getHours()-12:(new Date).getHours())+":"+((new Date).getMinutes()<10?"0"+(new Date).getMinutes():(new Date).getMinutes())+((new Date).getHours()>12?" PM":" AM");Array.isArray(this.notesList)?this.notesList.forEach(r=>r.selected=!1):this.notesList=[],this.notesList.push({id:100*Math.random(),body:"",title:"",date:i,selected:!0}),this.noteClickHandler(this.notesList[this.notesList.length-1])}localStorage.setItem("notes",JSON.stringify(this.notesList))})}click(){this.notesList=[],this.email=localStorage.getItem("email");let t=this.email?this.email.split("."):[];const i=gd(this.database,"NOTE_DETAIL/"+t[0]);kP(i,r=>{r.forEach(o=>{const s=o.key,a=o.val();Array.isArray(this.notesList)?this.notesList.forEach(l=>l.selected=!1):this.notesList=[],null==a.aId&&(a.aId=s),this.notesList.push(a),localStorage.setItem("notes",JSON.stringify(a))})},{onlyOnce:!0}),this.filteredNotes=this.notesList}setDummyNote(){let t=JSON.parse(localStorage.getItem("notes")||"{}");if(!t||t&&0===t.length){let i=((new Date).getHours()>12?(new Date).getHours()-12:(new Date).getHours())+":"+(new Date).getMinutes()+((new Date).getHours()>12?" PM":" AM");const r={id:100*Math.random(),body:"",title:"",date:i,selected:!0};localStorage.setItem("notes",JSON.stringify([r])),this.notesList=JSON.parse(localStorage.getItem("notes")||"{}"),this.notesService.noteClickSubscription.next(r)}}addNoteHandler(){this.showDetailsScreenCall.emit(!0),this.sharedService.newNodeMethod(!0)}editNoteHandler(){this.setDummyNote(),this.showDetailsScreenCall.emit(!0)}getSelectedNoteIndex(){const t=this.notesList.findIndex(i=>!0===i.selected);return this.selectedNote=this.notesList[t],t}removeSelection(){this.notesList.forEach(t=>t.selected=!1)}deleteNoteHandler(){this.notesService.noteDeleteHandler()}noteClickHandler(t){const i=this.notesList.findIndex(r=>r.id===t.id);this.selectedNote=this.notesList[i],this.notesList.forEach(r=>r.selected=!1),this.notesList[i].selected=!0,this.notesService.noteClickSubscription.next(this.notesList[i])}click2(t){return this.notesList&&this.notesList.length>0?this.notesList.filter(i=>0===this.searchedText.trim().length||i.title.indexOf(this.searchedText.trim())>-1||i.body.indexOf(this.searchedText.trim())>-1):[]}searchedNotes(t){return this.notesList.push(this.noteArry),this.notesList&&this.notesList.length>0?this.notesList.filter(i=>0===this.searchedText.trim().length||i.title.indexOf(this.searchedText.trim())>-1||i.body.indexOf(this.searchedText.trim())>-1):[]}searchHandler(t){this.notesService.searchHandler(t.value)}showDetailsScreenCallEdit(){this.showDetailsScreenCall.emit(!0)}deleteNote(t){this.email=localStorage.getItem("email");let i=this.email?this.email.split("."):[];(new Date).getHours(),(new Date).getHours(),(new Date).getMinutes(),(new Date).getHours();const o=gd(this.database,"NOTE_DETAIL/"+i[0]+"/"+t.aId);lDe(o)}static#e=this.\u0275fac=function(i){return new(i||n)(y(Em),y(fw),y(wm))};static#t=this.\u0275cmp=$e({type:n,selectors:[["app-notes-list"]],outputs:{showDetailsScreenCall:"showDetailsScreenCall"},decls:5,vars:1,consts:[[1,"list-container"],[2,"text-align","center"],[1,"add-new-note-btn",2,"margin-top","40px",3,"click"],["style","margin-top: 60px;",3,"note","i","noteClicked","showDetailsScreenCallEdit",4,"ngFor","ngForOf"],[2,"margin-top","60px",3,"note","i","noteClicked","showDetailsScreenCallEdit"]],template:function(i,r){1&i&&(A(0,"div",0)(1,"div",1)(2,"button",2),ue("click",function(){return r.addNoteHandler()}),P(3,"Add Note "),k()(),ne(4,mDe,1,2,"app-note",3),k()),2&i&&(j(4),V("ngForOf",r.click2()))},dependencies:[eC,pDe],styles:[".list-container[_ngcontent-%COMP%]{background-color:#000000e3;overflow-x:hidden;overflow-y:auto;width:100%;height:calc(75vh - 55px);min-width:250px;border-radius:10px}.add-new-note-btn[_ngcontent-%COMP%]{background-color:#393737;color:#fff;padding:15px;border:none;margin:5px;width:90%;cursor:pointer;border-radius:10px}@media (max-width: 760px){.list-container[_ngcontent-%COMP%]{background-color:#000000e3;overflow-x:hidden;overflow-y:auto;width:100%;max-width:200px;height:calc(100vh - 55px);min-width:auto}}@media (max-width: 480px){.list-container[_ngcontent-%COMP%]{background-color:#030303e3;overflow-x:hidden;overflow-y:auto;width:100%;max-width:200px;height:calc(100vh - 55px);min-width:auto}}.search-bar[_ngcontent-%COMP%]{border:1px solid #eee;padding:0 12px 0 5px;position:relative;border-radius:5px;vertical-align:middle;background-color:#fff;float:right;top:9px;right:20px}.search-bar[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:absolute;font-size:20px;margin:0 0 0 .5px;background-color:#4a3939;color:#fff;float:left;left:0}.search-bar[_ngcontent-%COMP%]{border:1px solid #eee;padding:0 12px 0 5px;position:relative;border-radius:5px;vertical-align:middle;background-color:#fff;top:9px}.search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:none;outline:none;margin-left:25px;border-radius:5px}"]})}return n})();const NP=he(n=>!!n);let gDe=(()=>{class n{router;auth;constructor(t,i){this.router=t,this.auth=i}canActivate=(t,i)=>{const r=t.data.authGuardPipe||(()=>NP);return C_e(this.auth).pipe(qn(1),r(t,i),he(o=>"boolean"==typeof o?o:Array.isArray(o)?this.router.createUrlTree(o):this.router.parseUrl(o)))};static \u0275fac=function(i){return new(i||n)(C(On),C(jf))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"any"})}return n})();const pw=n=>({canActivate:[gDe],data:{authGuardPipe:n}}),a8=n=>qw(NP,he(e=>e&&n||!0)),vDe=Qm,wDe=Symbol("__destroy"),l8=Symbol("__decoratorApplied");function c8(n){return"string"==typeof n?Symbol(`__destroy__${n}`):wDe}function u8(n,e){n[e]||(n[e]=new te)}function d8(n,e){n[e]&&(n[e].next(),n[e].complete(),n[e]=null)}function h8(n){n instanceof It&&n.unsubscribe()}function f8(n,e){return function(){if(n&&n.call(this),d8(this,c8()),e.arrayName&&function IDe(n){Array.isArray(n)&&n.forEach(h8)}(this[e.arrayName]),e.checkProperties)for(const t in this)e.blackList?.includes(t)||h8(this[t])}}Symbol("CheckerHasBeenSet");function MDe(n,e){return t=>{const i=c8(e);"string"==typeof e?function RDe(n,e,t){const i=n[e];u8(n,t),n[e]=function(){i.apply(this,arguments),d8(this,t),n[e]=i}}(n,e,i):u8(n,i);const r=n[i];return t.pipe(tn(r))}}const _8="firebasestorage.googleapis.com",y8="storageBucket";class Ot extends Qr{constructor(e,t,i=0){super(FP(e),`Firebase Storage: ${t} (${FP(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ot.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return FP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var At=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(At||{});function FP(n){return"storage/"+n}function LP(){return new Ot(At.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function VP(n){return new Ot(At.INVALID_ARGUMENT,n)}function E8(){return new Ot(At.APP_DELETED,"The Firebase app was deleted.")}function Im(n,e){return new Ot(At.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Cm(n){throw new Ot(At.INTERNAL_ERROR,"Internal error: "+n)}class mi{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=mi.makeFromUrl(e,t)}catch{return new mi(e,"")}if(""===i.path)return i;throw function HDe(n){return new Ot(At.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let i=null;const r="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+r+"(/(.*))?$","i");function c(x){x.path_=decodeURIComponent(x.path)}const d=t.replace(/[.]/g,"\\."),E=[{regex:a,indices:{bucket:1,path:3},postModify:function o(x){"/"===x.path.charAt(x.path.length-1)&&(x.path_=x.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${t===_8?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let x=0;x<E.length;x++){const L=E[x],W=L.regex.exec(e);if(W){let ke=W[L.indices.path];ke||(ke=""),i=new mi(W[L.indices.bucket],ke),L.postModify(i);break}}if(null==i)throw function jDe(n){return new Ot(At.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return i}}class KDe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function mw(n){return"string"==typeof n||n instanceof String}function I8(n){return BP()&&n instanceof Blob}function BP(){return typeof Blob<"u"&&!function mz(){var n;const e=null===(n=My())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()}function UP(n,e,t,i){if(i<e)throw VP(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw VP(`Invalid value for '${n}'. Expected ${t} or less.`)}function rs(n,e,t){let i=e;return null==t&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function C8(n){const e=encodeURIComponent;let t="?";for(const i in n)n.hasOwnProperty(i)&&(t=t+(e(i)+"=")+e(n[i])+"&");return t=t.slice(0,-1),t}var _d=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(_d||{});class eSe{constructor(e,t,i,r,o,s,a,l,c,u,d,h=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=r,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,p)=>{this.resolve_=f,this.reject_=p,this.start_()})}start_(){const t=(i,r)=>{const o=this.resolve_,s=this.reject_,a=r.connection;if(r.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function XDe(n){return void 0!==n}(l)?o():o(l)}catch(l){s(l)}else if(null!==a){const l=LP();l.serverResponse=a.getErrorText(),s(this.errorCallback_?this.errorCallback_(a,l):l)}else s(r.canceled?this.appDelete_?E8():function b8(){return new Ot(At.CANCELED,"User canceled the upload/download.")}():function v8(){return new Ot(At.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new gw(!1,null,!0)):this.backoffId_=function YDe(n,e,t){let i=1,r=null,o=null,s=!1,a=0;function l(){return 2===a}let c=!1;function u(...g){c||(c=!0,e.apply(null,g))}function d(g){r=setTimeout(()=>{r=null,n(f,l())},g)}function h(){o&&clearTimeout(o)}function f(g,...b){if(c)return void h();if(g)return h(),void u.call(null,g,...b);if(l()||s)return h(),void u.call(null,g,...b);let E;i<64&&(i*=2),1===a?(a=2,E=0):E=1e3*(i+Math.random()),d(E)}let p=!1;function m(g){p||(p=!0,h(),!c&&(null!==r?(g||(a=2),clearTimeout(r),d(0)):g||(a=1)))}return d(0),o=setTimeout(()=>{s=!0,m(!0)},t),m}((i,r)=>{if(r)return void i(!1,new gw(!1,null,!0));const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===_d.NO_ERROR,l=o.getStatus();if(!a||function T8(n,e){const t=n>=500&&n<600,r=-1!==[408,429].indexOf(n),o=-1!==e.indexOf(n);return t||r||o}(l,this.additionalRetryCodes_)&&this.retry){const u=o.getErrorCode()===_d.ABORT;return void i(!1,new gw(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);i(!0,new gw(c,o))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function QDe(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class gw{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function aSe(...n){const e=function sSe(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}if(BP())return new Blob(n);throw new Ot(At.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}const Ar={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class jP{constructor(e,t){this.data=e,this.contentType=t||null}}function D8(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);i<=127?e.push(i):i<=2047?e.push(192|i>>6,128|63&i):55296==(64512&i)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(i=65536|(1023&i)<<10|1023&n.charCodeAt(++t),e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)):e.push(239,191,189):56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function S8(n,e){switch(n){case Ar.BASE64:{const r=-1!==e.indexOf("-"),o=-1!==e.indexOf("_");if(r||o)throw Im(n,"Invalid character '"+(r?"-":"_")+"' found: is it base64url encoded?");break}case Ar.BASE64URL:{const r=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(r||o)throw Im(n,"Invalid character '"+(r?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function cSe(n){if(typeof atob>"u")throw function WDe(n){return new Ot(At.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}("base-64");return atob(n)}(e)}catch(r){throw r.message.includes("polyfill")?r:Im(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let r=0;r<t.length;r++)i[r]=t.charCodeAt(r);return i}class A8{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Im(Ar.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;null!=i&&(this.base64=function fSe(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}class os{constructor(e,t){let i=0,r="";I8(e)?(this.data_=e,i=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(I8(this.data_)){const r=function lSe(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===r?null:new os(r)}{const i=new Uint8Array(this.data_.buffer,e,t-e);return new os(i,!0)}}static getBlob(...e){if(BP()){const t=e.map(i=>i instanceof os?i.data_:i);return new os(aSe.apply(null,t))}{const t=e.map(s=>mw(s)?function x8(n,e){switch(n){case Ar.RAW:return new jP(D8(e));case Ar.BASE64:case Ar.BASE64URL:return new jP(S8(n,e));case Ar.DATA_URL:return new jP(function dSe(n){const e=new A8(n);return e.base64?S8(Ar.BASE64,e.rest):function uSe(n){let e;try{e=decodeURIComponent(n)}catch{throw Im(Ar.DATA_URL,"Malformed data URL.")}return D8(e)}(e.rest)}(e),function hSe(n){return new A8(n).contentType}(e))}throw LP()}(Ar.RAW,s).data:s.data_);let i=0;t.forEach(s=>{i+=s.byteLength});const r=new Uint8Array(i);let o=0;return t.forEach(s=>{for(let a=0;a<s.length;a++)r[o++]=s[a]}),new os(r,!0)}}uploadData(){return this.data_}}function HP(n){let e;try{e=JSON.parse(n)}catch{return null}return function JDe(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function R8(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function gSe(n,e){return e}class gi{constructor(e,t,i,r){this.server=e,this.local=t||e,this.writable=!!i,this.xform=r||gSe}}let _w=null;function Tm(){if(_w)return _w;const n=[];n.push(new gi("bucket")),n.push(new gi("generation")),n.push(new gi("metageneration")),n.push(new gi("name","fullPath",!0));const t=new gi("name");t.xform=function e(o,s){return function _Se(n){return!mw(n)||n.length<2?n:R8(n)}(s)},n.push(t);const r=new gi("size");return r.xform=function i(o,s){return void 0!==s?Number(s):s},n.push(r),n.push(new gi("timeCreated")),n.push(new gi("updated")),n.push(new gi("md5Hash",null,!0)),n.push(new gi("cacheControl",null,!0)),n.push(new gi("contentDisposition",null,!0)),n.push(new gi("contentEncoding",null,!0)),n.push(new gi("contentLanguage",null,!0)),n.push(new gi("contentType",null,!0)),n.push(new gi("metadata","customMetadata",!0)),_w=n,_w}function M8(n,e,t){const i=HP(e);return null===i?null:function vSe(n,e,t){const i={type:"file"},r=t.length;for(let o=0;o<r;o++){const s=t[o];i[s.local]=s.xform(i,e[s.server])}return function ySe(n,e){Object.defineProperty(n,"ref",{get:function t(){const o=new mi(n.bucket,n.fullPath);return e._makeStorageReference(o)}})}(i,n),i}(n,i,t)}class po{constructor(e,t,i,r){this.url=e,this.method=t,this.handler=i,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function mo(n){if(!n)throw LP()}function yd(n){return function e(t,i){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function BDe(){return new Ot(At.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}():function VDe(){return new Ot(At.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function LDe(n){return new Ot(At.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function UDe(n){return new Ot(At.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}(n.path):i,r.status=t.getStatus(),r.serverResponse=i.serverResponse,r}}function L8(n,e,t,i,r){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},l=function a(){let E="";for(let x=0;x<2;x++)E+=Math.random().toString().slice(2);return E}();s["Content-Type"]="multipart/related; boundary="+l;const c=function F8(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=function ASe(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),i}(e,i,r),u=function zP(n,e){const t={},i=e.length;for(let r=0;r<i;r++){const o=e[r];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}(c,t),f=os.getBlob("--"+l+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+u+"\r\n--"+l+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",i,"\r\n--"+l+"--");if(null===f)throw function w8(){return new Ot(At.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}();const p={name:c.fullPath},m=rs(o,n.host,n._protocol),b=n.maxUploadRetryTime,_=new po(m,"POST",function yw(n,e){return function t(i,r){const o=M8(n,r,e);return mo(null!==o),o}}(n,t),b);return _.urlParams=p,_.headers=s,_.body=f.uploadData(),_.errorHandler=yd(e),_}let B8=null;class NSe{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_d.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_d.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_d.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,r){if(this.sent_)throw Cm("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const o in r)r.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,r[o].toString());return void 0!==i?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Cm("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Cm("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Cm("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Cm("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class OSe extends NSe{initXhr(){this.xhr_.responseType="text"}}function Rr(){return B8?B8():new OSe}class Pl{constructor(e,t){this._service=e,this._location=t instanceof mi?t:mi.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pl(e,t)}get root(){const e=new mi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return R8(this._location.path)}get storage(){return this._service}get parent(){const e=function pSe(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new mi(this._location.bucket,e);return new Pl(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function GDe(n){return new Ot(At.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function KSe(n){n._throwIfRoot("getDownloadURL");const e=function xSe(n,e,t){const r=rs(e.fullServerUrl(),n.host,n._protocol),s=n.maxOperationRetryTime,a=new po(r,"GET",function CSe(n,e){return function t(i,r){const o=M8(n,r,e);return mo(null!==o),function bSe(n,e,t,i){const r=HP(e);if(null===r||!mw(r.downloadTokens))return null;const o=r.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(c=>{const d=n.fullPath;return rs("/b/"+s(n.bucket)+"/o/"+s(d),t,i)+C8({alt:"media",token:c})})[0]}(o,r,n.host,n._protocol)}}(n,t),s);return a.errorHandler=function xm(n){const e=yd(n);return function t(i,r){let o=e(i,r);return 404===i.getStatus()&&(o=function FDe(n){return new Ot(At.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}(n.path)),o.serverResponse=r.serverResponse,o}}(e),a}(n.storage,n._location,Tm());return n.storage.makeRequestWithTokens(e,Rr).then(t=>{if(null===t)throw function qDe(){return new Ot(At.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}();return t})}function $8(n,e){if(n instanceof GP){const t=n;if(null==t._bucket)throw function zDe(){return new Ot(At.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+y8+"' property when initializing the app?")}();const i=new Pl(t,t._bucket);return null!=e?$8(i,e):i}return void 0!==e?function z8(n,e){const t=function mSe(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),i=new mi(n._location.bucket,t);return new Pl(n.storage,i)}(n,e):n}function q8(n,e){const t=e?.[y8];return null==t?null:mi.makeFromBucketSpec(t,n)}class GP{constructor(e,t,i,r,o){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=r,this._firebaseVersion=o,this._bucket=null,this._host=_8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?mi.makeFromBucketSpec(r,this._host):q8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?mi.makeFromBucketSpec(this._url,e):q8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){UP("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){UP("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return v(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const i=yield t.getToken();if(null!==i)return i.accessToken}return null})()}_getAppCheckToken(){var e=this;return v(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pl(this,e)}_makeRequest(e,t,i,r,o=!0){if(this._deleted)return new KDe(E8());{const s=function oSe(n,e,t,i,r,o,s=!0){const a=C8(n.urlParams),l=n.url+a,c=Object.assign({},n.headers);return function iSe(n,e){e&&(n["X-Firebase-GMPID"]=e)}(c,e),function tSe(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(c,t),function nSe(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(c,o),function rSe(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(c,i),new eSe(l,n.method,c,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,r,s)}(e,this._appId,i,r,t,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}makeRequestWithTokens(e,t){var i=this;return v(function*(){const[r,o]=yield Promise.all([i._getAuthToken(),i._getAppCheckToken()]);return i._makeRequest(e,t,r,o).getPromise()})()}}const W8="@firebase/storage",K8="storage";function eAe(n,e,t){return function U8(n,e,t){n._throwIfRoot("uploadBytes");const i=L8(n.storage,n._location,Tm(),new os(e,!0),t);return n.storage.makeRequestWithTokens(i,Rr).then(r=>({metadata:r,ref:n}))}(n=st(n),e,t)}function tAe(n){return KSe(n=st(n))}function nAe(n,e){return function ZSe(n,e){if(e&&function QSe(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof GP)return function XSe(n,e){return new Pl(n,e)}(n,e);throw VP("To use ref(service, url), the first argument must be a Storage instance.")}return $8(n,e)}(n=st(n),e)}function iAe(n=Ef(),e){const i=su(n=st(n),K8).getImmediate({identifier:e}),r=VT("storage");return r&&function rAe(n,e,t,i={}){!function JSe(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:r}=i;r&&(n._overrideAuthToken="string"==typeof r?r:BT(r,n.app.options.projectId))}(n,e,t,i)}(i,...r),i}function oAe(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),r=n.getProvider("app-check-internal");return new GP(t,i,r,e,ks)}!function sAe(){Ps(new Ho(K8,oAe,"PUBLIC").setMultipleInstances(!0)),fn(W8,"0.11.2",""),fn(W8,"0.11.2","esm2017")}();class bw{constructor(e){return e}}const Y8="storage",KP=new S("angularfire2.storage-instances");function cAe(n){return(e,t)=>{const i=e.runOutsideAngular(()=>n(t));return new bw(i)}}const uAe={provide:class aAe{constructor(){return Cf(Y8)}},deps:[[new Tt,KP]]},dAe={provide:bw,useFactory:function lAe(n,e){const t=By(Y8,n,e);return t&&new bw(t)},deps:[[new Tt,KP],Qa]};let hAe=(()=>{class n{constructor(){fn("angularfire",au.full,"gcs")}static \u0275fac=function(i){return new(i||n)};static \u0275mod=De({type:n});static \u0275inj=Ce({providers:[dAe,uAe]})}return n})();function fAe(n,...e){return{ngModule:hAe,providers:[{provide:KP,useFactory:cAe(n),multi:!0,deps:[Q,yt,Tf,xf,[new Tt,rv],[new Tt,Uy],...e]}]}}const pAe=jt(tAe,!0),mAe=jt(iAe,!0),gAe=jt(nAe,!0),_Ae=jt(eAe,!0);let yAe=(()=>{class n{constructor(t){this.storage=t}uploadImage(t,i){console.log("111111111111p");const r=gAe(this.storage,i);console.log("22222222222p");const o=_t(_Ae(r,t));return console.log("33333333333333p"),o.pipe(ei(s=>pAe(s.ref)))}static#e=this.\u0275fac=function(i){return new(i||n)(C(bw))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function vAe(n,e){if(1&n){const t=So();A(0,"div",1)(1,"h1"),P(2,"Update Profile"),k(),A(3,"div",2),Ae(4,"img",3),A(5,"button",4),ue("click",function(){return an(t),ln(_s(9).click())}),A(6,"mat-icon"),P(7,"edit"),k()()(),A(8,"input",5,6),ue("change",function(r){an(t);const o=ge();return ln(o.uploadFile(r,o.users))}),k(),A(10,"form",7),ue("ngSubmit",function(){an(t);const r=ge();return ln(r.saveProfile(r.users))}),A(11,"div",8)(12,"mat-form-field"),Ae(13,"input",9),k()(),A(14,"button",10),P(15," Save "),k(),A(16,"button",11),ue("click",function(){return an(t),ln(ge().back())}),P(17," Back "),k()()()}if(2&n){const t=ge();let i;j(4),V("src",null!==(i=t.users.photoURL)&&void 0!==i?i:"/assets/images/image-placeholder.png",Ia),j(6),V("formGroup",t.profileForm),j(3),V("ngModel",t.displayName)}}let ww=class bk{constructor(e,t,i,r){this.imageUploadService=e,this.toast=t,this.usersService=i,this.fb=r,this.showListScreenCall=new ve,this.profileForm=this.fb.group({uid:[""],displayName:[""],firstName:[""],lastName:[""],phone:[""],address:[""]})}ngOnInit(){this.usersService.currentUserProfile$.pipe(MDe(this),Pt(console.log)).subscribe(e=>{this.profileForm.patchValue({...e})})}uploadFile(e,t){console.log("eventtttttttttttt",e),console.log("eventtttttttttttt event.target.files[0]",e.target.files[0]),console.log("eventtttttttttttt",t.uid),this.imageUploadService.uploadImage(e.target.files[0],`images/profile/${t.uid}`).pipe(this.toast.observe({loading:"Uploading profile image...",success:"Image uploaded successfully",error:"There was an error in uploading the image"}),ei(i=>ED(t,{photoURL:i}).then(()=>{this.showListScreenCall.emit(!0),console.log("godaaaaaaaaaaaaaaaaa111111")}).catch(r=>{this.showListScreenCall.emit(!0),console.log("Nooooooooooooooooooooooooooo111111")}))).subscribe()}saveProfile(e){console.log("yyyyyyyyyyyyyyy",e),console.log("yyyyyyyyyyyyyyy",this.profileForm),console.log("yyyyyyyyyyyyyyy",this.profileForm.value),e.uid&&ED(e,{displayName:this.profileForm.value.displayName}).then(()=>{console.log("godaaaaaaaaaaaaaaaaa111111"),this.showListScreenCall.emit(!0)}).catch(t=>{console.log("Nooooooooooooooooooooooooooo111111")})}loadUser(){const e=iv().currentUser;console.log("jjjjjjjjjjjjjjjjjjjjjjjjjjjjjhfughfucbdskjbchjdsh",e),null!=e&&(this.users=e,e.displayName&&(this.displayName=e.displayName))}back(){this.showListScreenCall.emit(!0)}static#e=this.\u0275fac=function(t){return new(t||bk)(y(yAe),y(pS),y(EM),y(VC))};static#t=this.\u0275cmp=$e({type:bk,selectors:[["app-profile"]],outputs:{showListScreenCall:"showListScreenCall"},decls:1,vars:1,consts:[["style","text-align: center;background-color: black; color: white;   border-radius: 30px;  ",4,"ngIf"],[2,"text-align","center","background-color","black","color","white","border-radius","30px"],[1,"profile-image"],["width","120","height","120",1,"margin-top","mat-elevation-z1",3,"src"],["mat-mini-fab","",3,"click"],["hidden","","type","file",3,"change"],["inputField",""],[3,"formGroup","ngSubmit"],[1,"row",2,"margin-top","20px"],["type","text","matInput","","formControlName","displayName","placeholder","Display Name",3,"ngModel"],["type","submit","mat-raised-button","",1,"margin-top",2,"background-color","rgb(57, 55, 55)","color","white"],["type","submit","mat-raised-button","",1,"margin-top",2,"background-color","rgb(57, 55, 55)","color","white","margin-left","10px",3,"click"]],template:function(t,i){1&t&&ne(0,vAe,18,3,"div",0),2&t&&V("ngIf",i.users)},dependencies:[Wr,B_,Pa,Ph,A_,sT,mS,_S,Na,Uh,lv,fve],styles:[".profile-image[_ngcontent-%COMP%]{position:relative;width:120px;margin:auto}.profile-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{border-radius:100%;object-fit:cover;object-position:center}.profile-image[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{position:absolute;bottom:10px;right:0}"]})};ww=function Ak(n,e,t,i){var s,r=arguments.length,o=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(s=n[a])&&(o=(r<3?s(o):r>3?s(e,t,o):s(e,t))||o);return r>3&&o&&Object.defineProperty(e,t,o),o}([function xDe(n={}){return e=>{!function bDe(n){return!!n[vDe]}(e)?function CDe(n,e){n.prototype.ngOnDestroy=f8(n.prototype.ngOnDestroy,e)}(e,n):function TDe(n,e){const t=n.\u0275pipe;t.onDestroy=f8(t.onDestroy,e)}(e,n),function EDe(n){n.prototype[l8]=!0}(e)}}()],ww);const Q8=()=>(n=>qw(NP,he(e=>e||n)))(["login"]),wAe=[{path:"",pathMatch:"full",component:cv},{path:"login",component:cv,...pw(()=>a8(["note-list"]))},{path:"note-list",component:s8},{path:"sign-up",component:iG,...pw(()=>a8(["home"]))},{path:"home",component:cv,...pw(Q8)},{path:"profile",component:ww,...pw(Q8)}];let EAe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[sz.forRoot(wAe),sz]})}return n})();function X8(n,e){return e?t=>$h(e.pipe(qn(1),function IAe(){return Vt((n,e)=>{n.subscribe(gt(e,Om))})}()),t.pipe(X8(n))):$t((t,i)=>gn(n(t,i)).pipe(qn(1),rH(t)))}function Z8(n,e=zh){const t=Pj(n,e);return X8(()=>t)}const CAe=["mat-menu-item",""];function TAe(n,e){1&n&&(function tN(){oe.lFrame.currentNamespace=F1}(),A(0,"svg",3),Ae(1,"polygon",4),k())}const xAe=[[["mat-icon"],["","matMenuItemIcon",""]],"*"],DAe=["mat-icon, [matMenuItemIcon]","*"];function SAe(n,e){if(1&n){const t=So();A(0,"div",0),ue("keydown",function(r){return an(t),ln(ge()._handleKeydown(r))})("click",function(){return an(t),ln(ge().closed.emit("click"))})("@transformMenu.start",function(r){return an(t),ln(ge()._onAnimationStart(r))})("@transformMenu.done",function(r){return an(t),ln(ge()._onAnimationDone(r))}),A(1,"div",1),qe(2),k()()}if(2&n){const t=ge();V("id",t.panelId)("ngClass",t._classList)("@transformMenu",t._panelAnimationState),Gt("aria-label",t.ariaLabel||null)("aria-labelledby",t.ariaLabelledby||null)("aria-describedby",t.ariaDescribedby||null)}}const AAe=["*"],YP=new S("MAT_MENU_PANEL"),RAe=JU(ZU(class{}));let Ew=(()=>{class n extends RAe{constructor(t,i,r,o,s){super(),this._elementRef=t,this._document=i,this._focusMonitor=r,this._parentMenu=o,this._changeDetectorRef=s,this.role="menuitem",this._hovered=new te,this._focused=new te,this._highlighted=!1,this._triggersSubmenu=!1,o?.addItem?.(this)}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._getHostElement(),t,i):this._getHostElement().focus(i),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(t){this.disabled&&(t.preventDefault(),t.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const t=this._elementRef.nativeElement.cloneNode(!0),i=t.querySelectorAll("mat-icon, .material-icons");for(let r=0;r<i.length;r++)i[r].remove();return t.textContent?.trim()||""}_setHighlighted(t){this._highlighted=t,this._changeDetectorRef?.markForCheck()}_setTriggersSubmenu(t){this._triggersSubmenu=t,this._changeDetectorRef?.markForCheck()}_hasFocus(){return this._document&&this._document.activeElement===this._getHostElement()}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(we),y(Y_),y(YP,8),y(or))};static#t=this.\u0275cmp=$e({type:n,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-mdc-menu-item","mat-mdc-focus-indicator"],hostVars:8,hostBindings:function(i,r){1&i&&ue("click",function(s){return r._checkDisabled(s)})("mouseenter",function(){return r._handleMouseEnter()}),2&i&&(Gt("role",r.role)("tabindex",r._getTabIndex())("aria-disabled",r.disabled)("disabled",r.disabled||null),Mt("mat-mdc-menu-item-highlighted",r._highlighted)("mat-mdc-menu-item-submenu-trigger",r._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[be],attrs:CAe,ngContentSelectors:DAe,decls:5,vars:3,consts:[[1,"mat-mdc-menu-item-text"],["matRipple","",1,"mat-mdc-menu-ripple",3,"matRippleDisabled","matRippleTrigger"],["class","mat-mdc-menu-submenu-icon","viewBox","0 0 5 10","focusable","false","aria-hidden","true",4,"ngIf"],["viewBox","0 0 5 10","focusable","false","aria-hidden","true",1,"mat-mdc-menu-submenu-icon"],["points","0,0 5,5 0,10"]],template:function(i,r){1&i&&(Vi(xAe),qe(0),A(1,"span",0),qe(2,1),k(),Ae(3,"div",1),ne(4,TAe,2,0,"svg",2)),2&i&&(j(3),V("matRippleDisabled",r.disableRipple||r.disabled)("matRippleTrigger",r._getHostElement()),j(1),V("ngIf",r._triggersSubmenu))},dependencies:[Wr,sj],encapsulation:2,changeDetection:0})}return n})();const MAe=new S("MatMenuContent"),Iw={transformMenu:cy("transformMenu",[Zh("void",wr({opacity:0,transform:"scale(0.8)"})),Gc("void => enter",Wc("120ms cubic-bezier(0, 0, 0.2, 1)",wr({opacity:1,transform:"scale(1)"}))),Gc("* => void",Wc("100ms 25ms linear",wr({opacity:0})))]),fadeInItems:cy("fadeInItems",[Zh("showing",wr({opacity:1})),Gc("void => *",[wr({opacity:0}),Wc("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let PAe=0;const J8=new S("mat-menu-default-options",{providedIn:"root",factory:function kAe(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let Dm=(()=>{class n{get xPosition(){return this._xPosition}set xPosition(t){this._xPosition=t,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(t){this._yPosition=t,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(t){this._overlapTrigger=ji(t)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(t){this._hasBackdrop=ji(t)}set panelClass(t){const i=this._previousPanelClass;i&&i.length&&i.split(" ").forEach(r=>{this._classList[r]=!1}),this._previousPanelClass=t,t&&t.length&&(t.split(" ").forEach(r=>{this._classList[r]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(t){this.panelClass=t}constructor(t,i,r,o){this._elementRef=t,this._ngZone=i,this._changeDetectorRef=o,this._directDescendantItems=new Oc,this._classList={},this._panelAnimationState="void",this._animationDone=new te,this.closed=new ve,this.close=this.closed,this.panelId="mat-menu-panel-"+PAe++,this.overlayPanelClass=r.overlayPanelClass||"",this._xPosition=r.xPosition,this._yPosition=r.yPosition,this.backdropClass=r.backdropClass,this._overlapTrigger=r.overlapTrigger,this._hasBackdrop=r.hasBackdrop}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new Bae(this._directDescendantItems).withWrap().withTypeAhead().withHomeAndEnd(),this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(qh(this._directDescendantItems),ei(t=>Ul(...t.map(i=>i._focused)))).subscribe(t=>this._keyManager.updateActiveItem(t)),this._directDescendantItems.changes.subscribe(t=>{const i=this._keyManager;if("enter"===this._panelAnimationState&&i.activeItem?._hasFocus()){const r=t.toArray(),o=Math.max(0,Math.min(r.length-1,i.activeItemIndex||0));r[o]&&!r[o].disabled?i.setActiveItem(o):i.setNextItemActive()}})}ngOnDestroy(){this._keyManager?.destroy(),this._directDescendantItems.destroy(),this.closed.complete(),this._firstItemFocusSubscription?.unsubscribe()}_hovered(){return this._directDescendantItems.changes.pipe(qh(this._directDescendantItems),ei(i=>Ul(...i.map(r=>r._hovered))))}addItem(t){}removeItem(t){}_handleKeydown(t){const i=t.keyCode,r=this._keyManager;switch(i){case 27:$C(t)||(t.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;default:return(38===i||40===i)&&r.setFocusOrigin("keyboard"),void r.onKeydown(t)}t.stopPropagation()}focusFirstItem(t="program"){this._firstItemFocusSubscription?.unsubscribe(),this._firstItemFocusSubscription=this._ngZone.onStable.pipe(qn(1)).subscribe(()=>{let i=null;if(this._directDescendantItems.length&&(i=this._directDescendantItems.first._getHostElement().closest('[role="menu"]')),!i||!i.contains(document.activeElement)){const r=this._keyManager;r.setFocusOrigin(t).setFirstItemActive(),!r.activeItem&&i&&i.focus()}})}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(t){const i=Math.min(this._baseElevation+t,24),r=`${this._elevationPrefix}${i}`,o=Object.keys(this._classList).find(s=>s.startsWith(this._elevationPrefix));(!o||o===this._previousElevation)&&(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[r]=!0,this._previousElevation=r)}setPositionClasses(t=this.xPosition,i=this.yPosition){const r=this._classList;r["mat-menu-before"]="before"===t,r["mat-menu-after"]="after"===t,r["mat-menu-above"]="above"===i,r["mat-menu-below"]="below"===i,this._changeDetectorRef?.markForCheck()}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(t){this._animationDone.next(t),this._isAnimating=!1}_onAnimationStart(t){this._isAnimating=!0,"enter"===t.toState&&0===this._keyManager.activeItemIndex&&(t.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(qh(this._allItems)).subscribe(t=>{this._directDescendantItems.reset(t.filter(i=>i._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(Q),y(J8),y(or))};static#t=this.\u0275dir=z({type:n,contentQueries:function(i,r,o){if(1&i&&(Bi(o,MAe,5),Bi(o,Ew,5),Bi(o,Ew,4)),2&i){let s;Xe(s=Ze())&&(r.lazyContent=s.first),Xe(s=Ze())&&(r._allItems=s),Xe(s=Ze())&&(r.items=s)}},viewQuery:function(i,r){if(1&i&&Nn(rr,5),2&i){let o;Xe(o=Ze())&&(r.templateRef=o.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList"},outputs:{closed:"closed",close:"close"}})}return n})(),NAe=(()=>{class n extends Dm{constructor(t,i,r,o){super(t,i,r,o),this._elevationPrefix="mat-elevation-z",this._baseElevation=8}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(Q),y(J8),y(or))};static#t=this.\u0275cmp=$e({type:n,selectors:[["mat-menu"]],hostAttrs:["ngSkipHydration",""],hostVars:3,hostBindings:function(i,r){2&i&&Gt("aria-label",null)("aria-labelledby",null)("aria-describedby",null)},exportAs:["matMenu"],features:[nt([{provide:YP,useExisting:n}]),be],ngContentSelectors:AAe,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-mdc-menu-panel","mat-mdc-elevation-specific",3,"id","ngClass","keydown","click"],[1,"mat-mdc-menu-content"]],template:function(i,r){1&i&&(Vi(),ne(0,SAe,3,6,"ng-template"))},dependencies:[Sh],styles:['mat-menu{display:none}.mat-mdc-menu-content{margin:0;padding:8px 0;list-style-type:none}.mat-mdc-menu-content:focus{outline:none}.mat-mdc-menu-content,.mat-mdc-menu-content .mat-mdc-menu-item .mat-mdc-menu-item-text{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;white-space:normal;font-family:var(--mat-menu-item-label-text-font);line-height:var(--mat-menu-item-label-text-line-height);font-size:var(--mat-menu-item-label-text-size);letter-spacing:var(--mat-menu-item-label-text-tracking);font-weight:var(--mat-menu-item-label-text-weight)}.mat-mdc-menu-panel{--mat-menu-container-shape:4px;min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;box-sizing:border-box;outline:0;border-radius:var(--mat-menu-container-shape);background-color:var(--mat-menu-container-color);will-change:transform,opacity}.mat-mdc-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-mdc-menu-panel{outline:solid 1px}.mat-mdc-menu-item{display:flex;position:relative;align-items:center;justify-content:flex-start;overflow:hidden;padding:0;padding-left:16px;padding-right:16px;-webkit-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:rgba(0,0,0,0);cursor:pointer;width:100%;text-align:left;box-sizing:border-box;color:inherit;font-size:inherit;background:none;text-decoration:none;margin:0;align-items:center;min-height:48px}.mat-mdc-menu-item:focus{outline:none}[dir=rtl] .mat-mdc-menu-item,.mat-mdc-menu-item[dir=rtl]{padding-left:16px;padding-right:16px}.mat-mdc-menu-item::-moz-focus-inner{border:0}.mat-mdc-menu-item,.mat-mdc-menu-item:visited,.mat-mdc-menu-item:link{color:var(--mat-menu-item-label-text-color)}.mat-mdc-menu-item .mat-icon-no-color,.mat-mdc-menu-item .mat-mdc-menu-submenu-icon{color:var(--mat-menu-item-icon-color)}.mat-mdc-menu-item[disabled]{cursor:default;opacity:.38}.mat-mdc-menu-item[disabled]::after{display:block;position:absolute;content:"";top:0;left:0;bottom:0;right:0}.mat-mdc-menu-item .mat-icon{margin-right:16px}[dir=rtl] .mat-mdc-menu-item{text-align:right}[dir=rtl] .mat-mdc-menu-item .mat-icon{margin-right:0;margin-left:16px}.mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:32px}[dir=rtl] .mat-mdc-menu-item.mat-mdc-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}.mat-mdc-menu-item:not([disabled]):hover{background-color:var(--mat-menu-item-hover-state-layer-color)}.mat-mdc-menu-item:not([disabled]).cdk-program-focused,.mat-mdc-menu-item:not([disabled]).cdk-keyboard-focused,.mat-mdc-menu-item:not([disabled]).mat-mdc-menu-item-highlighted{background-color:var(--mat-menu-item-focus-state-layer-color)}.cdk-high-contrast-active .mat-mdc-menu-item{margin-top:1px}.mat-mdc-menu-submenu-icon{position:absolute;top:50%;right:16px;transform:translateY(-50%);width:5px;height:10px;fill:currentColor}[dir=rtl] .mat-mdc-menu-submenu-icon{right:auto;left:16px;transform:translateY(-50%) scaleX(-1)}.cdk-high-contrast-active .mat-mdc-menu-submenu-icon{fill:CanvasText}.mat-mdc-menu-item .mat-mdc-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}'],encapsulation:2,data:{animation:[Iw.transformMenu,Iw.fadeInItems]},changeDetection:0})}return n})();const e9=new S("mat-menu-scroll-strategy"),FAe={provide:e9,deps:[qc],useFactory:function OAe(n){return()=>n.scrollStrategies.reposition()}},t9=Fa({passive:!0});let LAe=(()=>{class n{get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(t){this.menu=t}get menu(){return this._menu}set menu(t){t!==this._menu&&(this._menu=t,this._menuCloseSubscription.unsubscribe(),t&&(this._menuCloseSubscription=t.close.subscribe(i=>{this._destroyMenu(i),("click"===i||"tab"===i)&&this._parentMaterialMenu&&this._parentMaterialMenu.closed.emit(i)})),this._menuItemInstance?._setTriggersSubmenu(this.triggersSubmenu()))}constructor(t,i,r,o,s,a,l,c,u){this._overlay=t,this._element=i,this._viewContainerRef=r,this._menuItemInstance=a,this._dir=l,this._focusMonitor=c,this._ngZone=u,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=It.EMPTY,this._hoverSubscription=It.EMPTY,this._menuCloseSubscription=It.EMPTY,this._changeDetectorRef=F(or),this._handleTouchStart=d=>{YC(d)||(this._openedBy="touch")},this._openedBy=void 0,this.restoreFocus=!0,this.menuOpened=new ve,this.onMenuOpen=this.menuOpened,this.menuClosed=new ve,this.onMenuClose=this.menuClosed,this._scrollStrategy=o,this._parentMaterialMenu=s instanceof Dm?s:void 0,i.nativeElement.addEventListener("touchstart",this._handleTouchStart,t9)}ngAfterContentInit(){this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,t9),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!!(this._menuItemInstance&&this._parentMaterialMenu&&this.menu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){const t=this.menu;if(this._menuOpen||!t)return;const i=this._createOverlay(t),r=i.getConfig(),o=r.positionStrategy;this._setPosition(t,o),r.hasBackdrop=null==t.hasBackdrop?!this.triggersSubmenu():t.hasBackdrop,i.attach(this._getPortal(t)),t.lazyContent&&t.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(t),t instanceof Dm&&(t._startAnimation(),t._directDescendantItems.changes.pipe(tn(t.close)).subscribe(()=>{o.withLockedPosition(!1).reapplyLastPosition(),o.withLockedPosition(!0)}))}closeMenu(){this.menu?.close.emit()}focus(t,i){this._focusMonitor&&t?this._focusMonitor.focusVia(this._element,t,i):this._element.nativeElement.focus(i)}updatePosition(){this._overlayRef?.updatePosition()}_destroyMenu(t){if(!this._overlayRef||!this.menuOpen)return;const i=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this.restoreFocus&&("keydown"===t||!this._openedBy||!this.triggersSubmenu())&&this.focus(this._openedBy),this._openedBy=void 0,i instanceof Dm?(i._resetAnimation(),i.lazyContent?i._animationDone.pipe(hn(r=>"void"===r.toState),qn(1),tn(i.lazyContent._attached)).subscribe({next:()=>i.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),i?.lazyContent?.detach())}_initMenu(t){t.parentMenu=this.triggersSubmenu()?this._parentMaterialMenu:void 0,t.direction=this.dir,this._setMenuElevation(t),t.focusFirstItem(this._openedBy||"program"),this._setIsMenuOpen(!0)}_setMenuElevation(t){if(t.setElevation){let i=0,r=t.parentMenu;for(;r;)i++,r=r.parentMenu;t.setElevation(i)}}_setIsMenuOpen(t){t!==this._menuOpen&&(this._menuOpen=t,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&this._menuItemInstance._setHighlighted(t),this._changeDetectorRef.markForCheck())}_createOverlay(t){if(!this._overlayRef){const i=this._getOverlayConfig(t);this._subscribeToPositions(t,i.positionStrategy),this._overlayRef=this._overlay.create(i),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(t){return new Hj({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:t.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:t.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(t,i){t.setPositionClasses&&i.positionChanges.subscribe(r=>{const o="start"===r.connectionPair.overlayX?"after":"before",s="top"===r.connectionPair.overlayY?"below":"above";this._ngZone?this._ngZone.run(()=>t.setPositionClasses(o,s)):t.setPositionClasses(o,s)})}_setPosition(t,i){let[r,o]="before"===t.xPosition?["end","start"]:["start","end"],[s,a]="above"===t.yPosition?["bottom","top"]:["top","bottom"],[l,c]=[s,a],[u,d]=[r,o],h=0;if(this.triggersSubmenu()){if(d=r="before"===t.xPosition?"start":"end",o=u="end"===r?"start":"end",this._parentMaterialMenu){if(null==this._parentInnerPadding){const f=this._parentMaterialMenu.items.first;this._parentInnerPadding=f?f._getHostElement().offsetTop:0}h="bottom"===s?this._parentInnerPadding:-this._parentInnerPadding}}else t.overlapTrigger||(l="top"===s?"bottom":"top",c="top"===a?"bottom":"top");i.withPositions([{originX:r,originY:l,overlayX:u,overlayY:s,offsetY:h},{originX:o,originY:l,overlayX:d,overlayY:s,offsetY:h},{originX:r,originY:c,overlayX:u,overlayY:a,offsetY:-h},{originX:o,originY:c,overlayX:d,overlayY:a,offsetY:-h}])}_menuClosingActions(){const t=this._overlayRef.backdropClick(),i=this._overlayRef.detachments();return Ul(t,this._parentMaterialMenu?this._parentMaterialMenu.closed:Z(),this._parentMaterialMenu?this._parentMaterialMenu._hovered().pipe(hn(s=>s!==this._menuItemInstance),hn(()=>this._menuOpen)):Z(),i)}_handleMousedown(t){KC(t)||(this._openedBy=0===t.button?"mouse":void 0,this.triggersSubmenu()&&t.preventDefault())}_handleKeydown(t){const i=t.keyCode;(13===i||32===i)&&(this._openedBy="keyboard"),this.triggersSubmenu()&&(39===i&&"ltr"===this.dir||37===i&&"rtl"===this.dir)&&(this._openedBy="keyboard",this.openMenu())}_handleClick(t){this.triggersSubmenu()?(t.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){!this.triggersSubmenu()||!this._parentMaterialMenu||(this._hoverSubscription=this._parentMaterialMenu._hovered().pipe(hn(t=>t===this._menuItemInstance&&!t.disabled),Z8(0,cT)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof Dm&&this.menu._isAnimating?this.menu._animationDone.pipe(qn(1),Z8(0,cT),tn(this._parentMaterialMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(t){return(!this._portal||this._portal.templateRef!==t.templateRef)&&(this._portal=new Vj(t.templateRef,this._viewContainerRef)),this._portal}static#e=this.\u0275fac=function(i){return new(i||n)(y(qc),y(Oe),y(Ii),y(e9),y(YP,8),y(Ew,10),y(Q_,8),y(Y_),y(Q))};static#t=this.\u0275dir=z({type:n,hostVars:3,hostBindings:function(i,r){1&i&&ue("click",function(s){return r._handleClick(s)})("mousedown",function(s){return r._handleMousedown(s)})("keydown",function(s){return r._handleKeydown(s)}),2&i&&Gt("aria-haspopup",r.menu?"menu":null)("aria-expanded",r.menuOpen)("aria-controls",r.menuOpen?r.menu.panelId:null)},inputs:{_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"],restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"}})}return n})(),VAe=(()=>{class n extends LAe{static#e=this.\u0275fac=function(){let t;return function(r){return(t||(t=_n(n)))(r||n)}}();static#t=this.\u0275dir=z({type:n,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:[1,"mat-mdc-menu-trigger"],exportAs:["matMenuTrigger"],features:[be]})}return n})(),n9=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({providers:[FAe],imports:[No,aj,yn,Yj,ly,yn]})}return n})();const BAe=["*",[["mat-toolbar-row"]]],UAe=["*","mat-toolbar-row"],jAe=XC(class{constructor(n){this._elementRef=n}});let HAe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=z({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),zAe=(()=>{class n extends jAe{constructor(t,i,r){super(t),this._platform=i,this._document=r}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}static#e=this.\u0275fac=function(i){return new(i||n)(y(Oe),y(dn),y(we))};static#t=this.\u0275cmp=$e({type:n,selectors:[["mat-toolbar"]],contentQueries:function(i,r,o){if(1&i&&Bi(o,HAe,5),2&i){let s;Xe(s=Ze())&&(r._toolbarRows=s)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(i,r){2&i&&Mt("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",0===r._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[be],ngContentSelectors:UAe,decls:2,vars:0,template:function(i,r){1&i&&(Vi(BAe),qe(0),qe(1,1))},styles:[".mat-toolbar{background:var(--mat-toolbar-container-background-color);color:var(--mat-toolbar-container-text-color)}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font);font-size:var(--mat-toolbar-title-text-size);line-height:var(--mat-toolbar-title-text-line-height);font-weight:var(--mat-toolbar-title-text-weight);letter-spacing:var(--mat-toolbar-title-text-tracking);margin:0}.cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mdc-text-button-label-text-color: inherit;--mdc-outlined-button-label-text-color: inherit}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height)}}"],encapsulation:2,changeDetection:0})}return n})(),$Ae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({imports:[yn,yn]})}return n})();const qAe=["list"],WAe=["profile"];function GAe(n,e){if(1&n&&(Ac(0),A(1,"button",18),Ae(2,"img",19),P(3),A(4,"mat-icon"),P(5,"expand_more"),k()(),Rc()),2&n){const t=ge(),i=_s(21);j(1),V("matMenuTriggerFor",i),j(1),V("src","assets/images/image-placeholder.png",Ia)("src",t.photoURL,Ia),j(1),Ao(" ",t.displayName," ")}}function KAe(n,e){if(1&n){const t=So();A(0,"button",20),ue("click",function(r){return an(t),ln(ge().showLoginScreenCall(r))}),A(1,"mat-icon"),P(2,"login"),k(),P(3," Login "),k()}}function YAe(n,e){if(1&n){const t=So();A(0,"app-notes-list",21,22),ue("showDetailsScreenCall",function(r){return an(t),ln(ge().showDetailsScreenCall(r))}),k()}2&n&&wi("display",ge().showListScreen?"block":"none")}let QAe=(()=>{class n{constructor(t,i,r,o){this.notesService=t,this.authService=i,this.usersService=r,this.router=o,this.hideSideNav=!1,this.title="Note App",this.displayName="",this.photoURL="/assets/images/image-placeholder.png",this.noteListClicked=new ve,this.showListScreen=!1,this.showDetailsScreen=!1,this.showLoginScreen=!0,this.showSignUpScreen=!1,this.showProfileScreen=!1}ngOnInit(){this.notesService.showHideSubscription.subscribe(()=>{this.hideSideNav=!this.hideSideNav})}showDetailsScreenCall(t){this.showListScreen=!1,this.showDetailsScreen=!0}showListScreenCall(t){this.showListScreen=!0,this.showDetailsScreen=!1,this.showLoginScreen=!1,this.showProfileScreen=!1,this.noteListClicked.emit(),this.NotesListComponent.click();const r=iv().currentUser;null!=r&&null!=r.displayName&&(this.displayName=r.displayName,r.photoURL&&(this.photoURL=r.photoURL))}showSignUpScreenCall(t){this.showListScreen=!1,this.showDetailsScreen=!1,this.showLoginScreen=!1,this.showSignUpScreen=!0,this.showProfileScreen=!1}showLoginScreenCall(t){this.showListScreen=!1,this.showDetailsScreen=!1,this.showLoginScreen=!0,this.showSignUpScreen=!1,this.displayName="",this.showProfileScreen=!1}showProfileScreenCall(t){this.ProfileComponent.loadUser(),this.showListScreen=!1,this.showDetailsScreen=!1,this.showLoginScreen=!1,this.showSignUpScreen=!1,this.showProfileScreen=!0}logout(){this.authService.logout().subscribe(()=>{this.router.navigate(["/"])})}static#e=this.\u0275fac=function(i){return new(i||n)(y(Em),y(ov),y(EM),y(On))};static#t=this.\u0275cmp=$e({type:n,selectors:[["app-root"]],viewQuery:function(i,r){if(1&i&&(Nn(qAe,5),Nn(WAe,5)),2&i){let o;Xe(o=Ze())&&(r.NotesListComponent=o.first),Xe(o=Ze())&&(r.ProfileComponent=o.first)}},outputs:{noteListClicked:"noteListClicked"},decls:30,vars:13,consts:[[4,"ngIf","ngIfElse"],["loginButton",""],[1,"content"],[3,"showListScreenCall","showSignUpScreenCall"],["login",""],[3,"showLoginScreenCall"],["signup",""],[1,"app-container"],[1,"main-container"],[3,"display","showDetailsScreenCall",4,"ngIf"],[3,"showListScreenCall"],["detail",""],["profile",""],["userMenu","matMenu"],["mat-menu-item","","routerLink","/profile",2,"background-color","black","color","white",3,"click"],["width","20","height","20",1,"profile-image-toolbar",3,"src"],["mat-menu-item","",2,"background-color","black","color","white",3,"click"],[2,"background-color","rgb(0, 0, 0)","color","white"],["mat-button","",3,"matMenuTriggerFor"],["width","30","height","30",1,"profile-image-toolbar",3,"src"],["mat-button","","routerLink","login",3,"click"],[3,"showDetailsScreenCall"],["list",""]],template:function(i,r){if(1&i&&(A(0,"div")(1,"mat-toolbar"),P(2," Note "),ne(3,GAe,6,4,"ng-container",0),ne(4,KAe,4,0,"ng-template",null,1,Eh),k(),A(6,"div",2)(7,"app-login",3,4),ue("showListScreenCall",function(s){return r.showListScreenCall(s)})("showSignUpScreenCall",function(s){return r.showSignUpScreenCall(s)}),k()(),A(9,"div",2)(10,"app-sign-up",5,6),ue("showLoginScreenCall",function(s){return r.showLoginScreenCall(s)}),k()(),A(12,"div",7)(13,"div",8),ne(14,YAe,2,2,"app-notes-list",9),A(15,"app-note-detail",10,11),ue("showListScreenCall",function(s){return r.showListScreenCall(s)}),k()()(),A(17,"div",2)(18,"app-profile",10,12),ue("showListScreenCall",function(s){return r.showListScreenCall(s)}),k()(),A(20,"mat-menu",null,13)(22,"button",14),ue("click",function(s){return r.showProfileScreenCall(s)}),A(23,"mat-icon"),Ae(24,"img",15),k(),P(25," Profile "),k(),A(26,"button",16),ue("click",function(s){return r.showLoginScreenCall(s)}),A(27,"mat-icon",17),P(28,"logout"),k(),P(29," Logout "),k()()()),2&i){const o=_s(5);j(3),V("ngIf",r.displayName)("ngIfElse",o),j(4),wi("display",r.showLoginScreen?"block":"none"),j(3),wi("display",r.showSignUpScreen?"block":"none"),j(4),V("ngIf",!r.hideSideNav),j(1),wi("display",r.showDetailsScreen?"block":"none"),j(3),wi("display",r.showProfileScreen?"block":"none"),j(6),V("src","assets/images/image-placeholder.png",Ia)("src",r.photoURL,Ia)}},dependencies:[Wr,sT,Sy,NAe,Ew,VAe,zAe,lv,s8,o8,cv,iG,ww],styles:["mat-toolbar[_ngcontent-%COMP%]{justify-content:space-between;background-color:#000;color:#fff}.content[_ngcontent-%COMP%]{padding:32px}.profile-image-toolbar[_ngcontent-%COMP%]{border-radius:100%;margin-right:8px}"]})}return n})();function i9(n){return new T(3e3,!1)}function da(n){switch(n.length){case 0:return new Jh;case 1:return n[0];default:return new Zj(n)}}function r9(n,e,t=new Map,i=new Map){const r=[],o=[];let s=-1,a=null;if(e.forEach(l=>{const c=l.get("offset"),u=c==s,d=u&&a||new Map;l.forEach((h,f)=>{let p=f,m=h;if("offset"!==f)switch(p=n.normalizePropertyName(p,r),m){case"!":m=t.get(f);break;case Vo:m=i.get(f);break;default:m=n.normalizeStyleValue(f,p,m,r)}d.set(p,m)}),u||o.push(d),a=d,s=c}),r.length)throw function vRe(n){return new T(3502,!1)}();return o}function QP(n,e,t,i){switch(e){case"start":n.onStart(()=>i(t&&XP(t,"start",n)));break;case"done":n.onDone(()=>i(t&&XP(t,"done",n)));break;case"destroy":n.onDestroy(()=>i(t&&XP(t,"destroy",n)))}}function XP(n,e,t){const o=ZP(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),s=n._data;return null!=s&&(o._data=s),o}function ZP(n,e,t,i,r="",o=0,s){return{element:n,triggerName:e,fromState:t,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Ki(n,e,t){let i=n.get(e);return i||n.set(e,i=t),i}function o9(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const MRe=(()=>typeof document>"u"?null:document.documentElement)();function JP(n){const e=n.parentNode||n.host||null;return e===MRe?null:e}let kl=null,s9=!1;function a9(n,e){for(;e;){if(e===n)return!0;e=JP(e)}return!1}function l9(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const i=n.querySelector(e);return i?[i]:[]}let c9=(()=>{class n{validateStyleProperty(t){return function kRe(n){kl||(kl=function NRe(){return typeof document<"u"?document.body:null}()||{},s9=!!kl.style&&"WebkitAppearance"in kl.style);let e=!0;return kl.style&&!function PRe(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in kl.style,!e&&s9&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in kl.style)),e}(t)}matchesElement(t,i){return!1}containsElement(t,i){return a9(t,i)}getParentElement(t){return JP(t)}query(t,i,r){return l9(t,i,r)}computeStyle(t,i,r){return r||""}animate(t,i,r,o,s,a=[],l){return new Jh(r,o)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})(),ek=(()=>{class n{static#e=this.NOOP=new c9}return n})();const ORe=1e3,tk="ng-enter",Cw="ng-leave",Tw="ng-trigger",xw=".ng-trigger",d9="ng-animating",nk=".ng-animating";function ss(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:ik(parseFloat(e[1]),e[2])}function ik(n,e){return"s"===e?n*ORe:n}function Dw(n,e,t){return n.hasOwnProperty("duration")?n:function LRe(n,e,t){let r,o=0,s="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(i9()),{duration:0,delay:0,easing:""};r=ik(parseFloat(a[1]),a[2]);const l=a[3];null!=l&&(o=ik(parseFloat(l),a[4]));const c=a[5];c&&(s=c)}else r=n;if(!t){let a=!1,l=e.length;r<0&&(e.push(function XAe(){return new T(3100,!1)}()),a=!0),o<0&&(e.push(function ZAe(){return new T(3101,!1)}()),a=!0),a&&e.splice(l,0,i9())}return{duration:r,delay:o,easing:s}}(n,e,t)}function Sm(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function h9(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function ha(n,e=new Map,t){if(t)for(let[i,r]of t)e.set(i,r);for(let[i,r]of n)e.set(i,r);return e}function go(n,e,t){e.forEach((i,r)=>{const o=ok(r);t&&!t.has(r)&&t.set(r,n.style[o]),n.style[o]=i})}function Nl(n,e){e.forEach((t,i)=>{const r=ok(i);n.style[r]=""})}function Am(n){return Array.isArray(n)?1==n.length?n[0]:Xj(n):n}const rk=new RegExp("{{\\s*(.+?)\\s*}}","g");function p9(n){let e=[];if("string"==typeof n){let t;for(;t=rk.exec(n);)e.push(t[1]);rk.lastIndex=0}return e}function Rm(n,e,t){const i=n.toString(),r=i.replace(rk,(o,s)=>{let a=e[s];return null==a&&(t.push(function eRe(n){return new T(3003,!1)}()),a=""),a.toString()});return r==i?n:r}function Sw(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const URe=/-+([a-z0-9])/g;function ok(n){return n.replace(URe,(...e)=>e[1].toUpperCase())}function Yi(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function tRe(n){return new T(3004,!1)}()}}function m9(n,e){return window.getComputedStyle(n)[e]}const Aw="*";function zRe(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(i=>function $Re(n,e,t){if(":"==n[0]){const l=function qRe(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,i)=>parseFloat(i)>parseFloat(t);case":decrement":return(t,i)=>parseFloat(i)<parseFloat(t);default:return e.push(function mRe(n){return new T(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof l)return void e.push(l);n=l}const i=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return t.push(function pRe(n){return new T(3015,!1)}()),e;const r=i[1],o=i[2],s=i[3];e.push(g9(r,s));"<"==o[0]&&!(r==Aw&&s==Aw)&&e.push(g9(s,r))}(i,t,e)):t.push(n),t}const Rw=new Set(["true","1"]),Mw=new Set(["false","0"]);function g9(n,e){const t=Rw.has(n)||Mw.has(n),i=Rw.has(e)||Mw.has(e);return(r,o)=>{let s=n==Aw||n==r,a=e==Aw||e==o;return!s&&t&&"boolean"==typeof r&&(s=r?Rw.has(n):Mw.has(n)),!a&&i&&"boolean"==typeof o&&(a=o?Rw.has(e):Mw.has(e)),s&&a}}const WRe=new RegExp("s*:selfs*,?","g");function sk(n,e,t,i){return new GRe(n).build(e,t,i)}class GRe{constructor(e){this._driver=e}build(e,t,i){const r=new QRe(t);return this._resetContextStyleTimingState(r),Yi(this,Am(e),r)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let i=t.queryCount=0,r=t.depCount=0;const o=[],s=[];return"@"==e.name.charAt(0)&&t.errors.push(function iRe(){return new T(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const l=a,c=l.name;c.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=c}else if(1==a.type){const l=this.visitTransition(a,t);i+=l.queryCount,r+=l.depCount,s.push(l)}else t.errors.push(function rRe(){return new T(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}visitState(e,t){const i=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(i.containsDynamicStyles){const o=new Set,s=r||{};i.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{p9(l).forEach(c=>{s.hasOwnProperty(c)||o.add(c)})})}),o.size&&(Sw(o.values()),t.errors.push(function oRe(n,e){return new T(3008,!1)}()))}return{type:0,name:e.name,style:i,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const i=Yi(this,Am(e.animation),t);return{type:1,matchers:zRe(e.expr,t.errors),animation:i,queryCount:t.queryCount,depCount:t.depCount,options:Ol(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(i=>Yi(this,i,t)),options:Ol(e.options)}}visitGroup(e,t){const i=t.currentTime;let r=0;const o=e.steps.map(s=>{t.currentTime=i;const a=Yi(this,s,t);return r=Math.max(r,t.currentTime),a});return t.currentTime=r,{type:3,steps:o,options:Ol(e.options)}}visitAnimate(e,t){const i=function ZRe(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return ak(Dw(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=ak(0,0,"");return o.dynamic=!0,o.strValue=t,o}const r=Dw(t,e);return ak(r.duration,r.delay,r.easing)}(e.timings,t.errors);t.currentAnimateTimings=i;let r,o=e.styles?e.styles:wr({});if(5==o.type)r=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;const c={};i.easing&&(c.easing=i.easing),s=wr(c)}t.currentTime+=i.duration+i.delay;const l=this.visitStyle(s,t);l.isEmptyStep=a,r=l}return t.currentAnimateTimings=null,{type:4,timings:i,style:r,options:null}}visitStyle(e,t){const i=this._makeStyleAst(e,t);return this._validateStyleAst(i,t),i}_makeStyleAst(e,t){const i=[],r=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of r)"string"==typeof a?a===Vo?i.push(a):t.errors.push(new T(3002,!1)):i.push(h9(a));let o=!1,s=null;return i.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let l of a.values())if(l.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:i,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const i=t.currentAnimateTimings;let r=t.currentTime,o=t.currentTime;i&&o>0&&(o-=i.duration+i.delay),e.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,l)=>{const c=t.collectedStyles.get(t.currentQuerySelector),u=c.get(l);let d=!0;u&&(o!=r&&o>=u.startTime&&r<=u.endTime&&(t.errors.push(function aRe(n,e,t,i,r){return new T(3010,!1)}()),d=!1),o=u.startTime),d&&c.set(l,{startTime:o,endTime:r}),t.options&&function BRe(n,e,t){const i=e.params||{},r=p9(n);r.length&&r.forEach(o=>{i.hasOwnProperty(o)||t.push(function JAe(n){return new T(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const i={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function lRe(){return new T(3011,!1)}()),i;let o=0;const s=[];let a=!1,l=!1,c=0;const u=e.steps.map(b=>{const _=this._makeStyleAst(b,t);let E=null!=_.offset?_.offset:function XRe(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const i=t;e=parseFloat(i.get("offset")),i.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(_.styles),x=0;return null!=E&&(o++,x=_.offset=E),l=l||x<0||x>1,a=a||x<c,c=x,s.push(x),_});l&&t.errors.push(function cRe(){return new T(3012,!1)}()),a&&t.errors.push(function uRe(){return new T(3200,!1)}());const d=e.steps.length;let h=0;o>0&&o<d?t.errors.push(function dRe(){return new T(3202,!1)}()):0==o&&(h=1/(d-1));const f=d-1,p=t.currentTime,m=t.currentAnimateTimings,g=m.duration;return u.forEach((b,_)=>{const E=h>0?_==f?1:h*_:s[_],x=E*g;t.currentTime=p+m.delay+x,m.duration=x,this._validateStyleAst(b,t),b.offset=E,i.styles.push(b)}),i}visitReference(e,t){return{type:8,animation:Yi(this,Am(e.animation),t),options:Ol(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Ol(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Ol(e.options)}}visitQuery(e,t){const i=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[o,s]=function KRe(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(WRe,"")),n=n.replace(/@\*/g,xw).replace(/@\w+/g,t=>xw+"-"+t.slice(1)).replace(/:animating/g,nk),[n,e]}(e.selector);t.currentQuerySelector=i.length?i+" "+o:o,Ki(t.collectedStyles,t.currentQuerySelector,new Map);const a=Yi(this,Am(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=i,{type:11,selector:o,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ol(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function hRe(){return new T(3013,!1)}());const i="full"===e.timings?{duration:0,delay:0,easing:"full"}:Dw(e.timings,t.errors,!0);return{type:12,animation:Yi(this,Am(e.animation),t),timings:i,options:null}}}class QRe{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ol(n){return n?(n=Sm(n)).params&&(n.params=function YRe(n){return n?Sm(n):null}(n.params)):n={},n}function ak(n,e,t){return{duration:n,delay:e,easing:t}}function lk(n,e,t,i,r,o,s=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class Pw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let i=this._map.get(e);i||this._map.set(e,i=[]),i.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const tMe=new RegExp(":enter","g"),iMe=new RegExp(":leave","g");function ck(n,e,t,i,r,o=new Map,s=new Map,a,l,c=[]){return(new rMe).buildKeyframes(n,e,t,i,r,o,s,a,l,c)}class rMe{buildKeyframes(e,t,i,r,o,s,a,l,c,u=[]){c=c||new Pw;const d=new uk(e,t,c,r,o,u,[]);d.options=l;const h=l.delay?ss(l.delay):0;d.currentTimeline.delayNextStep(h),d.currentTimeline.setStyles([s],null,d.errors,l),Yi(this,i,d);const f=d.timelines.filter(p=>p.containsAnimation());if(f.length&&a.size){let p;for(let m=f.length-1;m>=0;m--){const g=f[m];if(g.element===t){p=g;break}}p&&!p.allowOnlyTimelineStyles()&&p.setStyles([a],null,d.errors,l)}return f.length?f.map(p=>p.buildKeyframes()):[lk(t,[],[],[],0,h,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const i=t.subInstructions.get(t.element);if(i){const r=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(i,r,r.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){const i=t.createSubContext(e.options);i.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,i),this.visitReference(e.animation,i),t.transformIntoNewTimeline(i.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,i){for(const r of e){const o=r?.delay;if(o){const s="number"==typeof o?o:ss(Rm(o,r?.params??{},t.errors));i.delayNextStep(s)}}}_visitSubInstructions(e,t,i){let o=t.currentTimeline.currentTime;const s=null!=i.duration?ss(i.duration):null,a=null!=i.delay?ss(i.delay):null;return 0!==s&&e.forEach(l=>{const c=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,c.duration+c.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Yi(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const i=t.subContextCount;let r=t;const o=e.options;if(o&&(o.params||o.delay)&&(r=t.createSubContext(o),r.transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=kw);const s=ss(o.delay);r.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Yi(this,s,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const i=[];let r=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?ss(e.options.delay):0;e.steps.forEach(s=>{const a=t.createSubContext(e.options);o&&a.delayNextStep(o),Yi(this,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const i=e.strValue;return Dw(t.params?Rm(i,t.params,t.errors):i,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const i=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;i.delay&&(t.incrementTime(i.delay),r.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(i.duration),this.visitStyle(o,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const i=t.currentTimeline,r=t.currentAnimateTimings;!r&&i.hasCurrentStyleProperties()&&i.forwardFrame();const o=r&&r.easing||e.easing;e.isEmptyStep?i.applyEmptyStep(o):i.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const i=t.currentAnimateTimings,r=t.currentTimeline.duration,o=i.duration,a=t.createSubContext().currentTimeline;a.easing=i.easing,e.styles.forEach(l=>{a.forwardTime((l.offset||0)*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+o),t.previousNode=e}visitQuery(e,t){const i=t.currentTimeline.currentTime,r=e.options||{},o=r.delay?ss(r.delay):0;o&&(6===t.previousNode.type||0==i&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=kw);let s=i;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((c,u)=>{t.currentQueryIndex=u;const d=t.createSubContext(e.options,c);o&&d.delayNextStep(o),c===t.element&&(l=d.currentTimeline),Yi(this,e.animation,d),d.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,d.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const i=t.parentContext,r=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=i.currentStaggerTime}const u=t.currentTimeline;l&&u.delayNextStep(l);const d=u.currentTime;Yi(this,e.animation,t),t.previousNode=e,i.currentStaggerTime=r.currentTime-d+(r.startTime-i.currentTimeline.startTime)}}const kw={};class uk{constructor(e,t,i,r,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=kw,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new Nw(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const i=e;let r=this.options;null!=i.duration&&(r.duration=ss(i.duration)),null!=i.delay&&(r.delay=ss(i.delay));const o=i.params;if(o){let s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Rm(o[a],s,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const i=e.params={};Object.keys(t).forEach(r=>{i[r]=t[r]})}}return e}createSubContext(e=null,t,i){const r=t||this.element,o=new uk(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=kw,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,i){const r={duration:t??e.duration,delay:this.currentTimeline.currentTime+(i??0)+e.delay,easing:""},o=new oMe(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(o),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,i,r,o,s){let a=[];if(r&&a.push(this.element),e.length>0){e=(e=e.replace(tMe,"."+this._enterClassName)).replace(iMe,"."+this._leaveClassName);let c=this._driver.query(this.element,e,1!=i);0!==i&&(c=i<0?c.slice(c.length+i,c.length):c.slice(0,i)),a.push(...c)}return!o&&0==a.length&&s.push(function fRe(n){return new T(3014,!1)}()),a}}class Nw{constructor(e,t,i,r){this._driver=e,this.element=t,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Nw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,i]of this._globalTimelineStyles)this._backFill.set(t,i||Vo),this._currentKeyframe.set(t,Vo);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,i,r){t&&this._previousKeyframe.set("easing",t);const o=r&&r.params||{},s=function sMe(n,e){const t=new Map;let i;return n.forEach(r=>{if("*"===r){i=i||e.keys();for(let o of i)t.set(o,Vo)}else ha(r,t)}),t}(e,this._globalTimelineStyles);for(let[a,l]of s){const c=Rm(l,o,i);this._pendingStyles.set(a,c),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Vo),this._updateStyle(a,c)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,i)=>{const r=this._styleSummary.get(i);(!r||t.time>r.time)&&this._updateStyle(i,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,i=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((a,l)=>{const c=ha(a,new Map,this._backFill);c.forEach((u,d)=>{"!"===u?e.add(d):u===Vo&&t.add(d)}),i||c.set("offset",l/this.duration),r.push(c)});const o=e.size?Sw(e.values()):[],s=t.size?Sw(t.values()):[];if(i){const a=r[0],l=new Map(a);a.set("offset",0),l.set("offset",1),r=[a,l]}return lk(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}class oMe extends Nw{constructor(e,t,i,r,o,s,a=!1){super(e,t,s.delay),this.keyframes=i,this.preStyleProps=r,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:i,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=i+t,a=t/s,l=ha(e[0]);l.set("offset",0),o.push(l);const c=ha(e[0]);c.set("offset",v9(a)),o.push(c);const u=e.length-1;for(let d=1;d<=u;d++){let h=ha(e[d]);const f=h.get("offset");h.set("offset",v9((t+f*i)/s)),o.push(h)}i=s,t=0,r="",e=o}return lk(this.element,e,this.preStyleProps,this.postStyleProps,i,t,r,!0)}}function v9(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class dk{}const aMe=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class lMe extends dk{normalizePropertyName(e,t){return ok(e)}normalizeStyleValue(e,t,i,r){let o="";const s=i.toString().trim();if(aMe.has(t)&&0!==i&&"0"!==i)if("number"==typeof i)o="px";else{const a=i.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&r.push(function nRe(n,e){return new T(3005,!1)}())}return s+o}}function b9(n,e,t,i,r,o,s,a,l,c,u,d,h){return{type:0,element:n,triggerName:e,isRemovalTransition:r,fromState:t,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:d,errors:h}}const hk={};class w9{constructor(e,t,i){this._triggerName=e,this.ast=t,this._stateStyles=i}match(e,t,i,r){return function cMe(n,e,t,i,r){return n.some(o=>o(e,t,i,r))}(this.ast.matchers,e,t,i,r)}buildStyles(e,t,i){let r=this._stateStyles.get("*");return void 0!==e&&(r=this._stateStyles.get(e?.toString())||r),r?r.buildStyles(t,i):new Map}build(e,t,i,r,o,s,a,l,c,u){const d=[],h=this.ast.options&&this.ast.options.params||hk,p=this.buildStyles(i,a&&a.params||hk,d),m=l&&l.params||hk,g=this.buildStyles(r,m,d),b=new Set,_=new Map,E=new Map,x="void"===r,L={params:uMe(m,h),delay:this.ast.options?.delay},W=u?[]:ck(e,t,this.ast.animation,o,s,p,g,L,c,d);let ee=0;if(W.forEach(Ft=>{ee=Math.max(Ft.duration+Ft.delay,ee)}),d.length)return b9(t,this._triggerName,i,r,x,p,g,[],[],_,E,ee,d);W.forEach(Ft=>{const Zn=Ft.element,Vw=Ki(_,Zn,new Set);Ft.preStyleProps.forEach(Fl=>Vw.add(Fl));const Pm=Ki(E,Zn,new Set);Ft.postStyleProps.forEach(Fl=>Pm.add(Fl)),Zn!==t&&b.add(Zn)});const ke=Sw(b.values());return b9(t,this._triggerName,i,r,x,p,g,W,ke,_,E,ee)}}function uMe(n,e){const t=Sm(e);for(const i in n)n.hasOwnProperty(i)&&null!=n[i]&&(t[i]=n[i]);return t}class dMe{constructor(e,t,i){this.styles=e,this.defaultParams=t,this.normalizer=i}buildStyles(e,t){const i=new Map,r=Sm(this.defaultParams);return Object.keys(e).forEach(o=>{const s=e[o];null!==s&&(r[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Rm(s,r,t));const l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),i.set(a,s)})}),i}}class fMe{constructor(e,t,i){this.name=e,this.ast=t,this._normalizer=i,this.transitionFactories=[],this.states=new Map,t.states.forEach(r=>{this.states.set(r.name,new dMe(r.style,r.options&&r.options.params||{},i))}),E9(this.states,"true","1"),E9(this.states,"false","0"),t.transitions.forEach(r=>{this.transitionFactories.push(new w9(e,r,this.states))}),this.fallbackTransition=function pMe(n,e,t){return new w9(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,i,r){return this.transitionFactories.find(s=>s.match(e,t,i,r))||null}matchStyles(e,t,i){return this.fallbackTransition.buildStyles(e,t,i)}}function E9(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const mMe=new Pw;class gMe{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const i=[],o=sk(this._driver,t,i,[]);if(i.length)throw function bRe(n){return new T(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,i){const r=e.element,o=r9(this._normalizer,e.keyframes,t,i);return this._driver.animate(r,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,i={}){const r=[],o=this._animations.get(e);let s;const a=new Map;if(o?(s=ck(this._driver,t,o,tk,Cw,new Map,new Map,i,mMe,r),s.forEach(u=>{const d=Ki(a,u.element,new Map);u.postStyleProps.forEach(h=>d.set(h,null))})):(r.push(function wRe(){return new T(3300,!1)}()),s=[]),r.length)throw function ERe(n){return new T(3504,!1)}();a.forEach((u,d)=>{u.forEach((h,f)=>{u.set(f,this._driver.computeStyle(d,f,Vo))})});const c=da(s.map(u=>{const d=a.get(u.element);return this._buildPlayer(u,new Map,d)}));return this._playersById.set(e,c),c.onDestroy(()=>this.destroy(e)),this.players.push(c),c}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const i=this.players.indexOf(t);i>=0&&this.players.splice(i,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function IRe(n){return new T(3301,!1)}();return t}listen(e,t,i,r){const o=ZP(t,"","","");return QP(this._getPlayer(e),i,o,r),()=>{}}command(e,t,i,r){if("register"==i)return void this.register(e,r[0]);if("create"==i)return void this.create(e,t,r[0]||{});const o=this._getPlayer(e);switch(i){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const I9="ng-animate-queued",fk="ng-animate-disabled",wMe=[],C9={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},EMe={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mr="__ng_removed";class pk{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const i=e&&e.hasOwnProperty("value");if(this.value=function xMe(n){return n??null}(i?e.value:e),i){const o=Sm(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const i=this.options.params;Object.keys(t).forEach(r=>{null==i[r]&&(i[r]=t[r])})}}}const Mm="void",mk=new pk(Mm);class IMe{constructor(e,t,i){this.id=e,this.hostElement=t,this._engine=i,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,dr(t,this._hostClassName)}listen(e,t,i,r){if(!this._triggers.has(t))throw function CRe(n,e){return new T(3302,!1)}();if(null==i||0==i.length)throw function TRe(n){return new T(3303,!1)}();if(!function DMe(n){return"start"==n||"done"==n}(i))throw function xRe(n,e){return new T(3400,!1)}();const o=Ki(this._elementListeners,e,[]),s={name:t,phase:i,callback:r};o.push(s);const a=Ki(this._engine.statesByElement,e,new Map);return a.has(t)||(dr(e,Tw),dr(e,Tw+"-"+t),a.set(t,mk)),()=>{this._engine.afterFlush(()=>{const l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function DRe(n){return new T(3401,!1)}();return t}trigger(e,t,i,r=!0){const o=this._getTrigger(t),s=new gk(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(dr(e,Tw),dr(e,Tw+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t);const c=new pk(i,this.id);if(!(i&&i.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),a.set(t,c),l||(l=mk),c.value!==Mm&&l.value===c.value){if(!function RMe(n,e){const t=Object.keys(n),i=Object.keys(e);if(t.length!=i.length)return!1;for(let r=0;r<t.length;r++){const o=t[r];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(l.params,c.params)){const m=[],g=o.matchStyles(l.value,l.params,m),b=o.matchStyles(c.value,c.params,m);m.length?this._engine.reportError(m):this._engine.afterFlush(()=>{Nl(e,g),go(e,b)})}return}const h=Ki(this._engine.playersByElement,e,[]);h.forEach(m=>{m.namespaceId==this.id&&m.triggerName==t&&m.queued&&m.destroy()});let f=o.matchTransition(l.value,c.value,e,c.params),p=!1;if(!f){if(!r)return;f=o.fallbackTransition,p=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:f,fromState:l,toState:c,player:s,isFallbackTransition:p}),p||(dr(e,I9),s.onStart(()=>{bd(e,I9)})),s.onDone(()=>{let m=this.players.indexOf(s);m>=0&&this.players.splice(m,1);const g=this._engine.playersByElement.get(e);if(g){let b=g.indexOf(s);b>=0&&g.splice(b,1)}}),this.players.push(s),h.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,i)=>{this._elementListeners.set(i,t.filter(r=>r.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(i=>i.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const i=this._engine.driver.query(e,xw,!0);i.forEach(r=>{if(r[Mr])return;const o=this._engine.fetchNamespacesByElement(r);o.size?o.forEach(s=>s.triggerLeaveAnimation(r,t,!1,!0)):this.clearElementCache(r)}),this._engine.afterFlushAnimationsDone(()=>i.forEach(r=>this.clearElementCache(r)))}triggerLeaveAnimation(e,t,i,r){const o=this._engine.statesByElement.get(e),s=new Map;if(o){const a=[];if(o.forEach((l,c)=>{if(s.set(c,l.value),this._triggers.has(c)){const u=this.trigger(e,c,Mm,r);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),i&&da(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),i=this._engine.statesByElement.get(e);if(t&&i){const r=new Set;t.forEach(o=>{const s=o.name;if(r.has(s))return;r.add(s);const l=this._triggers.get(s).fallbackTransition,c=i.get(s)||mk,u=new pk(Mm),d=new gk(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:c,toState:u,player:d,isFallbackTransition:!0})})}}removeNode(e,t){const i=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(i.totalAnimations){const o=i.players.length?i.playersByQueriedElement.get(e):[];if(o&&o.length)r=!0;else{let s=e;for(;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)i.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Mr];(!o||o===C9)&&(i.afterFlush(()=>this.clearElementCache(e)),i.destroyInnerAnimations(e),i._onRemovalComplete(e,t))}}insertNode(e,t){dr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(i=>{const r=i.player;if(r.destroyed)return;const o=i.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==i.triggerName){const l=ZP(o,i.triggerName,i.fromState.value,i.toState.value);l._data=e,QP(i.player,a.phase,l,a.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(i)}),this._queue=[],t.sort((i,r)=>{const o=i.transition.ast.depCount,s=r.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(i.element,r.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class CMe{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,i){this.bodyNode=e,this.driver=t,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(r,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(i=>{i.queued&&e.push(i)})}),e}createNamespace(e,t){const i=new IMe(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(i,t):(this.newHostElements.set(t,i),this.collectEnterElement(t)),this._namespaceLookup[e]=i}_balanceNamespaceList(e,t){const i=this._namespaceList,r=this.namespacesByHostElement;if(i.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const l=r.get(a);if(l){const c=i.indexOf(l);i.splice(c+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||i.unshift(e)}else i.push(e);return r.set(t,e),e}register(e,t){let i=this._namespaceLookup[e];return i||(i=this.createNamespace(e,t)),i}registerTrigger(e,t,i){let r=this._namespaceLookup[e];r&&r.register(t,i)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const i=this._fetchNamespace(e);this.namespacesByHostElement.delete(i.hostElement);const r=this._namespaceList.indexOf(i);r>=0&&this._namespaceList.splice(r,1),i.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,i=this.statesByElement.get(e);if(i)for(let r of i.values())if(r.namespaceId){const o=this._fetchNamespace(r.namespaceId);o&&t.add(o)}return t}trigger(e,t,i,r){if(Ow(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,i,r),!0}return!1}insertNode(e,t,i,r){if(!Ow(t))return;const o=t[Mr];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,i)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),dr(e,fk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),bd(e,fk))}removeNode(e,t,i){if(Ow(t)){const r=e?this._fetchNamespace(e):null;r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i);const o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,i)}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,i,r,o){this.collectedLeaveElements.push(t),t[Mr]={namespaceId:e,setForRemoval:r,hasAnimation:i,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,i,r,o){return Ow(t)?this._fetchNamespace(e).listen(t,i,r,o):()=>{}}_buildInstruction(e,t,i,r,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,i,r,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,xw,!0);t.forEach(i=>this.destroyActiveAnimationsForElement(i)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,nk,!0),t.forEach(i=>this.finishActiveQueriedAnimationOnElement(i)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(i=>{i.queued?i.markedForDestroy=!0:i.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(i=>i.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return da(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Mr];if(t&&t.setForRemoval){if(e[Mr]=C9,t.namespaceId){this.destroyInnerAnimations(e);const i=this._fetchNamespace(t.namespaceId);i&&i.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(fk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(i=>{this.markElementAsDisabled(i,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((i,r)=>this._balanceNamespaceList(i,r)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let i=0;i<this.collectedEnterElements.length;i++)dr(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const i=[];try{t=this._flushAnimations(i,e)}finally{for(let r=0;r<i.length;r++)i[r]()}}else for(let i=0;i<this.collectedLeaveElements.length;i++)this.processLeaveNode(this.collectedLeaveElements[i]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(i=>i()),this._flushFns=[],this._whenQuietFns.length){const i=this._whenQuietFns;this._whenQuietFns=[],t.length?da(t).onDone(()=>{i.forEach(r=>r())}):i.forEach(r=>r())}}reportError(e){throw function SRe(n){return new T(3402,!1)}()}_flushAnimations(e,t){const i=new Pw,r=[],o=new Map,s=[],a=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach(K=>{u.add(K);const J=this.driver.query(K,".ng-animate-queued",!0);for(let ie=0;ie<J.length;ie++)u.add(J[ie])});const d=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=D9(h,this.collectedEnterElements),p=new Map;let m=0;f.forEach((K,J)=>{const ie=tk+m++;p.set(J,ie),K.forEach(Ue=>dr(Ue,ie))});const g=[],b=new Set,_=new Set;for(let K=0;K<this.collectedLeaveElements.length;K++){const J=this.collectedLeaveElements[K],ie=J[Mr];ie&&ie.setForRemoval&&(g.push(J),b.add(J),ie.hasAnimation?this.driver.query(J,".ng-star-inserted",!0).forEach(Ue=>b.add(Ue)):_.add(J))}const E=new Map,x=D9(h,Array.from(b));x.forEach((K,J)=>{const ie=Cw+m++;E.set(J,ie),K.forEach(Ue=>dr(Ue,ie))}),e.push(()=>{f.forEach((K,J)=>{const ie=p.get(J);K.forEach(Ue=>bd(Ue,ie))}),x.forEach((K,J)=>{const ie=E.get(J);K.forEach(Ue=>bd(Ue,ie))}),g.forEach(K=>{this.processLeaveNode(K)})});const L=[],W=[];for(let K=this._namespaceList.length-1;K>=0;K--)this._namespaceList[K].drainQueuedTransitions(t).forEach(ie=>{const Ue=ie.player,Sn=ie.element;if(L.push(Ue),this.collectedEnterElements.length){const Jn=Sn[Mr];if(Jn&&Jn.setForMove){if(Jn.previousTriggersValues&&Jn.previousTriggersValues.has(ie.triggerName)){const Ll=Jn.previousTriggersValues.get(ie.triggerName),hr=this.statesByElement.get(ie.element);if(hr&&hr.has(ie.triggerName)){const Bw=hr.get(ie.triggerName);Bw.value=Ll,hr.set(ie.triggerName,Bw)}}return void Ue.destroy()}}const _o=!d||!this.driver.containsElement(d,Sn),Qi=E.get(Sn),fa=p.get(Sn),Lt=this._buildInstruction(ie,i,fa,Qi,_o);if(Lt.errors&&Lt.errors.length)return void W.push(Lt);if(_o)return Ue.onStart(()=>Nl(Sn,Lt.fromStyles)),Ue.onDestroy(()=>go(Sn,Lt.toStyles)),void r.push(Ue);if(ie.isFallbackTransition)return Ue.onStart(()=>Nl(Sn,Lt.fromStyles)),Ue.onDestroy(()=>go(Sn,Lt.toStyles)),void r.push(Ue);const V9=[];Lt.timelines.forEach(Jn=>{Jn.stretchStartingKeyframe=!0,this.disabledNodes.has(Jn.element)||V9.push(Jn)}),Lt.timelines=V9,i.append(Sn,Lt.timelines),s.push({instruction:Lt,player:Ue,element:Sn}),Lt.queriedElements.forEach(Jn=>Ki(a,Jn,[]).push(Ue)),Lt.preStyleProps.forEach((Jn,Ll)=>{if(Jn.size){let hr=l.get(Ll);hr||l.set(Ll,hr=new Set),Jn.forEach((Bw,vk)=>hr.add(vk))}}),Lt.postStyleProps.forEach((Jn,Ll)=>{let hr=c.get(Ll);hr||c.set(Ll,hr=new Set),Jn.forEach((Bw,vk)=>hr.add(vk))})});if(W.length){const K=[];W.forEach(J=>{K.push(function ARe(n,e){return new T(3505,!1)}())}),L.forEach(J=>J.destroy()),this.reportError(K)}const ee=new Map,ke=new Map;s.forEach(K=>{const J=K.element;i.has(J)&&(ke.set(J,J),this._beforeAnimationBuild(K.player.namespaceId,K.instruction,ee))}),r.forEach(K=>{const J=K.element;this._getPreviousPlayers(J,!1,K.namespaceId,K.triggerName,null).forEach(Ue=>{Ki(ee,J,[]).push(Ue),Ue.destroy()})});const Ft=g.filter(K=>A9(K,l,c)),Zn=new Map;x9(Zn,this.driver,_,c,Vo).forEach(K=>{A9(K,l,c)&&Ft.push(K)});const Pm=new Map;f.forEach((K,J)=>{x9(Pm,this.driver,new Set(K),l,"!")}),Ft.forEach(K=>{const J=Zn.get(K),ie=Pm.get(K);Zn.set(K,new Map([...J?.entries()??[],...ie?.entries()??[]]))});const Fl=[],F9=[],L9={};s.forEach(K=>{const{element:J,player:ie,instruction:Ue}=K;if(i.has(J)){if(u.has(J))return ie.onDestroy(()=>go(J,Ue.toStyles)),ie.disabled=!0,ie.overrideTotalTime(Ue.totalTime),void r.push(ie);let Sn=L9;if(ke.size>1){let Qi=J;const fa=[];for(;Qi=Qi.parentNode;){const Lt=ke.get(Qi);if(Lt){Sn=Lt;break}fa.push(Qi)}fa.forEach(Lt=>ke.set(Lt,Sn))}const _o=this._buildAnimation(ie.namespaceId,Ue,ee,o,Pm,Zn);if(ie.setRealPlayer(_o),Sn===L9)Fl.push(ie);else{const Qi=this.playersByElement.get(Sn);Qi&&Qi.length&&(ie.parentPlayer=da(Qi)),r.push(ie)}}else Nl(J,Ue.fromStyles),ie.onDestroy(()=>go(J,Ue.toStyles)),F9.push(ie),u.has(J)&&r.push(ie)}),F9.forEach(K=>{const J=o.get(K.element);if(J&&J.length){const ie=da(J);K.setRealPlayer(ie)}}),r.forEach(K=>{K.parentPlayer?K.syncPlayerEvents(K.parentPlayer):K.destroy()});for(let K=0;K<g.length;K++){const J=g[K],ie=J[Mr];if(bd(J,Cw),ie&&ie.hasAnimation)continue;let Ue=[];if(a.size){let _o=a.get(J);_o&&_o.length&&Ue.push(..._o);let Qi=this.driver.query(J,nk,!0);for(let fa=0;fa<Qi.length;fa++){let Lt=a.get(Qi[fa]);Lt&&Lt.length&&Ue.push(...Lt)}}const Sn=Ue.filter(_o=>!_o.destroyed);Sn.length?SMe(this,J,Sn):this.processLeaveNode(J)}return g.length=0,Fl.forEach(K=>{this.players.push(K),K.onDone(()=>{K.destroy();const J=this.players.indexOf(K);this.players.splice(J,1)}),K.play()}),Fl}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,i,r,o){let s=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(s=a)}else{const a=this.playersByElement.get(e);if(a){const l=!o||o==Mm;a.forEach(c=>{c.queued||!l&&c.triggerName!=r||s.push(c)})}}return(i||r)&&(s=s.filter(a=>!(i&&i!=a.namespaceId||r&&r!=a.triggerName))),s}_beforeAnimationBuild(e,t,i){const o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const l of t.timelines){const c=l.element,u=c!==o,d=Ki(i,c,[]);this._getPreviousPlayers(c,u,s,a,t.toState).forEach(f=>{const p=f.getRealPlayer();p.beforeDestroy&&p.beforeDestroy(),f.destroy(),d.push(f)})}Nl(o,t.fromStyles)}_buildAnimation(e,t,i,r,o,s){const a=t.triggerName,l=t.element,c=[],u=new Set,d=new Set,h=t.timelines.map(p=>{const m=p.element;u.add(m);const g=m[Mr];if(g&&g.removedBeforeQueried)return new Jh(p.duration,p.delay);const b=m!==l,_=function AMe(n){const e=[];return S9(n,e),e}((i.get(m)||wMe).map(ee=>ee.getRealPlayer())).filter(ee=>!!ee.element&&ee.element===m),E=o.get(m),x=s.get(m),L=r9(this._normalizer,p.keyframes,E,x),W=this._buildPlayer(p,L,_);if(p.subTimeline&&r&&d.add(m),b){const ee=new gk(e,a,m);ee.setRealPlayer(W),c.push(ee)}return W});c.forEach(p=>{Ki(this.playersByQueriedElement,p.element,[]).push(p),p.onDone(()=>function TMe(n,e,t){let i=n.get(e);if(i){if(i.length){const r=i.indexOf(t);i.splice(r,1)}0==i.length&&n.delete(e)}return i}(this.playersByQueriedElement,p.element,p))}),u.forEach(p=>dr(p,d9));const f=da(h);return f.onDestroy(()=>{u.forEach(p=>bd(p,d9)),go(l,t.toStyles)}),d.forEach(p=>{Ki(r,p,[]).push(f)}),f}_buildPlayer(e,t,i){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,i):new Jh(e.duration,e.delay)}}class gk{constructor(e,t,i){this.namespaceId=e,this.triggerName=t,this.element=i,this._player=new Jh,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,i)=>{t.forEach(r=>QP(e,i,void 0,r))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ki(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ow(n){return n&&1===n.nodeType}function T9(n,e){const t=n.style.display;return n.style.display=e??"none",t}function x9(n,e,t,i,r){const o=[];t.forEach(l=>o.push(T9(l)));const s=[];i.forEach((l,c)=>{const u=new Map;l.forEach(d=>{const h=e.computeStyle(c,d,r);u.set(d,h),(!h||0==h.length)&&(c[Mr]=EMe,s.push(c))}),n.set(c,u)});let a=0;return t.forEach(l=>T9(l,o[a++])),s}function D9(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const r=new Set(e),o=new Map;function s(a){if(!a)return 1;let l=o.get(a);if(l)return l;const c=a.parentNode;return l=t.has(c)?c:r.has(c)?1:s(c),o.set(a,l),l}return e.forEach(a=>{const l=s(a);1!==l&&t.get(l).push(a)}),t}function dr(n,e){n.classList?.add(e)}function bd(n,e){n.classList?.remove(e)}function SMe(n,e,t){da(t).onDone(()=>n.processLeaveNode(e))}function S9(n,e){for(let t=0;t<n.length;t++){const i=n[t];i instanceof Zj?S9(i.players,e):e.push(i)}}function A9(n,e,t){const i=t.get(n);if(!i)return!1;let r=e.get(n);return r?i.forEach(o=>r.add(o)):e.set(n,i),t.delete(n),!0}class Fw{constructor(e,t,i){this.bodyNode=e,this._driver=t,this._normalizer=i,this._triggerCache={},this.onRemovalComplete=(r,o)=>{},this._transitionEngine=new CMe(e,t,i),this._timelineEngine=new gMe(e,t,i),this._transitionEngine.onRemovalComplete=(r,o)=>this.onRemovalComplete(r,o)}registerTrigger(e,t,i,r,o){const s=e+"-"+r;let a=this._triggerCache[s];if(!a){const l=[],u=sk(this._driver,o,l,[]);if(l.length)throw function yRe(n,e){return new T(3404,!1)}();a=function hMe(n,e,t){return new fMe(n,e,t)}(r,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,r,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,i,r){this._transitionEngine.insertNode(e,t,i,r)}onRemove(e,t,i){this._transitionEngine.removeNode(e,t,i)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,i,r){if("@"==i.charAt(0)){const[o,s]=o9(i);this._timelineEngine.command(o,t,s,r)}else this._transitionEngine.trigger(e,t,i,r)}listen(e,t,i,r,o){if("@"==i.charAt(0)){const[s,a]=o9(i);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,i,r,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let PMe=(()=>{class n{static#e=this.initialStylesByElement=new WeakMap;constructor(t,i,r){this._element=t,this._startStyles=i,this._endStyles=r,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&go(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(go(this._element,this._initialStyles),this._endStyles&&(go(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Nl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Nl(this._element,this._endStyles),this._endStyles=null),go(this._element,this._initialStyles),this._state=3)}}return n})();function _k(n){let e=null;return n.forEach((t,i)=>{(function kMe(n){return"display"===n||"position"===n})(i)&&(e=e||new Map,e.set(i,t))}),e}class R9{constructor(e,t,i,r){this.element=e,this.keyframes=t,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(i=>{t.push(Object.fromEntries(i))}),t}_triggerWebAnimation(e,t,i){return e.animate(this._convertKeyframesToObject(t),i)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((i,r)=>{"offset"!==r&&e.set(r,this._finished?i:m9(this.element,r))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(i=>i()),t.length=0}}class NMe{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return a9(e,t)}getParentElement(e){return JP(e)}query(e,t,i){return l9(e,t,i)}computeStyle(e,t,i){return window.getComputedStyle(e)[t]}animate(e,t,i,r,o,s=[]){const l={duration:i,delay:r,fill:0==r?"both":"forwards"};o&&(l.easing=o);const c=new Map,u=s.filter(f=>f instanceof R9);(function jRe(n,e){return 0===n||0===e})(i,r)&&u.forEach(f=>{f.currentSnapshot.forEach((p,m)=>c.set(m,p))});let d=function VRe(n){return n.length?n[0]instanceof Map?n:n.map(e=>h9(e)):[]}(t).map(f=>ha(f));d=function HRe(n,e,t){if(t.size&&e.length){let i=e[0],r=[];if(t.forEach((o,s)=>{i.has(s)||r.push(s),i.set(s,o)}),r.length)for(let o=1;o<e.length;o++){let s=e[o];r.forEach(a=>s.set(a,m9(n,a)))}}return e}(e,d,c);const h=function MMe(n,e){let t=null,i=null;return Array.isArray(e)&&e.length?(t=_k(e[0]),e.length>1&&(i=_k(e[e.length-1]))):e instanceof Map&&(t=_k(e)),t||i?new PMe(n,t,i):null}(e,d);return new R9(e,d,l,h)}}let OMe=(()=>{class n extends Qj{constructor(t,i){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ji.None,styles:[],data:{animation:[]}})}build(t){const i=this._nextAnimationId.toString();this._nextAnimationId++;const r=Array.isArray(t)?Xj(t):t;return M9(this._renderer,null,i,"register",[r]),new FMe(i,this._renderer)}static#e=this.\u0275fac=function(i){return new(i||n)(C(nh),C(we))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();class FMe extends Hce{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new LMe(this._id,e,t||{},this._renderer)}}class LMe{constructor(e,t,i,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return M9(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function M9(n,e,t,i,r){return n.setProperty(e,`@@${t}:${i}`,r)}const P9="@.disabled";let VMe=(()=>{class n{constructor(t,i,r){this.delegate=t,this.engine=i,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,i.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,i){const o=this.delegate.createRenderer(t,i);if(!(t&&i&&i.data&&i.data.animation)){let u=this._rendererCache.get(o);return u||(u=new k9("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,u)),u}const s=i.id,a=i.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const l=u=>{Array.isArray(u)?u.forEach(l):this.engine.registerTrigger(s,a,t,u.name,u)};return i.data.animation.forEach(l),new BMe(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,i,r){t>=0&&t<this._microtaskId?this._zone.run(()=>i(r)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([i,r]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static#e=this.\u0275fac=function(i){return new(i||n)(C(nh),C(Fw),C(Q))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();class k9{constructor(e,t,i,r){this.namespaceId=e,this.delegate=t,this.engine=i,this._onDestroy=r}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,i,r=!0){this.delegate.insertBefore(e,t,i),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,i){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,i,r){this.delegate.setAttribute(e,t,i,r)}removeAttribute(e,t,i){this.delegate.removeAttribute(e,t,i)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,i,r){this.delegate.setStyle(e,t,i,r)}removeStyle(e,t,i){this.delegate.removeStyle(e,t,i)}setProperty(e,t,i){"@"==t.charAt(0)&&t==P9?this.disableAnimations(e,!!i):this.delegate.setProperty(e,t,i)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,i){return this.delegate.listen(e,t,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class BMe extends k9{constructor(e,t,i,r,o){super(t,i,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,i){"@"==t.charAt(0)?"."==t.charAt(1)&&t==P9?this.disableAnimations(e,i=void 0===i||!!i):this.engine.process(this.namespaceId,e,t.slice(1),i):this.delegate.setProperty(e,t,i)}listen(e,t,i){if("@"==t.charAt(0)){const r=function UMe(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function jMe(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,r,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,i,a)})}return this.delegate.listen(e,t,i)}}let HMe=(()=>{class n extends Fw{constructor(t,i,r,o){super(t.body,i,r)}ngOnDestroy(){this.flush()}static#e=this.\u0275fac=function(i){return new(i||n)(C(we),C(ek),C(dk),C(Ro))};static#t=this.\u0275prov=N({token:n,factory:n.\u0275fac})}return n})();const N9=[{provide:Qj,useClass:OMe},{provide:dk,useFactory:function zMe(){return new lMe}},{provide:Fw,useClass:HMe},{provide:nh,useFactory:function $Me(n,e,t){return new VMe(n,e,t)},deps:[pC,Fw,Q]}],yk=[{provide:ek,useFactory:()=>new NMe},{provide:Br,useValue:"BrowserAnimations"},...N9],O9=[{provide:ek,useClass:c9},{provide:Br,useValue:"NoopAnimations"},...N9];let qMe=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?O9:yk}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n});static#n=this.\u0275inj=Ce({providers:yk,imports:[yB]})}return n})(),WMe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=De({type:n,bootstrap:[QAe]});static#n=this.\u0275inj=Ce({providers:[Em,fw],imports:[yB,iae,nce,rue,_le,gS,EAe,ove,rae,n9,$Ae,pve,qMe,ype(()=>vpe({projectId:"notes-ddc9d",appId:"1:500258118587:web:b15b187a0eec4ee288429e",databaseURL:"https://notes-ddc9d-default-rtdb.firebaseio.com",storageBucket:"notes-ddc9d.appspot.com",apiKey:"AIzaSyAKFneDcwoWpK0vnRDTMYSvYdrh5lh-UlM",authDomain:"notes-ddc9d.firebaseapp.com",messagingSenderId:"500258118587"})),E_e(()=>x_e()),I0e(()=>T0e()),oDe(()=>sDe()),fAe(()=>mAe()),pye.forRoot(),n9]})}return n})();Yoe().bootstrapModule(WMe).catch(n=>console.error(n))}},Ne=>{Ne(Ne.s=564)}]);